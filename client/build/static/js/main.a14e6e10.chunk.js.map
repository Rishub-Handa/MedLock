{"version":3,"sources":["icons/003-info.svg","components/nav/history.js","components/dashboard/DashIcon.js","actions/types.js","config/servers.js","auth/Auth.js","actions/profileActions.js","components/dashboard/DispenserCode.js","components/profile/PersonalInfo.js","components/profile/ProfileModule.js","components/profile/Profile.js","components/resources/Collapsible.js","components/resources/Resources.js","actions/authActions.js","auth/AuthManagement.js","components/SecuredRoute.js","components/dashboard/UserInfo.js","components/dashboard/AddDispenser.js","components/dashboard/DashHeader.js","components/nav/ModuleInfo.js","components/patientView/PersonalDataView.js","components/nav/sidebar/SideBarItem.js","components/nav/sidebar/ModuleLink.js","components/nav/sidebar/SideBar.js","actions/surveyActions.js","actions/dispenserActions.js","components/graphs/PDISurveyBar.js","components/graphs/DateTimeScatter.js","components/patientData/DataView.js","components/patientData/SummaryStats.js","components/patientData/PatientData.js","components/survey/PDISurvey.js","components/survey/QuestionTypes/MultChoice.js","components/survey/QuestionTypes/MultSelect.js","components/survey/QuestionTypes/TextInput.js","components/survey/QuestionTypes/NumInput.js","components/survey/IntakeSurvey.js","components/survey/Surveys.js","components/test/Dispenser.js","components/test/ServerEndpoints.js","components/myPatients/PatientListItem.js","components/myPatients/AddPatientForm.js","components/myPatients/PatientList.js","actions/patientActions.js","components/patientView/CheckIn.js","components/patientView/RawDataDisp.js","components/patientView/PatientView.js","components/users/UserListItem.js","components/users/UserList.js","components/myPatients/MyPatients.js","actions/clinicActions.js","components/dashboard/NewUser.js","components/dashboard/NewProvider.js","components/dashboard/Dashboard.js","actions/sideBarActions.js","components/Callback.js","components/home/Home.js","components/login/Login.js","actions/providerActions.js","components/administration/sections/patients/PatientSection.js","components/administration/sections/providers/ProviderSection.js","components/administration/sections/clinics/ClinicSection.js","components/administration/Admin.js","components/login/Register.js","App.js","serviceWorker.js","reducers/profileReducer.js","reducers/surveyReducer.js","reducers/dispenseReducer.js","reducers/authReducer.js","reducers/providerReducer.js","reducers/patientReducer.js","reducers/sideBarReducer.js","reducers/clinicReducer.js","reducers/rootReducer.js","store.js","index.js","icons/round-menu-24px.svg","icons/white-logo.png","components/profile/profile_pic.png","icons/round-timeline-24px.svg","components/profile/edit-profile.png","components/dashboard/profile_pic.png","icons/round-folder-24px.svg","icons/round-home-24px.svg","icons/round-person-24px.svg","icons/round-people-24px.svg"],"names":["module","exports","createBrowserHistory","DashIcon","route","e","ReactGA","event","category","action","props","name","label","history","replace","link","className","onClick","this","style","cursor","src","content","image","roles","description","Component","COLLAPSE_SIDEBAR","EXPAND_SIDEBAR","SET_SIDEBAR_TOGGLE","MEDLOCK_API","MEDLOCK_URL","MEDLOCK_AUDIENCE","auth0client","requestedScopes","auth0","WebAuth","domain","clientID","redirectUri","responseType","audience","scope","login","bind","logout","handleAuthentication","isAuthenticated","getAccessToken","getIdToken","renewSession","getProfile","console","log","authorize","parseHash","err","authResult","accessToken","idToken","setSession","alert","error","localStorage","setItem","expiresAt","expiresIn","Date","getTime","userProfile","idTokenPayload","scopes","checkSession","error_description","removeItem","returnTo","window","location","origin","Promise","resolve","reject","grantedScopes","split","every","includes","loadProfileBegin","type","loadProfileSuccess","profile","payload","loadProfileFailure","saveProfileBegin","saveProfileSuccess","saveProfileFailure","saveProfile","updatedPersonalData","role","API_URL","headers","dispatch","axios","put","then","res","data","catch","addProfileModuleBegin","addProfileModuleSuccess","newProfileModule","addProfileModuleFailure","addDispenserCodeBegin","addDispenserCodeSuccess","code","addDispenserCodeFailure","updateMedicalDataBegin","updateMedicalDataSuccess","updateMedicalDataFailure","DispenserCode","state","isLoading","codeString","numArray","i","Math","floor","random","forEach","num","dispenserCodeData","_id","patientId","addDispenserCode","codeAdding","codeAddedError","setState","hideDispenserCode","String","connect","profileState","post","PersonalInfo","patientFormHTML","Form","FormGroup","Label","for","Input","id","placeholder","value","personalData","onChange","sex","birthday","address","street","city","zip","email","phone","chatname","bio","Button","onProfileSave","providerFormHTML","editableHTML","patientProfileInfo","class","align","fontWeight","color","marginBottom","textAlign","display","paddingLeft","providerProfileInfo","staticHTML","target","editable","ProfileModule","onSave","addProfileModule","loading","Profile","onProfileEdit","editProfile","profileModulesHTML","profileModules","concat","apply","map","profileModule","profileSaving","message","profilePic","variant","editPic","width","height","profileLoading","loadingProfile","authState","Collapsible","open","togglePanel","title","paragraph","React","Resources","backgroundImage","backgroundColor","fetchRolesBegin","fetchRolesSuccess","fetchRolesFailure","auth0RegistrationBegin","auth0RegistrationSuccess","auth0RegistrationFailure","auth0Registration","newUser","API_MANAGEMENT_TOKEN","authorization","assignRolesBegin","assignRolesSuccess","assignRolesFailure","assignRoles","user_id","req_body","validateRegisterCodeBegin","validateRegisterCodeSuccess","validateRegisterCodeFailure","fetchAMT","AMTHeader","withRouter","component","rest","render","to","pathname","from","UserInfo","alt","AddDispenser","displayCodeCallback","DashHeader","collapsedSideBarJSX","toggleSideBar","menuIcon","displayDispenserCode","expandedSideBarToggleJSX","expandedSideBarNoToggleJSX","modules","icon","DashboardIcon","MyDataIcon","ResourcesIcon","MyPatientsIcon","ProfileIcon","PersonalDataView","ModuleLink","push","SideBar","containsRole","requiredRole","retval","filterModules","newModules","filter","sideBarItemsHTML","expandedSideBar","togglable","bigLogo","collapsedMenuIcon","toggle","collapsedSideBar","collapsed","require","submitPDISurveyBegin","submitPDISurveySuccess","survey","submitPDISurveyFailure","fetchPDISurveysBegin","fetchPDISurveysSuccess","surveys","fetchPDISurveysFailure","submitIntakeSurveyBegin","submitIntakeSurveySuccess","submitIntakeSurveyFailure","fetchDispenserBegin","fetchDispenserSuccess","dispenser","fetchDispenserFailure","fetchDispenser","get","PDISurveyBar","onSelectChange","surveyIndex","redrawChart","size","getSize","d3","remove","drawChart","updateChart","svg","chart","config","parseData","selectAll","y","attr","d","yScale","canvasHeight","select","text","formatTimestamp","date","timestamp","getMonth","getDate","getFullYear","length","resizedFn","addEventListener","clearTimeout","setTimeout","refs","canvas","parentElement","offsetWidth","offsetHeight","curWidth","curHeight","newWidth","getWidth","newHeight","getHeight","dates","selected","prevProps","prevState","x","responses","pair","Number","canvasWidth","append","range","call","xScale","padding","scale","tickSize","tickFormat","margin","enter","bandwidth","ref","surveySelect","DateTimeScatter","increaseByOneDay","tooltipMouseover","tooltip","html","formatTime","pageX","pageY","transition","duration","tooltipMouseout","delay","formatDate","hours","minutes","addZero","onStartDateSelectChange","startDate","onEndDateSelectChange","endDate","dataSelectorHTML","checked","selectedEvents","dispenses","onDataSelectorChange","btn1","btn2","btn3","new_val","strToBool","getSelectedData","getDataInDateRange","getSelectedEvents","firstDate","dateRange","lastDate","lastDatePlusOne","selections","getDataSelections","indexOf","str","startDateSelect","events","endDateSelect","formattedData","reformatData","getDateRange","selectedDates","selectedData","global","pointRadius","expandedPointRadius","val","a","b","getYear","timestamps","sameDate","curDate","newDate","setHours","newData","set","getHours","getMinutes","getSeconds","flattenData","sort","flatData","yAxis","ticks","tickValues","xDomain","slice","colors","on","mouseover","theta","PI","dx","cos","dy","sin","DataView","graphs","graph_id","pdisurveys","displayGraphs","SummaryStats","averagePillsPerDay","dispense_dates","num_pills","num_days","j","date1","date2","toFixed","collarOffCount","collarOff","daysMetPrescription","PatientData","retrievedData","patient","medicalData","dispenser_id","fetchPDISurveys","allPDISurveys","surveysLoading","surveysLoaded","surveyError","dispenserLoading","dispenserLoaded","dispenserError","capTurn","surveyState","PDIResponses","PDISurveysLoading","PDISurveysLoaded","PDIError","dispenseState","PDISurvey","newResponses","question","answer","onSubmit","preventDefault","submitPDISurvey","surveyResponse","questions","subject","marginTop","PDISurveyResponse","PDILoading","MultChoice","showOther","questionHTML","responsesHTML","other","MultSelect","response","selectedResponses","TextInput","responseHTML","rows","col","NumInput","min","max","surveyJSON","IntakeSurvey","submitResponses","answeredAll","submitIntakeSurvey","questionsHTML","IntakeSurveyResponse","IntakeLoading","IntakeError","Surveys","surveyLink","surveysHTML","makeSurveyRoutes","path","Dispenser","dispenseTime","setFullYear","parseInt","substring","setMonth","setDate","setUTCHours","time","setMinutes","toString","dispenseSeconds","ServerEndpoints","testEndpoint","PatientListItem","viewPatient","deletePatient","AddPatient","createPatientProfileBegin","createPatientProfileSuccess","createPatientProfileFailure","createPatientProfile","newProfile","addPatientBegin","addPatientSuccess","allPatients","addPatientFailure","removePatientBegin","removePatientSuccess","removePatientFailure","fetchPatientsBegin","fetchPatientsSuccess","patients","fetchPatientsError","deletePatientBegin","deletePatientSuccess","deletePatientError","fetchAllPatientsBegin","fetchAllPatientsSuccess","fetchAllPatientsFailure","addCheckInBegin","addCheckInSuccess","checkIn","addCheckInFailure","CheckIn","textResponse","submitData","responseChoice","RawDataDisp","sequenceRawData","dispenseData","parse","colOffData","btn1Data","btn2Data","btn3Data","allData","pt1","pt2","getAvailableDates","availableDates","pt","dateString","getTableEntry","toLocaleTimeString","selectOnChange","selectedDateIndex","dateSelector","selectedIndex","getSelectedEntries","selectedEntries","getTableEntries","entries","tableEntries","rawData","striped","bordered","hover","PatientView","showCheckIn","submitCheckIn","checkInResponses","checkInBody","addCheckIn","checkInData","checkInLoading","checkInError","pdiSurveys","patientState","UserListItem","dropdownOpen","user","viewUser","deleteUser","addDispenser","UserList","userHTML","users","displayedUsers","onFormChange","onSearchChange","searchResults","createNewUserForm","float","createNewUser","newUserName","newUserEmail","alignSelf","deleteAllUsers","MyPatients","onePatientView","viewedPatient","onRemovePatient","removePatient","addPatient","newPatientForm","toggleDispenserCodeDisplay","dispenserCodeUser","displayNewPatientForm","submitForm","password","newPatient","AMT","access_token","createPatient","errorString","getUserByEmail","newPatientProfile","providers","sub","fetchPatients","patient_id","url","patientRegistering","registerError","patientsFetching","patientsFetched","patientLoading","providerState","roleAssigning","roleAssignError","userProfileLoading","userProfileError","patientRemoving","lastRemovedPatient","patientRemoveError","addPatientToProviderList","delete","providerId","fetchAllClinicsBegin","fetchAllClinicsSuccess","clinics","fetchAllClinicsFailure","fetchAllClinics","fetchAllProvidersAtClinicBegin","fetchAllProvidersAtClinicSuccess","fetchAllProvidersAtClinicFailure","registerNewClinicBegin","registerNewClinicSuccess","clinic","registerNewClinicError","registerNewClinic","newClinic","addProviderToClinicBegin","addProviderToClinicSuccess","addProviderToClinicFailure","NewUser","updateMedicalData","clinicId","fetchAllProvidersAtClinic","provider","clinicsToOptions","providersToOptions","showSelectProvidersAtClinic","providersFetching","disabled","clinicsFetched","clinicsFetching","required","AMTLoading","AMTError","clinicState","clinicsError","providersFetched","userId","toLowerCase","body","NewProvider","new_clinic","addProviderToClinic","lastRegistered","Dashboard","routeToAdminPage","checkAdminStatus","toggleCodeDisplay","autoCollapseSideBar","query","setSideBarToggle","matches","collapseSideBar","expandSideBar","sideBarCollapsed","toggleNewUser","dashboardContentStyle","iconHTML","icons","dashboardHTML","makeMainRoutes","matchMedia","addListener","ga","timing","fetchRoles","loadProfile","profileError","rolesLoading","rolesError","sideBarToggle","profileLoaded","sideBarState","Callback","Home","Login","routeToRegister","Helmet","createProviderProfileBegin","createProviderProfileSuccess","createProviderProfileFailure","fetchAllProvidersBegin","fetchAllProvidersSuccess","fetchAllProvidersFailure","deleteProviderBegin","deleteProviderSuccess","FETCH_ALL_PROVIDERS_BEGIN","deleteProviderFailure","PatientSection","deleteAllPatients","createNewPatient","ProviderSection","viewProvider","createNewProviderForm","newProviderFormVisible","createNewProvider","newProviderName","newProviderEmail","deleteProvider","deleteAllProviders","ClinicSection","viewClinic","clinicListHTML","showRegisterClinicForm","createNewClinicForm","registerClinic","newClinicName","Admin","newProvider","createProviderProfile","ids","clinicName","fetchAllPatients","fetchAllProviders","fetchProvidersError","fetchClinicsError","autho0client","providerError","deletedProviders","deletedPatients","clinicRegistering","registerClinicError","creatorScope","Register","registerUser","validateRegisterCode","registerCode","passed","registerCodeValidated","newAuth","registerUserInDB","newUserProfile","registerCodeValidating","initialize","debug","titleCase","exact","nextState","test","hash","App","listen","page","pageview","Boolean","hostname","match","initialState","profileCreated","profileCreating","profileCreateError","addingNewProfileModule","medicalDataUpdating","medicalDataUpdateError","providerLoading","providerDeleting","patientDeleting","createPatientError","newAddedPatient","addPatientLoading","addPatientError","combineReducers","middleware","thunk","reduxPromise","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a14e6e10.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/003-info.6da33994.svg\";","import { createBrowserHistory } from 'history';\r\nexport default createBrowserHistory();\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport history from '../nav/history';\r\nimport '../../css/DashIcon.css'; \r\nimport ReactGA from 'react-ga'; \r\n\r\n/**\r\n * Class Component for displaying info about the \r\n * module it represents. When clicked, the corresponding\r\n * module is loaded. \r\n */\r\nclass DashIcon extends Component {\r\n    \r\n    /**\r\n     * Function that reroutes to corresponding page. Called \r\n     * when the DashIcon is clicked.\r\n     */\r\n    route = (e) => {\r\n        \r\n        ReactGA.event({\r\n            category: 'Dash Icon Click', \r\n            action: 'Navigated to ' + this.props.name + ' from Dash', \r\n            label: 'Click ' + this.props.name + ' from Dash'\r\n        }); \r\n        history.replace(this.props.link);\r\n    };\r\n    \r\n    render() {\r\n        return (\r\n            /* <div className={`${this.props.id}-dashIcon`} onClick={this.route}> */\r\n            <div className=\"DashIcon\" onClick={this.route} style={{cursor:'pointer'}}>\r\n                <div>\r\n                    <p>{this.props.name}</p>\r\n                </div>\r\n                <div>\r\n                    <img src={this.props.content.image} />\r\n                    <p>{this.props.roles.description}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDashIcon.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    id: PropTypes.string.isRequired,\r\n    content: PropTypes.object.isRequired, \r\n    roles: PropTypes.array.isRequired, \r\n    link: PropTypes.string.isRequired\r\n}\r\n\r\nexport default DashIcon;\r\n","export const CREATE_PATIENT_PROFILE_BEGIN = 'CREATE_PROFILE_BEGIN';\r\nexport const CREATE_PATIENT_PROFILE_SUCCESS = 'CREATE_PROFILE_SUCCESS';\r\nexport const CREATE_PATIENT_PROFILE_FAILURE = 'CREATE_PROFILE_FAILURE';\r\n\r\nexport const CREATE_PROVIDER_PROFILE_BEGIN = 'CREATE_PROVIDER_PROFILE_BEGIN';\r\nexport const CREATE_PROVIDER_PROFILE_SUCCESS = 'CREATE_PROVIDER_PROFILE_SUCCESS';\r\nexport const CREATE_PROVIDER_PROFILE_FAILURE = 'CREATE_PROVIDER_PROFILE_FAILURE';\r\n\r\nexport const LOAD_PROFILE_BEGIN = 'LOAD_PROFILE_BEGIN';\r\nexport const LOAD_PROFILE_SUCCESS = 'LOAD_PROFILE_SUCCESS';\r\nexport const LOAD_PROFILE_FAILURE = 'LOAD_PROFILE_FAILURE';\r\n\r\nexport const SAVE_PROFILE_BEGIN = 'SAVE_PROFILE_BEGIN';\r\nexport const SAVE_PROFILE_SUCCESS = 'SAVE_PROFILE_SUCCESS';\r\nexport const SAVE_PROFILE_FAILURE = 'SAVE_PROFILE_FAILURE';\r\n\r\nexport const EDIT_PROFILE = 'EDIT_PROFILE';\r\n\r\nexport const SUBMIT_PDISURVEY_BEGIN = 'SUBMIT_PDISURVEY_BEGIN';\r\nexport const SUBMIT_PDISURVEY_SUCCESS = 'SUBMIT_PDISURVEY_SUCCESS';\r\nexport const SUBMIT_PDISURVEY_FAILURE = 'SUBMIT_PDISURVEY_FAILURE';\r\n\r\nexport const FETCH_PDISURVEYS_BEGIN = 'FETCH_PDISURVEYS_BEGIN'; \r\nexport const FETCH_PDISURVEYS_SUCCESS = 'FETCH_PDISURVEYS_SUCCESS'; \r\nexport const FETCH_PDISURVEYS_FAILURE = 'FETCH_PDISURVEYS_FAILURE'; \r\n\r\nexport const SUBMIT_INTAKESURVEY_BEGIN = 'SUBMIT_INTAKESURVEY_BEGIN';\r\nexport const SUBMIT_INTAKESURVEY_SUCCESS = 'SUBMIT_INTAKESURVEY_SUCCESS';\r\nexport const SUBMIT_INTAKESURVEY_FAILURE = 'SUBMIT_INTAKESURVEY_FAILURE';\r\n\r\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\r\n\r\nexport const FETCH_DISPENSER_BEGIN = 'FETCH_DISPENSER_BEGIN'; \r\nexport const FETCH_DISPENSER_SUCCESS = 'FETCH_DISPENSER_SUCCESS'; \r\nexport const FETCH_DISPENSER_FAILURE = 'FETCH_DISPENSER_FAILURE'; \r\n\r\nexport const ADD_PROFILE_MODULE_BEGIN = 'ADD_PROFILE_MODULE_BEGIN';\r\nexport const ADD_PROFILE_MODULE_SUCCESS = 'ADD_PROFILE_MODULE_SUCCESS';\r\nexport const ADD_PROFILE_MODULE_FAILURE = 'ADD_PROFILE_MODULE_FAILURE';\r\n\r\nexport const FETCH_PATIENTS_BEGIN = 'FETCH_ALL_PATIENTS_BEGIN'; \r\nexport const FETCH_PATIENTS_SUCCESS = 'FETCH_ALL_PATIENTS_SUCCESS'; \r\nexport const FETCH_PATIENTS_FAILURE = 'FETCH_ALL_PATIENTS_FAILURE'; \r\n\r\nexport const FETCH_ROLES_BEGIN = 'FETCH_ROLES_BEGIN'; \r\nexport const FETCH_ROLES_SUCCESS = 'FETCH_ROLES_SUCCESS'; \r\nexport const FETCH_ROLES_FAILURE = 'FETCH_ROLES_FAILURE'; \r\n\r\nexport const ADD_PATIENT_BEGIN = 'ADD_PATIENT_BEGIN';\r\nexport const ADD_PATIENT_SUCCESS = 'ADD_PATIENT_SUCCESS';\r\nexport const ADD_PATIENT_FAILURE = 'ADD_PATIENT_FAILURE'; \r\n\r\nexport const REMOVE_PATIENT_BEGIN = 'REMOVE_PATIENT_BEGIN';\r\nexport const REMOVE_PATIENT_SUCCESS = 'REMOVE_PATIENT_SUCCESS';\r\nexport const REMOVE_PATIENT_FAILURE = 'REMOVE_PATIENT_FAILURE';\r\n\r\nexport const AUTH0_REGISTRATION_BEGIN = 'AUTH0_REGISTRATION_BEGIN'; \r\nexport const AUTH0_REGISTRATION_SUCCESS = 'AUTH0_REGISTRATION_SUCCESS'; \r\nexport const AUTH0_REGISTRATION_FAILURE = 'AUTH0_REGISTRATION_FAILURE'; \r\n\r\nexport const ASSIGN_ROLES_BEGIN = 'ASSIGN_ROLES_BEGIN';\r\nexport const ASSIGN_ROLES_SUCCESS = 'ASSIGN_ROLES_SUCCESS';\r\nexport const ASSIGN_ROLES_FAILURE = 'ASSIGN_ROLES_FAILURE';\r\n\r\nexport const DELETE_PATIENT_BEGIN = 'DELETE_PATIENT_BEGIN';\r\nexport const DELETE_PATIENT_SUCCESS = 'DELETE_PATIENT_BEGIN';\r\nexport const DELETE_PATIENT_FAILURE = 'DELETE_PATIENT_FAILURE';\r\n\r\nexport const FETCH_ALL_PATIENTS_BEGIN = 'FETCH_ALL_PATIENTS_BEGIN';\r\nexport const FETCH_ALL_PATIENTS_SUCCESS = 'FETCH_ALL_PATIENTS_SUCCESS';\r\nexport const FETCH_ALL_PATIENTS_FAILURE = 'FETCH_ALL_PATIENTS_FAILURE';\r\n\r\nexport const FETCH_ALL_PROVIDERS_BEGIN = 'FETCH_ALL_PROVIDERS_BEGIN';\r\nexport const FETCH_ALL_PROVIDERS_SUCCESS = 'FETCH_ALL_PROVIDERS_SUCCESS';\r\nexport const FETCH_ALL_PROVIDERS_FAILURE = 'FETCH_ALL_PROVIDERS_FAILURE';\r\n\r\nexport const DELETE_PROVIDER_BEGIN = 'DELETE_PROVIDER_BEGIN';\r\nexport const DELETE_PROVIDER_SUCCESS = 'DELETE_PROVIDER_SUCCESS';\r\nexport const DELETE_PROVIDER_FAILURE = 'DELETE_PROVIDER_FAILURE';\r\n\r\nexport const COLLAPSE_SIDEBAR = 'COLLAPSE_SIDEBAR';\r\nexport const EXPAND_SIDEBAR = 'EXPAND_SIDEBAR';\r\nexport const SET_SIDEBAR_TOGGLE = 'SET_SIDEBAR_TOGGLE'; \r\n\r\nexport const ADD_DISPENSER_CODE_BEGIN = 'ADD_DISPNESER_CODE_BEGIN'; \r\nexport const ADD_DISPENSER_CODE_SUCCESS = 'ADD_DISPNESER_CODE_SUCCESS'; \r\nexport const ADD_DISPENSER_CODE_FAILURE = 'ADD_DISPNESER_CODE_FAILURE'; \r\n\r\nexport const REGISTER_NEW_USER_BEGIN = 'REGISTER_NEW_USER_BEGIN';\r\nexport const REGISTER_NEW_USER_SUCCESS = 'REGISTER_NEW_USER_SUCCESS';\r\nexport const REGISTER_NEW_USER_FAILURE = 'REGISTER_NEW_USER_FAILURE';\r\n\r\nexport const FETCH_ALL_CLINICS_BEGIN = 'FETCH_ALL_CLINICS_BEGIN';\r\nexport const FETCH_ALL_CLINICS_SUCCESS = 'FETCH_ALL_CLINICS_SUCCESS';\r\nexport const FETCH_ALL_CLINICS_FAILURE = 'FETCH_ALL_CLINICS_FAILURE';\r\n\r\nexport const FETCH_ALL_PROVIDERS_AT_CLINIC_BEGIN =   'FETCH_ALL_PROVIDERS_AT_CLINIC_BEGIN';\r\nexport const FETCH_ALL_PROVIDERS_AT_CLINIC_SUCCESS = 'FETCH_ALL_PROVIDERS_AT_CLINIC_SUCCESS';\r\nexport const FETCH_ALL_PROVIDERS_AT_CLINIC_FAILURE = 'FETCH_ALL_PROVIDERS_AT_CLINIC_FAILURE'; \r\n\r\nexport const ADD_CHECKIN_BEGIN = 'ADD_CHECKIN_BEGIN'; \r\nexport const ADD_CHECKIN_SUCCESS = 'ADD_CHECKIN_SUCCESS'; \r\nexport const ADD_CHECKIN_FAILURE = 'ADD_CHECKIN_FAILURE'; \r\n\r\nexport const REGISTER_NEW_CLINIC_BEGIN = 'REGISTER_NEW_CLINIC_BEGIN';\r\nexport const REGISTER_NEW_CLINIC_SUCCESS = 'REGISTER_NEW_CLINIC_SUCCESS';\r\nexport const REGISTER_NEW_CLINIC_FAILURE = 'REGISTER_NEW_CLINIC_FAILURE';\r\n\r\nexport const VALIDATE_REGISTER_CODE_BEGIN = 'VALIDATE_REGISTER_CODE_BEGIN';\r\nexport const VALIDATE_REGISTER_CODE_SUCCESS = 'VALIDATE_REGISTER_CODE_SUCCESS';\r\nexport const VALIDATE_REGISTER_CODE_FAILURE = 'VALIDATE_REGISTER_CODE_FAILURE';\r\n\r\nexport const UPDATE_MEDICAL_DATA_BEGIN = 'UPDATE_MEDICAL_DATA_BEGIN';\r\nexport const UPDATE_MEDICAL_DATA_SUCCESS = 'UPDATE_MEDICAL_DATA_SUCCESS';\r\nexport const UPDATE_MEDICAL_DATA_FAILURE = 'UPDATE_MEDICAL_DATA_FAILURE';\r\n\r\nexport const ADD_PROVIDER_TO_CLINIC_BEGIN = 'ADD_PROVIDER_TO_CLINIC_BEGIN';\r\nexport const ADD_PROVIDER_TO_CLINIC_SUCCESS = 'ADD_PROVIDER_TO_CLINIC_SUCCESS';\r\nexport const ADD_PROVIDER_TO_CLINIC_FAILURE = 'ADD_PROVIDER_TO_CLINIC_FAILURE';\r\n\r\n\r\n","// PRODUCTION:\r\nexport const MEDLOCK_API = 'https://aqueous-falls-74814.herokuapp.com/api';\r\nexport const MEDLOCK_AUTH0 = 'https://medlock-dev.auth0.com/api';\r\nexport const MEDLOCK_URL = 'https://aqueous-falls-74814.herokuapp.com';\r\nexport const MEDLOCK_AUDIENCE = 'https://aqueous-falls-74814.herokuapp.com/api';\r\n\r\n// DEVELOPMENT:\r\n// export const MEDLOCK_API = 'http://localhost:5000/api';\r\n// export const MEDLOCK_AUTH0 = 'https://medlock-dev.auth0.com/api';\r\n// export const MEDLOCK_URL = 'http://localhost:5000';\r\n// export const MEDLOCK_AUDIENCE = 'http://localhost:5000';\r\n\r\n// remove this file, set up proper configuration stuff","import auth0 from 'auth0-js';\r\nimport history from '../components/nav/history';\r\nimport { MEDLOCK_URL, MEDLOCK_AUDIENCE } from '../config/servers';\r\nimport ReactGA from 'react-ga'; \r\n\r\nclass Auth {\r\n    accessToken;\r\n    idToken;\r\n    expiresAt;\r\n    userProfile;\r\n    scopes;\r\n\r\n    requestedScopes = 'openid profile read:patients';\r\n\r\n    // Note: the audience key represents the default key used to request API access.\r\n    // it should match the API identifier in auth0 and the audience in checkJWT\r\n    auth0 = new auth0.WebAuth({\r\n        domain: 'medlock-dev.auth0.com',\r\n        clientID: '1CF1ZJqKO4RVUdkyku4LAWN78tAPhN7l',\r\n        redirectUri: `${MEDLOCK_URL}/callback`,\r\n        responseType: 'token id_token',\r\n        audience: MEDLOCK_AUDIENCE,\r\n        scope: this.requestedScopes\r\n    });\r\n\r\n    constructor() {\r\n        this.login = this.login.bind(this);\r\n        this.logout = this.logout.bind(this);\r\n        this.handleAuthentication = this.handleAuthentication.bind(this);\r\n        this.isAuthenticated = this.isAuthenticated.bind(this);\r\n        this.getAccessToken = this.getAccessToken.bind(this);\r\n        this.getIdToken = this.getIdToken.bind(this);\r\n        this.renewSession = this.renewSession.bind(this);\r\n        this.getProfile = this.getProfile.bind(this);\r\n    }\r\n\r\n    login() {\r\n        console.log(auth0);\r\n        console.log('Login');\r\n        this.auth0.authorize();\r\n    }\r\n\r\n    handleAuthentication() {\r\n        console.log('Handle Authentication');\r\n        console.log(this.auth0);\r\n        this.auth0.parseHash((err, authResult) => {\r\n            console.log(authResult);\r\n            if (authResult && authResult.accessToken && authResult.idToken) {\r\n                this.setSession(authResult);\r\n            } else if (err) {\r\n                history.replace('/'); //change to main info page\r\n                console.log(err);\r\n                alert(`Error: ${err.error}. Check the console for further details.`);\r\n            }\r\n        });\r\n    }\r\n\r\n    getAccessToken() {\r\n        return this.accessToken;\r\n    }\r\n\r\n    getIdToken() {\r\n        return this.idToken;\r\n    }\r\n\r\n    setSession(authResult) {\r\n        // Set isLoggedIn flag in localStorage\r\n        localStorage.setItem('isLoggedIn', 'true');\r\n\r\n        // Set the time that the Access Token will expire at\r\n        let expiresAt = (authResult.expiresIn * 1000) + new Date().getTime();\r\n        this.accessToken = authResult.accessToken;\r\n        this.idToken = authResult.idToken;\r\n        this.expiresAt = expiresAt;\r\n        this.userProfile = authResult.idTokenPayload;\r\n        this.scopes = authResult.scope || this.requestedScopes || '';\r\n\r\n        // navigate to the profile page\r\n        history.replace('/dashboard');\r\n    }\r\n\r\n    renewSession() {\r\n        this.auth0.checkSession({}, (err, authResult) => {\r\n            if (authResult && authResult.accessToken && authResult.idToken) {\r\n                this.setSession(authResult);\r\n            } else if (err) {\r\n                this.logout();\r\n                console.log(err);\r\n                alert(`Could not get a new token (${err.error}: ${err.error_description}).`);\r\n            }\r\n        });\r\n    }\r\n\r\n    getProfile() {\r\n        return this.userProfile;\r\n    }\r\n\r\n    logout() {\r\n        ReactGA.event({\r\n            category: 'Logout', \r\n            action: 'User Logged Out', \r\n            label: 'Click Logout from Sidebar' \r\n        })\r\n        // Remove tokens and expiry time\r\n        this.accessToken = null;\r\n        this.idToken = null;\r\n        this.expiresAt = 0;\r\n\r\n        // Remove user profile\r\n        this.userProfile = null;\r\n\r\n        // Remove isLoggedIn flag from localStorage\r\n        localStorage.removeItem('isLoggedIn');\r\n\r\n        this.auth0.logout({\r\n            returnTo: window.location.origin\r\n        });\r\n\r\n        // navigate to the home route\r\n        history.replace('/');\r\n    }\r\n\r\n    isAuthenticated() {\r\n        console.log(\"isAuthenticated\");\r\n        // Check whether the current time is past \r\n        // the access token's expxiry time\r\n        let expiresAt = this.expiresAt;\r\n        console.log(expiresAt);\r\n        console.log(new Date().getTime());\r\n        return new Date().getTime() < expiresAt;\r\n    }\r\n\r\n    silentAuth() {\r\n        return new Promise((resolve, reject) => {\r\n            this.auth0.checkSession({}, (err, authResult) => {\r\n                if (err) {\r\n                    return reject(err);\r\n                }\r\n                this.setSession(authResult);\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n    \r\n    userHasScopes(scopes) {\r\n        const grantedScopes = this.scopes.split(' ');\r\n        return scopes.every(scope => grantedScopes.includes(scope));\r\n    }\r\n\r\n}\r\n\r\n\r\nconst auth0client = new Auth();\r\n\r\nexport default auth0client;","import { \r\n    LOAD_PROFILE_BEGIN,\r\n    LOAD_PROFILE_SUCCESS,\r\n    LOAD_PROFILE_FAILURE,\r\n    SAVE_PROFILE_BEGIN,\r\n    SAVE_PROFILE_SUCCESS, \r\n    SAVE_PROFILE_FAILURE, \r\n    EDIT_PROFILE, \r\n    ADD_PROFILE_MODULE_BEGIN,\r\n    ADD_PROFILE_MODULE_SUCCESS,\r\n    ADD_PROFILE_MODULE_FAILURE,\r\n    ADD_DISPENSER_CODE_BEGIN, \r\n    ADD_DISPENSER_CODE_SUCCESS, \r\n    ADD_DISPENSER_CODE_FAILURE,\r\n    UPDATE_MEDICAL_DATA_BEGIN,\r\n    UPDATE_MEDICAL_DATA_SUCCESS,\r\n    UPDATE_MEDICAL_DATA_FAILURE, \r\n} from './types';\r\n\r\nimport axios from 'axios';\r\nimport auth0client from '../auth/Auth';\r\nimport { MEDLOCK_API } from '../config/servers';\r\n\r\nconst loadProfileBegin = () => ({\r\n    type: LOAD_PROFILE_BEGIN\r\n});\r\n\r\nconst loadProfileSuccess = profile => ({\r\n    type: LOAD_PROFILE_SUCCESS,\r\n    payload: {\r\n        profile\r\n    } \r\n});\r\n\r\nconst loadProfileFailure = error => ({\r\n    type: LOAD_PROFILE_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function loadProfile(role) {\r\n    const { getAccessToken } = auth0client;\r\n    let API_URL = MEDLOCK_API;\r\n    const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n\r\n    switch (role) {\r\n        case \"Patient\": \r\n            API_URL += \"/patient/patient\"; \r\n            break; \r\n        case \"Provider\": \r\n            API_URL += \"/provider/provider\"; \r\n            break; \r\n    }\r\n\r\n    return dispatch => {\r\n        dispatch(loadProfileBegin());\r\n        return axios.get(API_URL, { headers })\r\n            .then(res => {\r\n                dispatch(loadProfileSuccess(res.data)); \r\n            })\r\n            .catch(error => dispatch(loadProfileFailure(error)));\r\n    }\r\n}\r\n\r\nconst saveProfileBegin = () => ({\r\n    type: SAVE_PROFILE_BEGIN\r\n});\r\n\r\nconst saveProfileSuccess = profile => ({\r\n    type: SAVE_PROFILE_SUCCESS,\r\n    payload: {\r\n        profile\r\n    }\r\n});\r\n\r\nconst saveProfileFailure = error => ({\r\n    type: SAVE_PROFILE_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function saveProfile(updatedPersonalData, role) {\r\n    const { getAccessToken } = auth0client;\r\n    let API_URL = MEDLOCK_API;\r\n    const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n\r\n    switch (role) {\r\n        case \"Patient\": \r\n            API_URL += \"/patient/patient\"; \r\n            break; \r\n        case \"Provider\": \r\n            API_URL += \"/provider/provider\"; \r\n            break; \r\n    }\r\n\r\n    return dispatch => {\r\n        dispatch(saveProfileBegin());\r\n        return axios.put(`${API_URL}`, updatedPersonalData, { headers })\r\n            .then(res => {\r\n                console.log(res.data);\r\n                dispatch(saveProfileSuccess(res.data));\r\n                return res.data;\r\n            })\r\n            .catch(error => dispatch(saveProfileFailure(error)));\r\n    }\r\n};\r\n\r\nexport const editProfile = () => dispatch => {\r\n    const action = {\r\n        type: EDIT_PROFILE\r\n    }\r\n    dispatch(action);\r\n};\r\n\r\nconst addProfileModuleBegin = () => ({\r\n    type: ADD_PROFILE_MODULE_BEGIN\r\n});\r\n\r\nconst addProfileModuleSuccess = newProfileModule => ({\r\n    type: ADD_PROFILE_MODULE_SUCCESS,\r\n    payload: {\r\n        newProfileModule\r\n    }\r\n});\r\n\r\nconst addProfileModuleFailure = error => ({\r\n    type: ADD_PROFILE_MODULE_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function addProfileModule(newProfileModule) {\r\n    const { getAccessToken } = auth0client;\r\n    const API_URL = `${MEDLOCK_API}/patient`;\r\n    const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n\r\n    return dispatch => {\r\n        dispatch(addProfileModuleBegin());\r\n        return axios.post(`${API_URL}/patient/modules`, newProfileModule, { headers })\r\n            .then(res => dispatch(addProfileModuleSuccess(res.data)))\r\n            .catch(error => dispatch(addProfileModuleFailure(error)));\r\n    }\r\n} \r\n\r\n\r\nconst addDispenserCodeBegin = () => ({\r\n    type: ADD_DISPENSER_CODE_BEGIN\r\n});\r\n\r\nconst addDispenserCodeSuccess = code => ({\r\n    type: ADD_DISPENSER_CODE_SUCCESS,\r\n    payload: {\r\n        code\r\n    }\r\n});\r\n\r\nconst addDispenserCodeFailure = error => ({\r\n    type: ADD_DISPENSER_CODE_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n}); \r\n\r\nexport function addDispenserCode(code) {\r\n    const { getAccessToken } = auth0client;\r\n    const API_URL = `${MEDLOCK_API}/patient`;\r\n    const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n    console.log(\"Code: \" + code); \r\n    return dispatch => {\r\n        dispatch(addDispenserCodeBegin());\r\n        // Make this endpoint\r\n        return axios.post(`${API_URL}/patient/code`, code, { headers })\r\n            .then(res => dispatch(addDispenserCodeSuccess(res.data)))\r\n            .catch(error => dispatch(addDispenserCodeFailure(error)));\r\n    } \r\n} \r\n\r\nconst updateMedicalDataBegin = () => ({\r\n    type: UPDATE_MEDICAL_DATA_BEGIN,\r\n});\r\n\r\nconst updateMedicalDataSuccess = (profile) => ({\r\n    type: UPDATE_MEDICAL_DATA_SUCCESS,\r\n    payload: {\r\n        profile\r\n    }\r\n});\r\n\r\nconst updateMedicalDataFailure = (error) => ({\r\n    type: UPDATE_MEDICAL_DATA_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function updateMedicalData(userId, role, medicalData) {\r\n    console.log(\"updating medical data\");\r\n    console.log(`userId: ${userId}`);\r\n    console.log(`role: ${role}`);\r\n    console.log(`medicalData: ${medicalData}`);\r\n    const { getAccessToken } = auth0client;\r\n    var API_URL = `${MEDLOCK_API}`;\r\n    const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n\r\n    if (role.toLowerCase() == \"patient\") {\r\n        API_URL += \"/patient/patient\"\r\n    } else if (role.toLowerCase() == \"provider\") {\r\n        API_URL += \"/provider/provider\"\r\n    }\r\n\r\n    console.log(API_URL);\r\n\r\n    const body = {\r\n        _id: userId,\r\n        medicalData,\r\n    };\r\n\r\n    return dispatch => {\r\n        dispatch(updateMedicalDataBegin());\r\n        return axios.put(`${API_URL}/medicaldata`, body, { headers })\r\n            .then(res => dispatch(updateMedicalDataSuccess(res.data)))\r\n            .catch(error => dispatch(updateMedicalDataFailure(error)));\r\n    };\r\n}\r\n","import React, { Component } from 'react'; \r\nimport '../../css/Dashboard.css'\r\nimport PropTypes from 'prop-types'; \r\nimport { connect } from 'react-redux'; \r\nimport { addDispenserCode } from '../../actions/profileActions'; \r\n\r\nclass DispenserCode extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            isLoading: true, \r\n            code: [], \r\n            codeString: \"\"\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let numArray = []; \r\n        const arraySize = 6; \r\n\r\n        for(let i = 0; i < arraySize; i++) {\r\n            numArray[i] = Math.floor((Math.random() * 3)); \r\n        }\r\n\r\n        let codeString = \"\"; \r\n        numArray.forEach(num => {\r\n            switch(num) {\r\n                case 0:     \r\n                    codeString += \"Green \"\r\n                    break; \r\n                case 1: \r\n                    codeString += \"Yellow \"\r\n                    break; \r\n                case 2: \r\n                    codeString += \"Red \"\r\n                    break; \r\n                default:  \r\n                    break; \r\n            }\r\n        })\r\n\r\n        \r\n        let dispenserCodeData = { }; \r\n\r\n        if(this.props.userProfile._id) {\r\n            dispenserCodeData = {\r\n                numArray: numArray, \r\n                patientId: this.props.userProfile._id \r\n            }\r\n        } else {\r\n            dispenserCodeData = {\r\n                numArray: numArray \r\n            }\r\n        }\r\n\r\n        this.props.addDispenserCode(dispenserCodeData) \r\n            .then(() => { \r\n                console.log(\"Returned Code Adding. \"); \r\n                console.log(this.props.code); \r\n                console.log(this.props.codeAdding); \r\n                console.log(this.props.codeAddedError); \r\n                if(this.props.code) {\r\n                    this.setState({\r\n                        code: numArray, \r\n                        codeString \r\n                    })\r\n                }\r\n            }); \r\n\r\n        \r\n\r\n        console.log(numArray); \r\n\r\n        // Generate Random Code \r\n        // Update Database \r\n        // Display Code \r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(this.props.code); \r\n        console.log(this.props.codeAdding); \r\n        console.log(this.props.codeAddedError); \r\n\r\n        if(this.props.codeAdding) {\r\n            return (\r\n                <div className=\"DispenserCode\">\r\n                    Loading . . . \r\n                    <button onClick={this.props.hideDispenserCode}>Done</button>\r\n\r\n                </div>\r\n            ); \r\n        } \r\n\r\n        if(this.props.codeAddedError) {\r\n            return (\r\n                <div className=\"DispenserCode\">\r\n                    Error: {String(this.props.codeAddedError)}\r\n                    <button onClick={this.props.hideDispenserCode}>Done</button>\r\n\r\n                </div>\r\n            ); \r\n        }\r\n\r\n        return (\r\n            <div className=\"DispenserCode\">\r\n                Dispenser Code: <i>{this.state.codeString} </i>\r\n                <button onClick={this.props.hideDispenserCode}>Done</button>\r\n            </div>\r\n        ); \r\n        \r\n    }\r\n}\r\n\r\nDispenserCode.propTypes = {\r\n    hideDispenserCode: PropTypes.func.isRequired, \r\n    addDispenserCode: PropTypes.func.isRequired, \r\n    // profile: PropTypes.object.isRequired, \r\n    code: PropTypes.array.isRequired,\r\n    codeAdding: PropTypes.bool.isRequired,\r\n    codeAddedError: PropTypes.string,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    code: state.profileState.code,\r\n    codeAdding: state.profileState.codeAdding,\r\n    codeAddedError: state.profileState.codeAddedError,\r\n});\r\n\r\nexport default connect(mapStateToProps, { \r\n    addDispenserCode\r\n})(DispenserCode); ","import React, { Component } from 'react';\r\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport '../../css/Profile.css';\r\nimport profilePic from './profile_pic.png';\r\n/**\r\n * Component to display personal info on the profile page.\r\n */\r\n\r\nclass PersonalInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            personalData: props.personalData,\r\n        };\r\n    }\r\n\r\n    patientFormHTML = () => {\r\n        return (\r\n            <div className=\"personalInfo-editable\">\r\n                <Form>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-name\" className=\"form-heading\">Full Name</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"pi-name\" placeholder=\"Jon Snow\" value={this.state.personalData.name} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-sex\" className=\"form-heading\">Sex</Label>\r\n                        <Input type=\"select\" name=\"sex\" id=\"pi-sex\" value={this.state.personalData.sex} onChange={this.onChange}>\r\n                            <option>Male</option>\r\n                            <option>Female</option>\r\n                            <option>Other</option>\r\n                        </Input>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-dob\" className=\"form-heading\">Birthday</Label>\r\n                        <Input type=\"date\" name=\"birthday\" id=\"pi-dob\" value={this.state.personalData.birthday} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-addr\" className=\"form-heading\">Address</Label>\r\n                        <Input type=\"text\" name=\"address.street\" id=\"pi-addr\" placeholder=\"123 Direwolf Ave\" value={this.state.personalData.address.street} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-city\" className=\"form-heading\">City</Label>\r\n                        <Input type=\"text\" name=\"city\" id=\"pi-city\" placeholder=\"Winterfell\" value={this.state.personalData.address.city} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-state\" className=\"form-heading\">State</Label>\r\n                        <Input type=\"text\" name=\"state\" id=\"pi-state\" placeholder=\"The North\" value={this.state.personalData.address.state} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-zip\" className=\"form-heading\">Zip</Label>\r\n                        <Input type=\"text\" name=\"zip\" id=\"pi-zip\" placeholder=\"12345\" value={this.state.personalData.address.zip} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-email\" className=\"form-heading\">Email</Label>\r\n                        <Input type=\"email\" name=\"email\" id=\"pi-email\" placeholder=\"jon.snow@nightswatch.org\" value={this.state.personalData.email} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-phone\" className=\"form-heading\">Phone</Label>\r\n                        <Input type=\"text\" name=\"phone\" id=\"pi-phone\" placeholder=\"(555) 555-5555\" value={this.state.personalData.phone} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-chatname\" className=\"form-heading\">Chat Name</Label>\r\n                        <Input type=\"text\" name=\"chatname\" id=\"pi-chatname\" placeholder=\"jsnow\" value={this.state.personalData.chatname} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-bio\" className=\"form-heading\">Biography</Label>\r\n                        <Input type=\"textarea\" name=\"bio\" id=\"pi-bio\" placeholder=\"I lived one hell of a life (and death and life). Heir to the Iron Throne but raised as a bastard. I rode a dragon a couple times. Also, I had sex with my aunt, then killed her.\" value={this.state.personalData.bio} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <Button className=\"blue-button\" onClick={() => this.props.onProfileSave(this.state.personalData)}>Save</Button>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    providerFormHTML = () => {\r\n        return (\r\n            <div className=\"personalInfo-editable\">\r\n                <Form>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-name\" className=\"form-heading\">Full Name</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"pi-name\" placeholder=\"Jon Snow\" value={this.state.personalData.name} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"pi-email\" className=\"form-heading\">Email</Label>\r\n                        <Input type=\"email\" name=\"email\" id=\"pi-email\" placeholder=\"jon.snow@nightswatch.org\" value={this.state.personalData.email} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <Button className=\"blue-button\" onClick={() => this.props.onProfileSave(this.state.personalData)}>Save</Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    editableHTML = () => {\r\n        const { role } = this.props;\r\n        if (role === \"Patient\") {\r\n            return this.patientFormHTML();\r\n        }\r\n        else {\r\n            return this.providerFormHTML();\r\n        }\r\n    }\r\n\r\n    patientProfileInfo = (personalData) => {\r\n        return (\r\n            <div class=\"profile-page\">\r\n                <div align=\"center\">\r\n                    <h3 style={{ fontWeight: \"bold\", color: \"var(--medlock-dark-gray)\" }}>{personalData.name}</h3>\r\n                </div>\r\n                <div>\r\n                    <div class=\"biography\" align=\"center\">\r\n                        <div class=\"biographyHeader\">\r\n                            <h4 style={{fontWeight: \"800\", color: \"white\", marginBottom: \"0px\"}}>About Me</h4>\r\n                        </div>\r\n                        <p style={{color: \"white\"}}>{personalData.bio} </p>\r\n                    </div>\r\n                    <div align=\"center\">\r\n                        <div style={{ textAlign: \"left\" }}>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-gray)\" }}>Sex:</h5>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-dark-gray)\", fontWeight: \"bold\", paddingLeft: \"10px\" }}>{personalData.sex}</h5>\r\n                        </div>\r\n                        <div style={{ textAlign: \"left\" }}>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-gray)\" }}>Birthday:</h5>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-dark-gray)\", fontWeight: \"bold\", paddingLeft: \"10px\" }}>{personalData.birthday.split('T')[0]}</h5>\r\n                        </div>\r\n                        <div style={{ textAlign: \"left\" }}>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-gray)\" }}>Address:</h5>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-dark-gray)\", fontWeight: \"bold\", paddingLeft: \"10px\" }}>{personalData.address.street} {personalData.address.city}, {personalData.address.state} {personalData.address.zip}</h5>\r\n                        </div>\r\n                        <div style={{ textAlign: \"left\" }}>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-gray)\" }}>Email:</h5>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-dark-gray)\", fontWeight: \"bold\", paddingLeft: \"10px\" }}>{personalData.email}</h5>\r\n                        </div>\r\n                        <div style={{ textAlign: \"left\" }}>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-gray)\" }}>Phone:</h5>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-dark-gray)\", fontWeight: \"bold\", paddingLeft: \"10px\" }}>{personalData.phone}</h5>\r\n                        </div>\r\n                        <div style={{ textAlign: \"left\" }}>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-gray)\" }}>Chat Name:</h5>\r\n                            <h5 style={{ display: \"inline\", color: \"var(--medlock-dark-gray)\", fontWeight: \"bold\", paddingLeft: \"10px\" }}>{personalData.chatname}</h5>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    providerProfileInfo = (personalData) => {\r\n        return (\r\n            <div>\r\n                <div style={{ textAlign: \"left\" }}>\r\n                    <h5 style={{ display: \"inline\", color: \"var(--medlock-gray)\" }}>Name:</h5>\r\n                    <h5 style={{ display: \"inline\", color: \"var(--medlock-dark-gray)\", fontWeight: \"bold\", paddingLeft: \"10px\" }}>{personalData.name}</h5>\r\n                </div>\r\n                <div style={{ textAlign: \"left\" }}>\r\n                    <h5 style={{ display: \"inline\", color: \"var(--medlock-gray)\" }}>Email:</h5>\r\n                    <h5 style={{ display: \"inline\", color: \"var(--medlock-dark-gray)\", fontWeight: \"bold\", paddingLeft: \"10px\" }}>{personalData.email}</h5>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    staticHTML = () => {\r\n        const { personalData, role } = this.props;\r\n        if (role === \"Patient\") {\r\n            return (\r\n                <div className=\"personalInfo-static\" align=\"center\">\r\n                    {this.patientProfileInfo(personalData)}\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <div className=\"personalInfo-static\">\r\n                    {this.providerProfileInfo(personalData)}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        console.log(this.state.personalData);\r\n        if (e.target.name === \"street\" || e.target.name === \"city\" ||\r\n            e.target.name === \"state\" || e.target.name === \"zip\") {\r\n            this.setState({\r\n                personalData: {\r\n                    ...this.state.personalData,\r\n                    address: {\r\n                        ...this.state.personalData.address,\r\n                        [e.target.name]: e.target.value\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({\r\n                personalData: {\r\n                    ...this.state.personalData,\r\n                    [e.target.name]: e.target.value\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { editable } = this.props;\r\n        if (editable) {\r\n            return this.editableHTML();\r\n        } else {\r\n            return this.staticHTML();\r\n        }\r\n    }\r\n}\r\n\r\nexport default PersonalInfo;\r\n","import React, { Component } from 'react';\r\nimport { Button, Form, FormGroup, Input } from 'reactstrap';\r\nimport { addProfileModule } from '../../actions/profileActions';\r\nimport { connect } from 'react-redux';\r\nimport '../../css/ProfileModule.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ProfileModule extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: this.props.name,\r\n            content: this.props.content,\r\n            editable: this.props.editable\r\n        }\r\n    }\r\n\r\n    editableHTML = () => {\r\n        return (\r\n            <div className=\"profileModule-content\">\r\n                <Form>\r\n                    <FormGroup>\r\n                        <Input type=\"text\" name=\"name\" id=\"form-name\" placeholder=\"Name\" value={this.state.name} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Input type=\"textarea\" name=\"content\" id=\"form-content\" placeholder=\"Content\" value={this.state.content} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <Button onClick={this.onSave}>Save</Button>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    onChange = (e) => {\r\n        console.log(\"onChange\");\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        });\r\n    }\r\n\r\n    onSave = (e) => {\r\n        console.log(\"onSave\");\r\n        this.props.addProfileModule(\r\n            {\r\n                name: this.state.name,\r\n                content: this.state.content\r\n            }\r\n        );\r\n        this.setState({editable: false});\r\n    }\r\n\r\n    staticHTML = () => {\r\n        return (\r\n            <div className=\"profileModule-content\">\r\n                <div>\r\n                    <h3 id=\"name\">{this.state.name}</h3>\r\n                </div>\r\n                <div>\r\n                    <h4 id=\"content\">{this.state.content}</h4>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(this.props);\r\n        console.log(this.state);\r\n    }\r\n\r\n    render() {\r\n\r\n        const { loading } = this.props;\r\n        const { editable } = this.state;\r\n\r\n        if (loading) {\r\n            return (\r\n                <div>\r\n                    Loading . . .\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"profileModule-container\">\r\n                {\r\n                    editable ? this.editableHTML() : this.staticHTML()\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nProfileModule.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    content: PropTypes.string.isRequired,\r\n    editable: PropTypes.bool.isRequired,\r\n    // saved: PropTypes.bool.isRequired,\r\n    addProfileModule: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    // editable: state.profileState.editable,\r\n    loading: state.profileState.loading\r\n});\r\n\r\nexport default connect(mapStateToProps, { addProfileModule })(ProfileModule);\r\n","import React, { Component } from 'react';\r\nimport PersonalInfo from './PersonalInfo';\r\nimport ProfileModule from './ProfileModule';\r\nimport { Button } from 'reactstrap';\r\nimport { editProfile, saveProfile } from '../../actions/profileActions';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport profilePic from './profile_pic.png';\r\nimport editPic from './edit-profile.png';\r\nimport '../../css/Profile.css';\r\nimport ReactGA from 'react-ga'; \r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            role: props.roles[0].name,\r\n        }\r\n    }\r\n\r\n    onProfileSave = (updatedPersonalData) => {\r\n        //\r\n        ReactGA.event({\r\n            category: 'Profile Interaction', \r\n            action: 'Updated Personal Data', \r\n            label: 'Click Save after Edit Profile'\r\n        }); \r\n        this.props.saveProfile(updatedPersonalData, this.state.role);\r\n    }\r\n\r\n    onProfileEdit = () => {\r\n        ReactGA.event({\r\n            category: 'Profile Interaction', \r\n            action: 'Opened Edit Profile Form', \r\n            label: 'Click Edit Profile'\r\n        }); \r\n        this.props.editProfile();\r\n    }\r\n\r\n    profileModulesHTML = profileModules => {\r\n        var merged = [].concat.apply([], profileModules);\r\n        profileModules = merged;\r\n        return profileModules.map(profileModule => (\r\n            <ProfileModule name={profileModule.name} content={profileModule.content} editable={this.props.editable} />\r\n        ));\r\n    };\r\n\r\n    // addProfileModule = () => { \r\n    //     this.setState(prevState => ({\r\n    //         profileModules: [...prevState.profileModules, \r\n    //             {\r\n    //                 name: \"Name\",\r\n    //                 content: \"Content\",\r\n    //                 editable: true   \r\n    //             }\r\n    //         ]\r\n    //     }));\r\n    // }\r\n\r\n    render() {\r\n        const { personalData, profileSaving, error, editable } = this.props;\r\n\r\n        if (error) {\r\n            return (\r\n                <div>\r\n                    Error: {error.message}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (profileSaving) {\r\n            return (\r\n                <div>\r\n                    Saving profile . . .\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"profile-container\" align=\"center\">\r\n                <h1 class=\"header\">Profile</h1>\r\n                <div className=\"main\" align=\"center\">\r\n                    <img className=\"profilePic\" src={profilePic} />\r\n                    <Button variant=\"light\" onClick={this.onProfileEdit} className=\"editProfile\">Edit Profile<img src={editPic} width=\"30\" height=\"30\" /></Button>\r\n                    <div className=\"personalInfo-container\">\r\n                        <PersonalInfo personalData={personalData} onProfileSave={this.onProfileSave} onProfileEdit={this.onProfileEdit} editable={editable} role={this.state.role} />\r\n                    </div>\r\n                    {/* <div className=\"profileModules-container\">\r\n                        {this.profileModulesHTML(this.state.profileModules)}\r\n                        <Button onClick={this.addProfileModule}>+</Button>\r\n                    </div>                 */}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nProfile.propTypes = {\r\n    editProfile: PropTypes.func.isRequired,\r\n    saveProfile: PropTypes.func.isRequired,\r\n    editable: PropTypes.object.isRequired,\r\n    personalData: PropTypes.object.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    personalData: state.profileState.profile.personalData,\r\n    editable: state.profileState.editable,\r\n    profileLoading: state.profileState.loadingProfile,\r\n    profileSaving: state.profileState.profileSaving,\r\n    error: state.profileState.error,\r\n    roles: state.authState.roles,\r\n});\r\n\r\nexport default connect(mapStateToProps, { editProfile, saveProfile })(Profile);","import React, { Component } from 'react';\r\n\r\nexport default class Collapsible extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false\r\n        }\r\n        this.togglePanel = this.togglePanel.bind(this);\r\n    }\r\n\r\n    togglePanel(e) {\r\n        this.setState({ open: !this.state.open })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={this.props.style} className={this.props.className}>\r\n                <h4 onClick={(e) => this.togglePanel(e)} className='header'>\r\n                    <strong>{this.props.title}</strong></h4>\r\n                {\r\n                    this.state.open ? (\r\n                        <div className='content'>\r\n                            {this.props.paragraph}\r\n                        </div>\r\n                    ) : null\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport '../../css/Resources.css';\r\nimport Collapsible from './Collapsible';\r\n\r\nclass Resources extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Resources-container\">\r\n                <h1 style={{ marginBottom: \"20px\" }} class=\"header\">Resources</h1>\r\n\r\n                <Collapsible style={{ backgroundImage: \"linear-gradient(to bottom, #51bfcb, #2095d8)\" }} className=\"module-container\"\r\n                    title={\r\n                        <h4><strong>How do drugs work on the brain?</strong></h4>\r\n                    } paragraph={\r\n                        <div>\r\n                            <p> Drugs are chemicals. They work in the brain by tapping into the brains communication system and interfering with the way nerve cells of the brain normally send, receive, and process information.</p>\r\n                            <p> Some drugs, such as marijuana and heroin, can increase the action of neurons because their chemical structure copies that of a natural neurotransmitter (chemical which allows messages to be sent in the brain). This similarity in structure fools receptors and allows the drugs to lock onto and activate the nerve cells. </p>\r\n                            <p> Although these drugs mimic brain chemicals, they dont activate nerve cells in the exact same way as a neurotransmitter which we can produce normally in the body, and they lead to abnormal messages being transmitted through the network. </p>\r\n                            <p> Other drugs, such as amphetamine or cocaine, can cause the nerve cells to release abnormally large amounts of natural neurotransmitters or prevent the normal recycling of these brain chemicals. This disruption produces a greatly amplified message, ultimately disrupting communication channels. The difference in effect can be described as the difference between someone whispering into your ear and someone shouting into a microphone. </p>\r\n                        </div>\r\n                    }></Collapsible>\r\n                <Collapsible style={{ backgroundImage: \"linear-gradient(to bottom, #5f82cc, #2057d8)\" }} className=\"module-container\"\r\n                    title={\r\n                        <h4><strong>Understanding Drugs</strong></h4>\r\n                    } paragraph={\r\n                        <div>\r\n                            <p><strong> Types of drugs: </strong></p>\r\n                            <p>  Stimulants (Caffeine, Amphetamines, Meth, Cocaine, and Nicotine, as well as Ecstasy/ MDMA to some extent) </p>\r\n                            <p> Causes an increase in breathing, blood pressure, heart rate, alertness, and mental activity\r\n                                Works on the receptors for neurotransmitters: Dopamine (happiness), Serotonin (satisfaction), and Norepinephrine (excitement and fight-or-flight)\r\n                        Most of all, increase dopamine </p>\r\n                            <p>  Depressants (barbiturates, benzodiazepines, and alcohol, as well as marijuana to some degree) </p>\r\n                            <p> Causes a decrease in blood pressure, heart rate, respiration, processing speed, reaction time. Slows down your movement and thinking. </p>\r\n                            <p>  Opioids (Morphine, Heroin, Vicodin and OxyContin) </p>\r\n                            <p> Causes a decrease in brain activity, heart rate, blood pressure\r\n                                Analgesic (reduces pain)\r\n                        Acts on endorphin receptors which reduce pain and increase dopamine </p>\r\n                            <p>  Hallucinogens (LSD, Psilocybin/shrooms, and PCP) </p>\r\n                            <p> Distorts perception, increases sensation, involves hallucinations\r\n                        Can potentially increase or decrease energy and mood </p>\r\n                            <p>  Nicotine is an addictive stimulant found in cigarettes and other forms of tobacco. Tobacco smoke increases a users risk of cancer, emphysema, and cardiovascular disease. The mortality rate (death rate) associated with tobacco addiction is incredibly high. Tobacco use kills at a rate of approximately 1,300 deaths a day. </p>\r\n                            <p>  Alcohol consumption can damage the brain and nearly every organ in the human body irreversibly. Areas of the brain that are especially vulnerable to alcohol-related damage are the cerebral cortex (largely responsible for our higher brain functions, including problem solving and decision making), the hippocampus (important for memory and learning), and the cerebellum (important for movement coordination). This is why those who take in alcohol tend to have decreased memory, decision-making and coordination. </p>\r\n                            <p>  Marijuana impairs short-term memory and learning, the ability to focus attention, and coordination. It also is an addictive substance which induces withdrawal symptoms. Effects include increased heart rate, lung damage, and increased risk of psychosis in patients with a predisposition. </p>\r\n                            <p>  Inhalants are volatile substances found in many household products, such as oven cleaners, gasoline, spray paints, and other aerosols, that induce an altered mental state. Inhalants are extremely toxic and can damage organ systems in the body. Even a healthy person can suffer heart failure and death within minutes of a single prolonged inhalant session. </p>\r\n                            <p>  Cocaine is a short-acting stimulant which requires frequent intake to maintain its effects. Cocaine is highly addictive and can lead to severe medical consequences related to the heart and the respiratory, and nervous systems. </p>\r\n                            <p>  Amphetamines, including methamphetamine, are powerful stimulants that can produce feelings of euphoria and connectedness. Methamphetamines effects are particularly long-lasting and harmful to the brain. Amphetamines can cause high body temperature, dehydration, and, as a result, serious heart problems and seizures. </p>\r\n                            <p>  Ecstasy (MDMA) produces both stimulant and hallucinogenic effects. It can increase body temperature, heart rate, blood pressure, and heart wall stress. Ecstasy may also be toxic to nerve cells. </p>\r\n                            <p>  LSD is one of the most potent hallucinogenic, or perception altering, drugs. Its effects are unpredictable, and those who use it may encounter vivid visual, auditory and physical sensations. If taken excessively, users may feel shifts in senses for great lengths of time as well as lasting trauma. Use leads to increased body temperature, heart rate, and blood pressure, sweating, loss of appetite and sleeplessness </p>\r\n                            <p>  Heroin is a very powerful opiate that produces euphoria and feelings of relaxation. It is highly addictive and can slows respiration to the point of death. Further, it is often linked to dangerous blood-borne illness through needles such as HIV. </p>\r\n                            <p>  Steroids, which can also be prescribed for certain medical conditions, are abused to increase muscle mass and improve athletic performance despite its banned status by all competitive sports. Serious consequences of abuse can include severe acne, heart disease, liver problems, stroke, and depression. Males may experience shrinking of testacles, development of breasts, baldness, and decrease in sperm count while females may develop facial hair, deepened voice, and alterations in menstrual cycle. </p>\r\n                            <p>  Drug combinations. Taking combinations of multiple drugs such as alcohol and nicotine or mixing mixing of prescription drugs which have dangerous and unpredictable effects for the user. </p>\r\n                            <p> How do drugs make you feel good? </p>\r\n                            <p> Most drugs take control of the brains reward system by increasing the amount of dopamine flooding the brain at a given point in time. Dopamine is a neurotransmitter present in regions of the brain that regulate movement, emotion, and feelings of pleasure. The overstimulation of this system produces euphoric effects. In turn, the brain anticipates and seeks additional stimulation of the same kind. </p>\r\n\r\n                            <p> What happens if you take too many drugs? </p>\r\n                            <p> Just as we turn down the volume on a radio that is too loud, the brain adjusts to the large amounts of dopamine (and other neurotransmitters which increase pleasure) by producing less dopamine or by blocking is ability to affect the brain. Imagine then, that as you flood your brain with more dopamine over time, its ability to affect your reward system gets slowly tuned out since your brain will keep decreasing the volume. The ability to experience any pleasure gets reduced. This is why someone using drugs might eventually feels flat, lifeless, and depressed, and is unable to enjoy things that previously brought them pleasure. Now, they need to take more and more drugs just to try and bring their function and happiness back up to normal. This is known as tolerance. </p>\r\n                            <p> Just as continued use may lead to tolerance or the need for higher drug dosages to produce an effect, it may also lead to addiction, which can drive someone to seek out and take drugs without consideration for health consequences. </p>\r\n\r\n                            <p> What are the medical consequences of drug use? </p>\r\n                            <p> Those who tend to use or abuse drugs and those who suffer from addiction often have one or more accompanying medical issues. These issues may have existed prior to starting the use of the drug, may be the cause of its use (for example a chronic pain condition that requires opioids), or may develop due to addiction (for example organ degeneration or cancer). </p>\r\n                            <p> Conditions which may exist alongside drug use can span stroke, cancer, mental disorders, and issues with respiratory and cardiac systems. As another example, tobacco has been strongly linked causes cancer of the mouth, throat, larynx, blood, lungs, stomach, pancreas, kidney, bladder, and cervix. In addition, some drugs are toxic to nerve cells and may damage or destroy them in the brain/nerves. </p>\r\n\r\n                            <p> What are opioids? </p>\r\n                            <p> Opioids are naturally found in the opium poppy plant. Some opioid medications are made from this plant while others are made by scientists in labs. Opioids have been used for hundreds of years to treat pain. </p>\r\n                            <p> The most commonly used prescription opioids are oxycodone (OxyContin), hydrocodone (Vicodin), codeine, and morphine. Heroin is an opioid, but it is not a medication. Fentanyl is a powerful prescription pain reliever, but it is sometimes added to heroin by drug dealers, causing doses so strong that people may easily die from an overdose. </p>\r\n                            <p> Note, there are an enormous amount of slang terms for opioids that are important to recognize including Roxy/oxy, Vikes, Percs, H, smack, dope, norco, and many more. </p>\r\n\r\n                            <p> What is misuse? </p>\r\n                            <p> Taking your prescription in ways other than instructed, mixing it with other drugs/alcohol, or taking it more often than is needed/prescribed for the purpose of getting a high. This can also entail taking your prescription less than instructed and saving them, selling them or giving them to others. Getting and using prescription pills from a friend or family member, even if its for a real medical condition. </p>\r\n                        </div>\r\n                    }></Collapsible>\r\n                <Collapsible style={{ backgroundImage: \"linear-gradient(to bottom, #b351cb, #9d3cb1)\" }} className=\"module-container\"\r\n                    title={\r\n                        <h4><strong>Understanding MAT</strong></h4>\r\n                    } paragraph={\r\n                        <div>\r\n                            <p style={{backgroundColor: \"#a351cb\"}}><strong> What is MAT? </strong></p>\r\n                            <p> Medication-assisted treatment, or MAT, is an evidence-based treatment for substance use disorders, including OUD. </p>\r\n                            <p> Methadone, buprenorphine, and naltrexone are the three medications used for OUD. This treatment involves partial or full blockade of problematic opioid effects in the brain. Therefore, as the patient is slowly tapered off of their opioids, they also receive an MAT drug which reduces their withdrawal symptoms. Medication selection is based on the whole-patient approach. According to the American Society of Addiction Medicine, no matter which medication is selected, the goal is the same: getting the patient to feel normal, have little to no side effects or withdrawal symptoms, and have controlled cravings. </p>\r\n                            <p> But MAT is not just medications and it is NOT replacing one drug with another. Acknowledging that MAT is often misunderstood as a medication-alone treatment for OUD, MAT prescribers point out that the Substance Abuse and Mental Health Services Administration (SAMHSA) specifically notes MAT is to be used in combination with counseling and behavioral therapies, to provide a whole-patient  approach to the treatment of substance use disorders. </p>\r\n\r\n                            <p style={{backgroundColor: \"#a351cb\"}}><strong> What are the different types of MAT drugs and what are their pros/cons? </strong></p>\r\n                            <p> Different institutions may have access to only certain types of MAT drugs and so it is critical to understand the purpose each serves. </p>\r\n\r\n                            <p style={{backgroundColor: \"#a351cb\"}}><strong> Getting Sober: Can addiction be treated? </strong></p>\r\n                            <p> Yes, as with any other chronic condition, addiction may be treated such that it no longer affects someones life in a negative manner. Treatment using a variety of means and with support allows people to completely regain control of their lives. </p>\r\n\r\n                            <p style={{backgroundColor: \"#a351cb\"}}><strong> What happens if I relapse? </strong></p>\r\n                            <p> When a person uses alcohol or another drug after a long period of not using, they are having a relapse. </p>\r\n                            <p> Here are some relapse warning signs: </p>\r\n                            <p> Due to their success, the person believes that they no longer need to focus on their recovery effort; they are convinced they will never use again </p>\r\n                            <p> Lack of self-care as they become exhausted from overwork, encounter difficult life situations or return to poor health habits in general </p>\r\n                            <p> Increasing denial or return to denial. The person starts rationalizing, justifying, minimizing or generalizing negative thinking and behavior </p>\r\n                            <p> Blaming others instead of taking personal responsibility for one's own thoughts, feelings or behavior </p>\r\n                            <p> Being unable to accept feedback from others who are concerned or being unwilling to have conversations about their behavior </p>\r\n                            <p> Isolation and attempting to solve problems on their own; not sharing what is going on with others in their support networks or leaving </p>\r\n                            <p> Wanting too much too quickly or setting unrealistic goals and attempting to taper too quickly </p>\r\n                            <p> It is important to understand that relapse is not a weakness and is a natural part of recovery, particularly in the earliest stages. It is good to recognize that relapse has occurred and that additional support may be needed in order to get over this speedbump. Let someone know about your relapse, whether it is a loved one or your care provider and ask for additional treatment/support. </p>\r\n\r\n                            <p style={{backgroundColor: \"#a351cb\"}}><strong> How does medication help with recovery? </strong></p>\r\n                            <p> Different types of medications may be useful at different stages of treatment to help a patient stop abusing drugs, stay in treatment, and avoid relapse. </p>\r\n                            <p> Treating Withdrawal. When patients first stop abusing drugs, they can experience a variety of physical and emotional symptoms, including depression, anxiety, and other mood disorders; restlessness; and sleeplessness. Certain treatment medications are designed to reduce these symptoms, which makes it easier to stop the abuse. </p>\r\n                            <p> Staying in Treatment. Some treatment medications are used to help the brain adapt gradually to the absence of the abused drug. These medications act slowly to stave off drug cravings, and have a calming effect on body systems. They can help patients focus on counseling and other psychotherapies related to their drug treatment. </p>\r\n                            <p> Preventing Relapse. Science has taught us that stress, cues linked to the drug experience (e.g., people, places, things, moods), and exposure to drugs are the most common triggers for relapse. Medications are being developed to interfere with these triggers to help patients sustain recovery. </p>\r\n\r\n                            <p style={{backgroundColor: \"#a351cb\"}}><strong> How does behavioral therapy help with recovery </strong></p>\r\n                            <p> Behavioral treatments help engage people in drug abuse treatment, modifying their attitudes and behaviors related to drug abuse and increasing their life skills to handle stressful circumstances and environmental cues that may trigger intense craving for drugs and prompt another cycle of compulsive abuse. Moreover, behavioral therapies can enhance the effectiveness of medications and help people remain in treatment longer. </p>\r\n                            <p> Cognitive Behavioral Therapy. Seeks to help patients recognize, avoid, and cope with situations in which they are most likely to abuse drugs. </p>\r\n                            <p> Motivational Incentives. Uses positive reinforcement such as providing rewards or privileges for remaining drug free, for attending and participating in counseling sessions, or for taking treatment medications as prescribed. </p>\r\n                            <p> Motivational Interviewing. Employs strategies to evoke rapid and internally motivated behavior change to stop drug use and facilitate treatment entry. </p>\r\n                            <p> Group Therapy. Helps patients face their drug abuse realistically, come to terms with its harmful consequences, and boost their motivation to stay drug free. Patients learn effective ways to solve their emotional and interpersonal problems without resorting to drugs. </p>\r\n                        </div>\r\n                    }></Collapsible>\r\n                <Collapsible style={{ backgroundImage: \"linear-gradient(to bottom, #cba151, #d8a620)\" }} className=\"module-container\"\r\n                    title={\r\n                        <h4><strong>Maintaining General Life</strong></h4>\r\n                    } paragraph={\r\n                        <div>\r\n                            <p style={{backgroundColor: \"#bba151\"}}><strong> If taking drugs makes me happier what is the problem? </strong></p>\r\n                            <p> At first, people may perceive what seem to be positive effects with drug use. They also may believe that they can control their use; however, drugs can quickly take over their lives. </p>\r\n                            <p> Consider how a social drinker can become intoxicated, put himself behind the wheel and quickly turn a pleasurable activity into a tragedy for him and others. Over time, if drug use continues, pleasurable activities become less pleasurable, and drug abuse becomes necessary for abusers to simply feel normal. Drug abusers reach a point where they seek and take drugs, despite the tremendous problems caused for themselves and their loved ones. Some individuals may start to feel the need to take higher or more frequent doses, even in the early stages of their drug use </p>\r\n\r\n                            <p style={{backgroundColor: \"#bba151\"}}><strong> Why do some people get addicted and others dont? </strong></p>\r\n                            <p> Biological factors </p>\r\n                            <p> Scientists estimate that genetic factors account for between 40 and 60 percent of a persons vulnerability to addiction, including the effects of environment on gene expression and function. Adolescents and individuals with mental disorders are at greater risk of drug abuse and addiction than the general population. </p>\r\n                            <p> Environmental factors </p>\r\n                            <p> Home and Family. The influence of the home environment is usually most important in childhood. Parents or older family members who abuse alcohol or drugs or who engage in criminal behavior can increase childrens risks of developing their own drug problems. </p>\r\n                            <p> Peer and School. Friends and acquaintances have the greatest influence during adolescence. Drug-abusing peers can sway even those without risk factors to try drugs for the first time. Academic failure or poor social skills can put a child further at risk for drug abuse. </p>\r\n                            <p> Other factors </p>\r\n                            <p> Early Use. Although taking drugs at any age can lead to addiction, research shows that the earlier a person begins to use drugs the more likely they are to progress to more serious abuse. This may reflect the harmful effect that drugs can have on the developing brain; it also may result from a constellation of early biological and social vulnerability factors, including genetic susceptibility, mental illness, unstable family relationships, and exposure to physical or sexual abuse. Still, the fact remains that early use is a strong indicator of problems ahead, among them, substance abuse and addiction. </p>\r\n                            <p> Method of Administration. Smoking a drug or injecting it into a vein increases its addictive potential. Both smoked and injected drugs enter the brain within seconds, producing a powerful rush of pleasure. However, this intense high can fade within a few minutes, taking the abuser down to lower, more normal levels. It is a starkly felt contrast, and scientists believe that this low feeling drives individuals to repeated drug abuse in an attempt to recapture the high pleasurable state. </p>\r\n\r\n                            <p style={{backgroundColor: \"#bba151\"}}><strong> How does addiction affect other people in my life? </strong></p>\r\n                            <p> Negative effects of prenatal drug exposure on infants and children. </p>\r\n                            <p> It is likely that some drug-exposed children will need educational support in the classroom to help them overcome what may be subtle deficits in developmental areas such as behavior, attention, and cognition. Ongoing work is investigating whether the effects of prenatal exposure on brain and behavior extend into adolescence to cause developmental problems during that time period. </p>\r\n                            <p> Increased spread of infectious diseases. </p>\r\n                            <p> Injection of drugs such as heroin, cocaine, and methamphetamine accounts for more than a third of new AIDS cases. Injection drug use is also a major factor in the spread of hepatitis C, a serious, potentially fatal liver disease. Injection drug use is not the only way that drug abuse contributes to the spread of infectious diseases. All drugs of abuse cause some form of intoxication, which interferes with judgment and increases the likelihood of risky sexual behaviors. This, in turn, contributes to the spread of HIV/AIDS, hepatitis B and C, and other sexually transmitted diseases. </p>\r\n\r\n\r\n                            <p style={{backgroundColor: \"#bba151\"}}><strong> How to talk to people about my recovery? </strong></p>\r\n                            <p> Broadly speaking, it may be challenging for you to speak to others about your experience with recovery and your decision to pursue MAT. Decide what to share with people based upon your relationship with them. If you feel that an individual may not be willing to support you in your journey then it may be in your best interest at this stage to distance yourself from these friends </p>\r\n                            <p> Trust develops over time. Depending on your comfort level with people you can decide what makes sense.  Also, thinking about how you will respond to people ahead of time will help. </p>\r\n                            <p> For instance, if someone you know from work asks about where you have been, consider stating that you had some health related problems and leaving it at that. Most people will then ask if you are ok, at which point you can say, \"Yes, thank you,\" and change the subject. Some people may just choose to say, \"I had some personal issues.\" If you decide to say this, the person may still wonder what was going on but will usually not ask any further questions. Even though you may feel anxious or even pressured in some wayit is ok to not discuss personal information about yourself with others and this can be good recovery practice in setting appropriate boundaries. </p>\r\n\r\n\r\n                            <p style={{backgroundColor: \"#bba151\"}}><strong> Problems with sleep </strong></p>\r\n                            <p> There is a period of readjustment around sleep in early recovery. Sleep patterns need time to return to normal. It generally takes a bit longer to fall asleep. This is especially true if you were previously using alcohol or sedative drugs during the day or before bed. To reduce your sleep problems, develop a regular sleep schedule. Plan for as close to 8 hours as you can. Do not watch television or read in bed. Do not use caffeine in the afternoon or evening (this includes coffee, soda and chocolate). Drink milk or herbal tea. Don't exercise or involve yourself in strenuous mental activity before bed. Try a warm bath. Don't go to bed hungry or after eating a large meal. Do not nap during the daythis will just compound your difficulties. Also, Melatonin is a hormone that is naturally produced in the brain. It helps regulate sleep cycles and has been shown to be a safe dietary supplement. You can buy it without a prescription from health food stores, drug stores and on the Internet. As with any medication or supplement, consult with a health professional about this. If the problem persists, check with your doctor. You might benefit from other sleep medications with low or no addiction potential. </p>\r\n\r\n                            <p style={{backgroundColor: \"#bba151\"}}><strong> Loneliness </strong></p>\r\n                            <p> Feeling lonely is very common when a person first stops using drugs. So you are definitely not alone in this regard. Many people who stop using drugs or alcohol miss the friends they used to use with. Missing them and feeling lonely is normal. Remember, it takes time to develop a new social network. </p>\r\n                            <p> Here are a few things to think about as a way to deal with feeling lonely: </p>\r\n                            <p> Are there people you know who do not use drugs and who you grew apart from due to your using? If so, this might be a good time to try to reconnect with them. You can even acknowledge that you grew apart due to your drug use, but that you are abstinent now and would love to see them. Family members can also be good people to reconnect with if you have family around. There may even be people at work who you might attempt to get to know on a more social level. </p>\r\n                            <p> Have you been attending any self-help meetings such as NA or SMART Recovery? Meetings are a great place to meet other people who are in the same place as you are. That is, they are also trying to no longer drink and use drugs, and have also probably separated themselves from many past friends and acquaintances. If you haven't checked out any meetings, you could consider this. </p>\r\n                            <p> Get involved in fun activities that may have an interest for you. You will meet new people with similar interests. Over time, you may be able to develop some social relationships with them. </p>\r\n                            <p> Remember that your feelings are normal. It takes time to develop new friends and a new social support system. Give it time and you will eventually develop new friends. </p>\r\n                        </div>\r\n                    }></Collapsible>\r\n                <Collapsible style={{ backgroundImage: \"linear-gradient(to bottom, #68cb51, #61c694)\" }} className=\"module-container\"\r\n                    title={\r\n                        <h4><strong>Building Community Support</strong></h4>\r\n                    } paragraph={\r\n                        <div>\r\n                            <p> Triggers </p>\r\n                            <p> Wanting to get high is normal and a common reason for relapse. Triggers include things in your environment, friends you used to drink and use with, boredom, and loneliness. Physical pain, depression, and anxiety can trigger a relapse. </p>\r\n                            <p> When you feel that you encountered a trigger and have a desire to use -- instead think it through. The feeling inspired by the trigger will pass even if you do not use and instead you should focus on what thoughts caused you to associate a trigger with using. What were you thinking that lead you to believe that using was the best thing for you at that time? Focus on understanding that thought pattern so that next time you start to feel bored, alone, etc. you know that it is only transitory and is not worth relapsing for. </p>\r\n                            <p> In addition to letting the feeling decrease on its own, think about your environment. Are you triggered to use when you pass a location which you used to hang out at? Or when you are performing an activity which creates a mental association with drug use instead think about other activities which can distract your or you find entertaining. Get involved with that activity, exercise, call a friend/family, request advice etc. </p>\r\n                            <p> What if I have been in rehab before? </p>\r\n                            <p> This means you have already learned many of the skills needed to recover from addiction and should try it again.  Relapse should not discourage you. Relapse rates with addiction are similar to rates for other chronic diseases many people live with, such as hypertension, diabetes, and asthma. Treatment of chronic diseases involves changing deeply imbedded behaviors, and relapse sometimes goes with the territoryit does not mean treatment failed. A return to drug abuse indicates that treatment needs to be started again or adjusted, or that you might benefit from a different approach. </p>\r\n\r\n                            <p> How can I talk to others with similar problems? </p>\r\n                            <p> Self-help groups can extend the effects of professional treatment. The most well-known self-help groups are those affiliated with Alcoholics Anonymous (AA), Narcotics Anonymous (NA), and Cocaine Anonymous (CA), all of which are based on the 12-step model. Most drug addiction treatment programs encourage patients to participate in a self-help group during and after formal treatment. These groups can be particularly helpful during recovery, as they are a source of ongoing communal support to stay drug free. Support groups for family members of people with addictions, like Al-anon or Alateen, can also be helpful. </p>\r\n                            <p> There are other groups in the private sector that can provide a lot of support. To find other meetings in your area, contact local hospitals, treatment centers, or faith-based organizations. </p>\r\n\r\n                            <p> People have told me I shouldn't use drugs and drive, but I feel fine when driving. Can I trust my judgment on driving? </p>\r\n                            <p> The most responsible thing you can do is stop driving while using drugs. This can be inconvenient, but it will show loved ones you are serious about getting better.  Specific drugs act differently on the brain, but all impair skills necessary for the safe operation of a vehicle. These include motor skills, balance and coordination, perception, attention, reaction time, and judgment. Even small amounts of some drugs can have measurable effects on driving ability. Drugs also impact your ability to tell if you are impaired, so you should not trust your own judgment on driving until you receive an evaluation and treatment. For more, see our DrugFacts on drugged driving. </p>\r\n                        </div>\r\n                    }></Collapsible>\r\n                <Collapsible style={{ backgroundImage: \"linear-gradient(to bottom, #c56358, #d86320)\" }} className=\"module-container\"\r\n                    title={\r\n                        <h4><strong>Understanding Addiction</strong></h4>\r\n                    } paragraph={\r\n                        <div>\r\n                            <p> Can addiction be treated successfully? </p>\r\n                            <p> Yes, addiction is a treatable disorder. Research on the science of addiction and the treatment of substance use disorders has led to the development of research-based methods that help people to stop using drugs and resume productive lives, also known as being in recovery. </p>\r\n                            <p> Can addiction be cured? </p>\r\n                            <p> Like other chronic diseases such as heart disease or asthma, treatment for drug addiction usually isn't a cure. But addiction can be managed successfully. Treatment enables people to counteract addiction's disruptive effects on their brain and behavior and regain control of their lives. </p>\r\n\r\n                            <p> Does relapse to drug use mean treatment has failed? </p>\r\n                            <p> No. The chronic nature of addiction means that for some people relapse, or a return to drug use after an attempt to stop, can be part of the process, but newer treatments are designed to help with relapse prevention. Relapse rates for drug use are similar to rates for other chronic medical illnesses. If people stop following their medical treatment plan, they are likely to relapse. </p>\r\n                            <p> Treatment of chronic diseases involves changing deeply rooted behaviors, and relapse doesnt mean treatment has failed. When a person recovering from an addiction relapses, it indicates that the person needs to speak with their doctor to resume treatment, modify it, or try another treatment.52 </p>\r\n                            <p> While relapse is a normal part of recovery, for some drugs, it can be very dangerouseven deadly. If a person uses as much of the drug as they did before quitting, they can easily overdose because their bodies are no longer adapted to their previous level of drug exposure. An overdose happens when the person uses enough of a drug to produce uncomfortable feelings, life-threatening symptoms, or death. </p>\r\n\r\n                            <p> What are the principles of effective treatment? </p>\r\n                            <p> Research shows that when treating addictions to opioids (prescription pain relievers or drugs like heroin or fentanyl), medication should be the first line of treatment, usually combined with some form of behavioral therapy or counseling. Medications are also available to help treat addiction to alcohol and nicotine. </p>\r\n                            <p> Additionally, medications are used to help people detoxify from drugs, although detoxification is not the same as treatment and is not sufficient to help a person recover. Detoxification alone without subsequent treatment generally leads to resumption of drug use. </p>\r\n                            <p> For people with addictions to drugs like stimulants or cannabis, no medications are currently available to assist in treatment, so treatment consists of behavioral therapies. Treatment should be tailored to address each patient's drug use patterns and drug-related medical, mental, and social problems. </p>\r\n\r\n                            <p> What medications and devices help treat drug addiction? </p>\r\n                            <p> Different types of medications may be useful at different stages of treatment to help a patient stop abusing drugs, stay in treatment, and avoid relapse. </p>\r\n                            <p> Treating withdrawal. When patients first stop using drugs, they can experience various physical and emotional symptoms, including restlessness or sleeplessness, as well as depression, anxiety, and other mental health conditions. Certain treatment medications and devices reduce these symptoms, which makes it easier to stop the drug use. </p>\r\n                            <p> Staying in treatment. Some treatment medications and mobile applications are used to help the brain adapt gradually to the absence of the drug. These treatments act slowly to help prevent drug cravings and have a calming effect on body systems. They can help patients focus on counseling and other psychotherapies related to their drug treatment. </p>\r\n                            <p> Preventing relapse. Science has taught us that stress cues linked to the drug use (such as people, places, things, and moods), and contact with drugs are the most common triggers for relapse. Scientists have been developing therapies to interfere with these triggers to help patients stay in recovery. </p>\r\n\r\n                            <p> How do behavioral therapies treat drug addiction? </p>\r\n                            <p> Behavioral therapies help people in drug addiction treatment modify their attitudes and behaviors related to drug use. As a result, patients are able to handle stressful situations and various triggers that might cause another relapse. Behavioral therapies can also enhance the effectiveness of medications and help people remain in treatment longer. </p>\r\n                            <p> Cognitive-behavioral therapy seeks to help patients recognize, avoid, and cope with the situations in which they're most likely to use drugs. </p>\r\n                            <p> Contingency management uses positive reinforcement such as providing rewards or privileges for remaining drugfree, for attending and participating in counseling sessions, or for taking treatment medications as prescribed. </p>\r\n                            <p> Motivational enhancement therapy uses strategies to make the most of people's readiness to change their behavior and enter treatment. </p>\r\n                            <p> Family therapy helps people (especially young people) with drug use problems, as well as their families, address influences on drug use patterns and improve overall family functioning. </p>\r\n                            <p> Twelve-step facilitation (TSF) is an individual therapy typically delivered in 12 weekly session to prepare people to become engaged in 12-step mutual support programs. 12-step programs, like Alcoholic Anonymous, are not medical treatments, but provide social and complementary support to those treatments. TSF follows the 12-step themes of acceptance, surrender, and active involvement in recovery. </p>\r\n\r\n                            <p> https://www.drugabuse.gov/publications/drugs-brains-behavior-science-addiction/drug-misuse-addiction </p>\r\n                            <p> What is drug addiction? </p>\r\n                            <p> Addiction is defined as a chronic, relapsing disorder characterized by compulsive drug seeking and use despite adverse consequences. It is considered a brain disorder, because it involves functional changes to brain circuits involved in reward, stress, and self-control, and those changes may last a long time after a person has stopped taking drugs.11 </p>\r\n                            <p> Addiction is a lot like other diseases, such as heart disease. Both disrupt the normal, healthy functioning of an organ in the body, both have serious harmful effects, and both are, in many cases, preventable and treatable. If left untreated, they can last a lifetime and may lead to death. </p>\r\n                            <p> Why do people take drugs? </p>\r\n                            <p> In general, people take drugs for a few reasons: </p>\r\n                            <p> To feel good. Drugs can produce intense feelings of pleasure. This initial euphoria is followed by other effects, which differ with the type of drug used. For example, with stimulants such as cocaine, the high is followed by feelings of power, self-confidence, and increased energy. In contrast, the euphoria caused by opioids such as heroin is followed by feelings of relaxation and satisfaction. </p>\r\n                            <p> To feel better. Some people who suffer from social anxiety, stress, and depression start using drugs to try to feel less anxious. Stress can play a major role in starting and continuing drug use as well as relapse (return to drug use) in patients recovering from addiction. </p>\r\n                            <p> To do better. Some people feel pressure to improve their focus in school or at work or their abilities in sports. This can play a role in trying or continuing to use drugs, such as prescription stimulants or cocaine. </p>\r\n                            <p> Curiosity and social pressure. In this respect, teens are particularly at risk because peer pressure can be very strong. Teens are more likely than adults to act in risky or daring ways to impress their friends and show their independence from parents and social rules. </p>\r\n                            <p> If taking drugs makes people feel good or better, what's the problem? When they first use a drug, people may perceive what seem to be positive effects. They also may believe they can control their use. But drugs can quickly take over a person's life. Over time, if drug use continues, other pleasurable activities become less pleasurable, and the person has to take the drug just to feel normal. They have a hard time controlling their need to take drugs even though it causes many problems for themselves and their loved ones. Some people may start to feel the need to take more of a drug or take it more often, even in the early stages of their drug use. These are the telltale signs of an addiction.Even relatively moderate drug use poses dangers. Consider how a social drinker can become intoxicated, get behind the wheel of a car, and quickly turn a pleasurable activity into a tragedy that affects many lives. Occasional drug use, such as misusing an opioid to get high, can have similarly disastrous effects, including overdose, and dangerously impaired driving. </p>\r\n                            <p> Do people freely choose to keep using drugs? </p>\r\n                            <p> The initial decision to take drugs is typically voluntary. But with continued use, a person's ability to exert self-control can become seriously impaired; this impairment in self-control is the hallmark of addiction. </p>\r\n                            <p> Brain imaging studies of people with addiction show physical changes in areas of the brain that are critical to judgment, decision-making, learning and memory, and behavior control.12 These changes help explain the compulsive nature of addiction. </p>\r\n                            <p> No single factor determines whether a person will become addicted to drugs. </p>\r\n                            <p> As with other diseases and disorders, the likelihood of developing an addiction differs from person to person, and no single factor determines whether a person will become addicted to drugs. In general, the more risk factors a person has, the greater the chance that taking drugs will lead to drug use and addiction. Protective factors, on the other hand, reduce a person's risk. Risk and protective factors may be either environmental or biological. </p>\r\n                            <p> Biological factors that can affect a person's risk of addiction include their genes, stage of development, and even gender or ethnicity. Scientists estimate that genes, including the effects environmental factors have on a person's gene expression, called epigenetics, account for between 40 and 60 percent of a person's risk of addiction.27 Also, teens and people with mental disorders are at greater risk of drug use and addiction than others.28 </p>\r\n                            <p> What environmental factors increase the risk of addiction? </p>\r\n                            <p> Children's earliest interactions within the family are crucial to their healthy development and risk for drug use. </p>\r\n                            <p> Environmental factors are those related to the family, school, and neighborhood. Factors that can increase a person's risk include the following: </p>\r\n                            <p> Home and Family. The home environment, especially during childhood, is a very important factor. Parents or older family members who use drugs or misuse alcohol, or who break the law, can increase children's risk of future drug problems.29 </p>\r\n                            <p> What other factors increase the risk of addiction? </p>\r\n                            <p> Early Use. Although taking drugs at any age can lead to addiction, research shows that the earlier a person begins to use drugs, the more likely he or she is to develop serious problems.31 This may be due to the harmful effect that drugs can have on the developing brain.32 It also may result from a mix of early social and biological risk factors, including lack of a stable home or family, exposure to physical or sexual abuse, genes, or mental illness. Still, the fact remains that early use is a strong indicator of problems ahead, including addiction. </p>\r\n                            <p> How the drug is taken. Smoking a drug or injecting it into a vein increases its addictive potential.33,34 Both smoked and injected drugs enter the brain within seconds, producing a powerful rush of pleasure. However, this intense high can fade within a few minutes. Scientists believe this starkly felt contrast drives some people to repeated drug taking in an attempt to recapture the fleeting pleasurable state.</p>\r\n                        </div>\r\n                    }></Collapsible>\r\n                <Collapsible style={{ backgroundColor: \"#f3f3f3\", color: \"var(--medlock-dark-gray)\" }} className=\"module-container\"\r\n                    title={\r\n                        <h4><strong>Opioid Safety Checklist</strong></h4>\r\n                    } paragraph={\r\n                        <div>\r\n                            <p> Opioid Safety Checklist </p>\r\n                            <p> Take the opioid medicine exactly as prescribed. Don't take more of the medicine than prescribed. Don't take the medicine more often than prescribed. </p>\r\n                            <p> Don't take any other medication unless you check with your health care provider or pharmacist first. </p>\r\n                            <p> Do not drink alcohol while taking the opioid medicine. It can lead to serious medical problems, even death. </p>\r\n                            <p> Do not drive, ride a bike, or operate machinery while taking the medicine because the medicine can make you sleepy. </p>\r\n                            <p> Do not take opioid medication if you are or may be pregnant. It can cause serious problems in a baby. </p>\r\n                            <p> Do not share your medication with anyone. </p>\r\n                            <p> Have a parent or trusted caregiver: </p>\r\n                            <p> Store the opioids in a locked cabinet away from children, friends, and visitors. </p>\r\n                            <p> Keep track of how much medicine is in the container so you know if someone else is taking the medicine. </p>\r\n                            <p> Safely dispose of any leftover opioids as soon as you no longer need them. </p>\r\n                            <p> What Opioid Pain Medicines Are Prescribed for Kids and Teens? </p>\r\n                            <p> Opioid pain medicines prescribed for children and teens include: </p>\r\n                            <p> hydrocodone with acetaminophen liquid (Hycet) and pills (Vicodin and Lortab) </p>\r\n                            <p> oxycodone with acetaminophen liquid (Roxicet) and pills (Percocet) </p>\r\n                            <p> hydromorphone liquid and pills (Dilaudid) </p>\r\n                            <p> morphine liquid and pills </p>\r\n                            <p> oxycodone liquid and pills </p>\r\n                            <p> others  your health care provider may prescribe an opioid pain medicine that is not on this list </p>\r\n                            <p> What Are the Risks of Opioid Pain Medicines? </p>\r\n                            <p> If you take an opioid pain medicine for a few days, you might notice side effects like sleepiness, constipation, itching, and stomach upset. When opioids are taken as directed, these side effects may be annoying, but are not dangerous. </p>\r\n                            <p> Taking opioids for longer brings other risks, including: </p>\r\n                            <p> developing a tolerance (needing more opioid for the same pain relief) </p>\r\n                            <p> physical dependence (having symptoms of withdrawal when the opioid is stopped) </p>\r\n                            <p> addiction (when someone has very strong cravings and will continue to take an opioid even when it causes problems with health, relationships, and money) </p>\r\n                            <p> Taking too much of an opioid or mixing it with other drugs and/or alcohol can lead to overdose and death. </p>\r\n                            <p> Could I Become Addicted to Opioids? </p>\r\n                            <p> Most kids and teens who take opioids for a short time as instructed by a health care provider do not get addicted. For example, a teen who has surgery or a broken bone and takes an opioid as directed is very unlikely to become addicted. But taking more of the medicine or taking it for longer than prescribed increases your chances of becoming addicted. </p>\r\n                            <p> Sharing this medicine with others puts them at risk for addiction or overdose. Do not share your medicine with anyone. </p>\r\n                            <p> What Happens When Someone Is Addicted? </p>\r\n                            <p> Someone addicted to opioids will want to get more when the prescription runs out. This can lead to inappropriate or risky behavior, such as lying to a health care provider to get a new prescription, buying opioids from a friend, stealing opioids from friends or family, or buying and using street drugs (such as heroin). </p>\r\n                            <p> Why Do We Need to Lock Up the Opioids? </p>\r\n                            <p> Sometimes people take opioids prescribed for someone else. For example, a teen might take a younger sibling's medicine or someone might take a friend's opioid to manage pain, anxiety, or sleep problems. They might think that prescription opioid medicines are safer than street drugs because health care providers prescribe them. </p>\r\n                            <p> But prescription opioids can lead to severe side effects, dependence, addiction, and overdose. Keeping the opioids locked up will help make sure that only person they were prescribed for takes them. </p>\r\n                            <p> How Do We Safely Dispose of Unused Medicine? </p>\r\n                            <p> As soon as you're done taking the medicine, your parent or caregiver should get rid of any unused medicine. Ask your healthcare provider or pharmacist how to get rid of extra medicine safely. They may recommend that you flush the medicine, mix it with coffee grounds and then throw it away, or take it to a drug take-back program. The FDA has more information. </p>\r\n                        </div>\r\n                    }></Collapsible>\r\n\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default Resources;\r\n\r\n","import { \r\n    FETCH_ROLES_BEGIN, \r\n    FETCH_ROLES_SUCCESS, \r\n    FETCH_ROLES_FAILURE, \r\n    AUTH0_REGISTRATION_BEGIN, \r\n    AUTH0_REGISTRATION_SUCCESS, \r\n    AUTH0_REGISTRATION_FAILURE, \r\n    ASSIGN_ROLES_BEGIN, \r\n    ASSIGN_ROLES_SUCCESS, \r\n    ASSIGN_ROLES_FAILURE,\r\n    VALIDATE_REGISTER_CODE_BEGIN,\r\n    VALIDATE_REGISTER_CODE_SUCCESS,\r\n    VALIDATE_REGISTER_CODE_FAILURE\r\n } from './types';\r\n\r\nimport axios from 'axios';\r\nimport auth0client from '../auth/Auth';\r\nimport { MEDLOCK_API } from '../config/servers';\r\n\r\nexport const fetchRolesBegin = () => ({\r\n    type: FETCH_ROLES_BEGIN\r\n});\r\n  \r\nexport const fetchRolesSuccess = roles => ({\r\n    type: FETCH_ROLES_SUCCESS,\r\n    payload: {\r\n        roles\r\n    }\r\n});\r\n\r\nexport const fetchRolesFailure = error => ({\r\n    type: FETCH_ROLES_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n  \r\nexport function fetchRoles(API_MANAGEMENT_TOKEN) {\r\n    console.log(\"action initiated: fetchRoles\");\r\n    const user_id = auth0client.userProfile.sub; \r\n\r\n    const API_URL = `https://medlock-dev.auth0.com/api/v2/users/${user_id}/roles`;\r\n    const headers = { \r\n        authorization: `Bearer ${API_MANAGEMENT_TOKEN}`,\r\n    };\r\n    \r\n    return dispatch => {\r\n      dispatch(fetchRolesBegin());\r\n      return axios.get(API_URL, { headers })\r\n        .then(res => {\r\n          dispatch(fetchRolesSuccess(res.data));\r\n        })\r\n        .catch(error => {\r\n            dispatch(fetchRolesFailure(error));\r\n        });\r\n    };\r\n} \r\n\r\nconst auth0RegistrationBegin = () => ({\r\n    type: AUTH0_REGISTRATION_BEGIN\r\n});\r\n\r\nconst auth0RegistrationSuccess = userProfile => ({\r\n    type: AUTH0_REGISTRATION_SUCCESS,\r\n    payload: {\r\n        userProfile\r\n    }\r\n});\r\n\r\nconst auth0RegistrationFailure = error => ({\r\n    type: AUTH0_REGISTRATION_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n\r\n});\r\n\r\nexport function auth0Registration(newUser, API_MANAGEMENT_TOKEN) {\r\n    const API_URL = 'https://medlock-dev.auth0.com/api/v2/users';\r\n    const headers = { authorization: `Bearer ${API_MANAGEMENT_TOKEN}`, \r\n                    'content-type': 'application/json' };\r\n    return dispatch => {\r\n        dispatch(auth0RegistrationBegin());\r\n        return axios.post(API_URL, newUser, { headers })\r\n            .then(res => {\r\n                dispatch(auth0RegistrationSuccess(res.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(`auth0registration: ${error}`);\r\n                dispatch(auth0RegistrationFailure(error));\r\n                throw error;\r\n            });\r\n    }\r\n}\r\n\r\nconst assignRolesBegin = () => ({\r\n    type: ASSIGN_ROLES_BEGIN\r\n});\r\n\r\nconst assignRolesSuccess = role => ({\r\n    type: ASSIGN_ROLES_SUCCESS,\r\n    payload: {\r\n        role\r\n    }\r\n});\r\n\r\nconst assignRolesFailure = error => ({\r\n    type: ASSIGN_ROLES_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function assignRoles(user_id, API_MANAGEMENT_TOKEN, role) {\r\n    const { getAccessToken } = auth0client;\r\n    const API_URL = `https://medlock-dev.auth0.com/api/v2/users/${user_id}/roles`;\r\n    const headers = { authorization: `Bearer ${API_MANAGEMENT_TOKEN}`, \r\n                    'Content-Type': 'application/json' };\r\n\r\n    let req_body = {}; \r\n    \r\n    switch(role) {\r\n        case \"Patient\": \r\n            req_body = {\r\n                \"roles\": [\r\n                    \"rol_3rJHjXxeLiD1ZJLo\" \r\n                ]\r\n            }\r\n            break; \r\n        case \"Provider\": \r\n            req_body = {\r\n                \"roles\": [\r\n                    \"rol_eXgwl6628aJ35Cq4\" \r\n                ]\r\n            }\r\n            break; \r\n        default: \r\n            break;\r\n    } \r\n\r\n    return dispatch => {\r\n        dispatch(assignRolesBegin());\r\n        return axios.post(API_URL, req_body, { headers })\r\n            .then(res => {\r\n                dispatch(assignRolesSuccess(res.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                dispatch(assignRolesFailure(error));\r\n            });\r\n    }\r\n}\r\n\r\nconst validateRegisterCodeBegin = () => ({\r\n    type: VALIDATE_REGISTER_CODE_BEGIN,\r\n});\r\n\r\nconst validateRegisterCodeSuccess = () => ({\r\n    type: VALIDATE_REGISTER_CODE_SUCCESS,\r\n});\r\n\r\nconst validateRegisterCodeFailure = (error) => ({\r\n    type: VALIDATE_REGISTER_CODE_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function validateRegisterCode(registerCode, role) {\r\n    const { getAccessToken } = auth0client;\r\n    const headers = {\r\n        'Authorization': `Bearer ${getAccessToken()}`\r\n    }\r\n    let API_URL = `${MEDLOCK_API}`;\r\n\r\n    if (role.toLowerCase() === \"provider\") {\r\n        API_URL += \"/provider/register/code\"\r\n    } else {\r\n        API_URL += \"/patient/register/code\"\r\n    }\r\n\r\n    let req_body = { registerCode, role }; \r\n    return dispatch => {\r\n        dispatch(validateRegisterCodeBegin());\r\n        return axios.post(API_URL, req_body, { headers })\r\n            .then(res => {\r\n                dispatch(validateRegisterCodeSuccess(res.data));\r\n            })\r\n            .catch(error => {\r\n                dispatch(validateRegisterCodeFailure(error));\r\n            });\r\n    }\r\n}\r\n\r\n\r\n\r\n","import axios from 'axios'; \r\nimport { MEDLOCK_URL } from '../config/servers';\r\n\r\n\r\nexport function getUserByEmail(email, AMT) {\r\n    const API_URL = `https://medlock-dev.auth0.com/api/v2/users-by-email?email=${email}`;\r\n    const headers = { authorization: `Bearer ${AMT}`, \r\n                    'content-type': 'application/json' };\r\n    \r\n    const promise = axios.get(API_URL, { headers }); \r\n\r\n    return promise; \r\n}\r\n\r\n\r\nexport function fetchAMT() {\r\n    console.log(\"called function: fetchAMT\");\r\n    const AMTHeader = { \r\n        'Content-Type': 'application/json',\r\n        'Access-Control-Allow-Origin': MEDLOCK_URL,\r\n     }; \r\n    const AMTBody = {\"client_id\":\"Wf9NsAneKffcZ8y24IhMzjZ4C3JvIken\",\"client_secret\":\"sPFQ_UQ1G5e20F87cc2MDU-BDjzG1i9CHEnOISfnuHSgyYGvI_zhXQR5nsZto-tA\",\"audience\":\"https://medlock-dev.auth0.com/api/v2/\",\"grant_type\":\"client_credentials\"}; \r\n    const API_URL = `https://medlock-dev.auth0.com/oauth/token`;\r\n    console.log(AMTHeader);\r\n    const promise = axios.post(API_URL, AMTBody, AMTHeader); \r\n\r\n    return promise; \r\n\r\n}\r\n\r\nexport function resetPassword(email) {\r\n    const URL = 'https://medlock-dev.auth0.com/dbconnections/change_password'; \r\n    const headers = { 'Content-Headers': 'application/json' }; \r\n    const body = {\r\n        'client_id': 'Wf9NsAneKffcZ8y24IhMzjZ4C3JvIken', \r\n        'email': email, \r\n        'connection': 'Username-Password-Authentication' \r\n    } \r\n\r\n    const promise = axios.post(URL, body, headers) \r\n        .then(res => {\r\n            console.log(`Reset Password: ${res.data}`); \r\n        }) \r\n        .catch(error => console.log(error)); \r\n        \r\n    return promise; \r\n        \r\n} \r\n\r\n// THERE IS NO SECURITY HERE ??? \r\n// Store hashed password ??? \r\n// This does NOT work at the moment. \r\nexport function newPassword(password, user_id, AMT) {\r\n    const URL = `https://medlock-dev.auth0.com/api/v2/users/${user_id}`; \r\n    const headers = { 'Content-Type': 'application/json', \r\n                    authorization: `Bearer ${AMT}` }; \r\n    const body = {\r\n        'password': password, \r\n        'connection': 'Username-Password-Authentication' \r\n    }\r\n\r\n    const promise = axios.patch(URL, body, headers) \r\n        .then(res => {\r\n            console.log(`New Password: ${res.data}`); \r\n        }) \r\n        .catch(error => console.log(error)); \r\n        \r\n    return promise; \r\n        \r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect, withRouter } from 'react-router-dom';\r\nimport auth0client from '../auth/Auth';\r\nimport history from '../components/nav/history';\r\n\r\nfunction SecuredRoute({component: Component, ...rest}) {\r\n    return (\r\n        <div>\r\n            <Route \r\n                {...rest}\r\n                render={ props => {\r\n                    return auth0client.isAuthenticated() ? (\r\n                        <Component {...rest} />\r\n                    ) : (\r\n                        <Redirect\r\n                            to={{\r\n                                pathname: \"/\",\r\n                                state: { from: props.location }\r\n                            }}\r\n                        />\r\n                    );\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(SecuredRoute);\r\n","import React, { Component } from 'react';\r\nimport profilePic from './profile_pic.png';\r\nimport '../../css/UserInfo.css';\r\n\r\nexport default class UserInfo extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"UserInfo\">\r\n                <div className=\"dropdown\">\r\n                    {this.props.name}\r\n                </div>\r\n                <div>\r\n                    <img className=\"profile-picture\" src={profilePic} alt=\"Profile Picture\"/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'; \r\nimport '../../css/DashHeader.css'; \r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n// TODO: Style button and toggle functionality \r\n\r\n\r\nclass AddDispenser extends Component {\r\n    render() {\r\n        return (\r\n            <div id=\"add-dispenser-btn\" onClick={this.props.displayCodeCallback} style={{cursor:'pointer'}}>\r\n                + Add Dispenser\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nAddDispenser.propTypes = {\r\n    displayCodeCallback: PropTypes.func.isRequired \r\n}; \r\n\r\n\r\nexport default AddDispenser; ","import React, { Component } from 'react'; \r\nimport '../../css/DashHeader.css'; \r\nimport bigLogo from '../../icons/white-logo.png'; \r\nimport UserInfo from './UserInfo';\r\nimport AddDispenser from './AddDispenser'; \r\nimport menuIcon from '../../icons/round-menu-24px.svg';\r\nimport PropTypes from 'prop-types';\r\n\r\n// TODO: Develop logic to display or hide Add Dispenser button by role and registration \r\n\r\nclass DashHeader extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props.roles); \r\n    }\r\n\r\n    collapsedSideBarJSX = () => {\r\n        return (\r\n            <div className=\"DashHeader\" >\r\n                <div className=\"menuIcon-container collapsed\" onClick={this.props.toggleSideBar}>\r\n                    <img className=\"menuIcon\" src={menuIcon} />\r\n                </div>\r\n                <div className=\"quote\">\r\n                    <body>\r\n                        <p>\"You never know how strong you are until being strong is your only choice.\"</p>\r\n                    </body>\r\n                </div>\r\n                {\r\n                    this.props.roles[0].name == \"Patient\" && (\r\n                        <div className=\"AddDispenser-container\">\r\n                            <AddDispenser displayCodeCallback={this.props.displayDispenserCode} /> \r\n                        </div>\r\n                    )\r\n                }\r\n                <div className=\"UserInfo-container\">\r\n                    <UserInfo name={this.props.name} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    expandedSideBarToggleJSX = () => {\r\n        return (\r\n            <div className=\"DashHeader\" >\r\n                <div className=\"menuIcon-container expanded\" onClick={this.props.toggleSideBar}>\r\n                    <img className=\"menuIcon\" src={menuIcon} />\r\n                </div>\r\n                {\r\n                    this.props.roles[0].name == \"Patient\" && (\r\n                        <div className=\"AddDispenser-container\">\r\n                            <AddDispenser displayCodeCallback={this.props.displayDispenserCode} /> \r\n                        </div>\r\n                    )\r\n                }\r\n                <div className=\"UserInfo-container\">\r\n                    <UserInfo name={this.props.name} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    expandedSideBarNoToggleJSX = () => {\r\n        return (\r\n            <div className=\"DashHeader\" >\r\n                <div></div>\r\n                <div className=\"quote\">\r\n                    <body>\r\n                        <p>\"You never know how strong you are until being strong is your only choice.\"</p>\r\n                    </body>\r\n                </div>\r\n                {\r\n                    this.props.roles[0].name == \"Patient\" && (\r\n                        <div className=\"AddDispenser-container\">\r\n                            <AddDispenser displayCodeCallback={this.props.displayDispenserCode} /> \r\n                        </div>\r\n                    )\r\n                }\r\n                <div className=\"UserInfo-container\">\r\n                    <UserInfo name={this.props.name} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"DashHeader\">\r\n                {\r\n                    this.props.roles[0].name == \"Patient\" && (\r\n                        <div className=\"AddDispenser-container\">\r\n                            <AddDispenser displayCodeCallback={this.props.displayDispenserCode} /> \r\n                        </div>\r\n                    )\r\n                }\r\n                <div className=\"UserInfo-container\">\r\n                    <UserInfo name={this.props.name} />\r\n                </div>\r\n            </div>\r\n        )\r\n        // if (this.props.sideBarCollapsed) {\r\n        //     return this.collapsedSideBarJSX();\r\n\r\n        // } else if (this.props.sideBarToggle) { //expanded and able to toggle\r\n        //     return this.expandedSideBarToggleJSX();\r\n        // } else { //expanded and unable to toggle\r\n        //     return this.expandedSideBarNoToggleJSX();\r\n        // }\r\n    }\r\n}\r\n\r\nDashHeader.propTypes = {\r\n    displayDispenserCode: PropTypes.func.isRequired\r\n}\r\n\r\nexport default DashHeader; \r\n","// Include Profiles Section \r\n// import InboxIcon from '../../icons/round-email-24px.svg';\r\nimport MyDataIcon from '../../icons/round-timeline-24px.svg';\r\nimport ResourcesIcon from '../../icons/round-folder-24px.svg';\r\nimport DashboardIcon from '../../icons/round-home-24px.svg';\r\nimport ProfileIcon from '../../icons/round-person-24px.svg';\r\nimport MyPatientsIcon from '../../icons/round-people-24px.svg';\r\n\r\nexport const modules = [\r\n    {\r\n        name: 'Dashboard',\r\n        id: 'dashboard', \r\n        roles: null,\r\n        content: {\r\n            icon: DashboardIcon,\r\n        },\r\n        link: '/dashboard',\r\n    }, \r\n    // {\r\n    //     name: 'Inbox', \r\n    //     id: 'inbox',\r\n    //     roles: [\r\n    //         {\r\n    //             name: 'Provider', \r\n    //             description: 'Access messages from patients and other providers'\r\n    //         }, \r\n    //         {\r\n    //             name: 'Patient', \r\n    //             description: 'Access messages from my providers '\r\n    //         }\r\n    //     ], \r\n    //     content: {\r\n    //         icon: InboxIcon, \r\n    //     },\r\n    //     link: '/dashboard/inbox'\r\n    // },\r\n    {\r\n        name: 'My Data',\r\n        id: 'mydata',\r\n        roles: [\r\n            {\r\n                name: 'Patient', \r\n                description: 'Track my medication consumption and pain management '\r\n            }\r\n        ], \r\n        content:  {\r\n            icon: MyDataIcon,\r\n        },\r\n        link: '/dashboard/mydata'\r\n    },\r\n    {\r\n        name: 'Resources',\r\n        id: 'resources',\r\n        roles: [\r\n            {\r\n                name: 'Provider', \r\n                description: 'View resources on the latest opioid regulations '\r\n            }, \r\n            {\r\n                name: 'Patient', \r\n                description: 'View resources to help maintain sobriety '\r\n            }\r\n        ],  \r\n        content: {\r\n            icon: ResourcesIcon,\r\n        },\r\n        link: '/dashboard/resources'\r\n    }, \r\n    {\r\n        name: 'My Patients', \r\n        id: 'mypatients',\r\n        roles: [\r\n            {\r\n                name: 'Provider', \r\n                description: 'View a list of all your patients ' \r\n            }\r\n        ], \r\n        content: {\r\n            icon: MyPatientsIcon, \r\n        }, \r\n        link: '/dashboard/mypatients' \r\n    },\r\n    {\r\n        name: 'Profile',\r\n        id: 'profile',\r\n        roles: [\r\n            {\r\n                name: 'Patient',\r\n                description: 'View and edit your profile '\r\n            },\r\n            {\r\n                name: 'Provider',\r\n                description: 'View and edit your profile '\r\n            }\r\n        ],\r\n        content: {\r\n            icon: ProfileIcon,\r\n        },\r\n        link: '/dashboard/profile'\r\n    },\r\n    {\r\n        name: 'Surveys',\r\n        id: 'surveys',\r\n        roles: [\r\n            {\r\n                name: 'Patient', \r\n                description: 'Take surveys'\r\n            }\r\n        ], \r\n        content:  {\r\n            icon: MyDataIcon,\r\n        },\r\n        link: '/dashboard/survey'\r\n    },\r\n    // {\r\n    //     name: 'Dispenser',\r\n    //     id: 'dispenser',\r\n    //     roles: [\r\n    //         {\r\n    //             name: 'Patient', \r\n    //             description: 'Simulate dispenses'\r\n    //         }\r\n    //     ], \r\n    //     content:  {\r\n    //         icon: MyDataIcon,\r\n    //     },\r\n    //     link: '/dashboard/dispenser'\r\n    // }\r\n\r\n]","import React, { Component } from 'react'\r\n\r\nexport default class PersonalDataView extends Component {\r\n    render() {\r\n        const { personalData } = this.props;\r\n        return (\r\n            <div className=\"PersonalDataView\">\r\n                <div className=\"content\">\r\n                    <h4>{personalData.name}</h4>\r\n                    <h6>Bio: {personalData.bio} </h6>\r\n                    <h6>Sex: {personalData.sex}</h6>\r\n                    <h6>Birthday: {personalData.birthday.split('T')[0]}</h6>\r\n                    <h6>Address: {personalData.address.street} {personalData.address.city}, {personalData.address.state} {personalData.address.zip}</h6>\r\n                    <h6>Email: {personalData.email}</h6>\r\n                    <h6>Phone: {personalData.phone}</h6>\r\n                    <h6>Chat Name: {personalData.chatname}</h6>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Button } from 'reactstrap';\r\n\r\nexport default class SideBarItem extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"SideBarItem\" >\r\n                <Button\r\n                    onClick={() => {\r\n                        this.props.history.push(this.props.module.link)\r\n                    }}\r\n                >{this.props.module.name}</Button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport infoIcon from '../../../icons/003-info.svg';\r\nimport history from '../history';\r\nimport ReactGA from 'react-ga'; \r\n\r\nexport default class ModuleLink extends Component {\r\n    \r\n    route = () => {\r\n        ReactGA.event({\r\n            category: 'Sidebar Click', \r\n            action: 'Navigated to ' + this.props.module.name + ' from Sidebar', \r\n            label: 'Click ' + this.props.module.name + ' from Sidebar'\r\n        }); \r\n        console.log(this.props.module.link);\r\n        console.log(history);\r\n        history.push(this.props.module.link);\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"ModuleLink\" onClick={this.route}>\r\n                <div>\r\n                    <img className=\"ModuleLink-icon\" src={this.props.module.content.icon} />\r\n                </div>\r\n                <div className=\"ModuleLink-name\">\r\n                    <p>{this.props.module.name}</p>\r\n                    {/* <button className=\"SideBarButton\"\r\n                        onClick={() => {\r\n                            this.props.history.push(this.props.module.link)\r\n                        }}\r\n                    >{this.props.module.name}</button> */}\r\n                </div>\r\n                <div>\r\n                    <img src='' />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport bigLogo from '../../../icons/white-logo.png'; \r\nimport collapsedMenuIcon from '../../../icons/round-menu-24px.svg';\r\nimport { withRouter } from 'react-router-dom';\r\nimport auth0client from '../../../auth/Auth';\r\nimport { modules } from '../ModuleInfo'; \r\nimport '../../../css/SideBar.css';\r\n\r\nimport SideBarItem from './SideBarItem';\r\nimport PersonalDataView from '../../patientView/PersonalDataView';\r\nimport ModuleLink from './ModuleLink';\r\n\r\nclass SideBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            modules,\r\n        }\r\n    }\r\n\r\n    containsRole = (roles, requiredRole) => {\r\n        var retval = false;\r\n        roles.forEach(role => {\r\n            if (role.name === requiredRole) \r\n                retval = true;\r\n        });\r\n        return retval;\r\n    }\r\n\r\n    filterModules = () => {\r\n\r\n        const { roles } = this.props;\r\n        const role = roles[0].name;\r\n        const newModules = modules.filter(module => {\r\n            // module can be seen by all roles\r\n            if (module.roles === null) return true;\r\n\r\n            // module can only be seen by specific role\r\n            else if (this.containsRole(module.roles, role)) return true;\r\n\r\n            // module filtered out\r\n            else return false;\r\n        });\r\n        this.setState({modules: newModules});\r\n    }\r\n\r\n    componentDidMount() {    \r\n        this.filterModules();\r\n    }\r\n    \r\n    sideBarItemsHTML = () => {\r\n        return (\r\n                <div className=\"ModuleLinks-container\">\r\n                    <h6 className=\"SideBar-subtitle\">NAVIGATE</h6>\r\n                        {this.state.modules.map(module => {\r\n                            return (\r\n                                <ModuleLink \r\n                                    module={module} />\r\n                            );\r\n                        })}\r\n                </div>\r\n        );\r\n    }\r\n\r\n    expandedSideBar = () => {\r\n        if (this.props.togglable) {\r\n            return (\r\n                <div className=\"SideBar\">\r\n                    <div className=\"logo-container\">\r\n                        <img className=\"dash-logo\" src={bigLogo} />\r\n                        <img id=\"collapsedMenuItem\" src={collapsedMenuIcon} onClick={this.props.toggle}></img>\r\n                    </div>\r\n                    <div className=\"SideBar-welcome\">\r\n                        <h4>Welcome <strong>{this.props.personalData.name}</strong></h4>\r\n                    </div>\r\n                    {this.sideBarItemsHTML()}\r\n                    <div className=\"logoutButton-container\">\r\n                        <button\r\n                            className=\"logoutButton\"\r\n                            onClick={auth0client.logout}\r\n                        >Logout</button>\r\n                    </div>\r\n                </div>\r\n            );\r\n\r\n        } else {\r\n            return (\r\n                <div className=\"SideBar\">\r\n                    <div className=\"logo-container\">\r\n                        <img className=\"dash-logo\" src={bigLogo} />\r\n                        <img id=\"collapsedMenuItem\" src={collapsedMenuIcon} onClick={this.props.toggle}></img>\r\n                    </div>\r\n                    <div className=\"SideBar-welcome\">\r\n                        <h4>Welcome <strong>{this.props.personalData.name}</strong></h4>\r\n                    </div>\r\n                    {this.sideBarItemsHTML()}\r\n                    <div className=\"logoutButton-container\">\r\n                        <button\r\n                            className=\"logoutButton\"\r\n                            onClick={auth0client.logout}\r\n                        >Logout</button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    collapsedSideBar = () => {\r\n        return (\r\n            <div className=\"Collapsed\">\r\n                <img id=\"collapsedMenuItem\" src={collapsedMenuIcon} onClick={this.props.toggle}></img>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        if (this.props.collapsed) {\r\n            return this.collapsedSideBar();\r\n        } else {\r\n            return this.expandedSideBar();\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(SideBar);\r\n","import {\r\n  SUBMIT_PDISURVEY_BEGIN,\r\n  SUBMIT_PDISURVEY_SUCCESS,\r\n  SUBMIT_PDISURVEY_FAILURE,\r\n  FETCH_PDISURVEYS_BEGIN,\r\n  FETCH_PDISURVEYS_SUCCESS,\r\n  FETCH_PDISURVEYS_FAILURE, \r\n  SUBMIT_INTAKESURVEY_BEGIN, \r\n  SUBMIT_INTAKESURVEY_SUCCESS, \r\n  SUBMIT_INTAKESURVEY_FAILURE \r\n} from './types';\r\nimport auth0client from '../auth/Auth';\r\nimport { MEDLOCK_API } from '../config/servers';\r\n\r\nconst axios = require('axios');\r\n\r\n// Helper functions give access to the status of the request \r\nexport const submitPDISurveyBegin = () => ({\r\n  type: SUBMIT_PDISURVEY_BEGIN\r\n});\r\n\r\nexport const submitPDISurveySuccess = survey => ({\r\n  type: SUBMIT_PDISURVEY_SUCCESS,\r\n  payload: {\r\n    survey\r\n  }\r\n});\r\n\r\nexport const submitPDISurveyFailure = error => ({\r\n  type: SUBMIT_PDISURVEY_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\n// Submit a survey to the server \r\nexport function submitPDISurvey(survey) {\r\n  const { getAccessToken } = auth0client;\r\n  const API_URL = MEDLOCK_API;\r\n  const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n  \r\n  return dispatch => {\r\n    dispatch(submitPDISurveyBegin());\r\n    return axios.post(`${API_URL}/survey/pdisurvey`, survey, { headers })\r\n      .then(res => dispatch(submitPDISurveySuccess(res.data)))\r\n      .catch(error => dispatch(submitPDISurveyFailure(error)));\r\n  };\r\n  \r\n}\r\n\r\n// Helper functions give access to the status of the request \r\nexport const fetchPDISurveysBegin = () => ({\r\n  type: FETCH_PDISURVEYS_BEGIN\r\n});\r\n\r\nexport const fetchPDISurveysSuccess = surveys => ({\r\n  type: FETCH_PDISURVEYS_SUCCESS,\r\n  payload: {\r\n    surveys\r\n  }\r\n});\r\n\r\nexport const fetchPDISurveysFailure = error => ({\r\n  type: FETCH_PDISURVEYS_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\n// Fetch surveys for a particular user with Access Token \r\nexport function fetchPDISurveys() {\r\n  const { getAccessToken } = auth0client;\r\n  const API_URL = MEDLOCK_API;\r\n  const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n  \r\n  return dispatch => {\r\n    dispatch(fetchPDISurveysBegin());\r\n    return axios.get(`${API_URL}/survey/pdisurvey`, { headers })\r\n      .then(res => {\r\n        console.log(res.data);\r\n        dispatch(fetchPDISurveysSuccess(res.data));\r\n      })\r\n      .catch(error => dispatch(fetchPDISurveysFailure(error)));\r\n  };\r\n} \r\n\r\nexport const submitIntakeSurveyBegin = () => ({\r\n  type: SUBMIT_INTAKESURVEY_BEGIN\r\n});\r\n\r\nexport const submitIntakeSurveySuccess = survey => ({\r\n  type: SUBMIT_INTAKESURVEY_SUCCESS,\r\n  payload: {\r\n    survey\r\n  }\r\n});\r\n\r\nexport const submitIntakeSurveyFailure = error => ({\r\n  type: SUBMIT_INTAKESURVEY_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\n// Submit a survey to the server \r\nexport function submitIntakeSurvey(survey) {\r\n\r\n  console.log(\"Intake Survey Actions\"); \r\n  console.log(survey); \r\n\r\n  const { getAccessToken } = auth0client;\r\n  const API_URL = MEDLOCK_API;\r\n  const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n  \r\n  return dispatch => {\r\n    dispatch(submitIntakeSurveyBegin());\r\n    return axios.post(`${API_URL}/survey/intake`, survey, { headers })\r\n      .then(res => dispatch(submitIntakeSurveySuccess(res.data)))\r\n      .catch(error => dispatch(submitIntakeSurveyFailure(error)));\r\n  };\r\n  \r\n}","import {\r\n    FETCH_DISPENSER_BEGIN, \r\n    FETCH_DISPENSER_SUCCESS, \r\n    FETCH_DISPENSER_FAILURE \r\n} from './types'; \r\n\r\nimport auth0client from '../auth/Auth';\r\nimport { MEDLOCK_API } from '../config/servers';\r\n\r\n\r\nconst axios = require('axios'); \r\n\r\n// Helper functions give access to the status of the request \r\nconst fetchDispenserBegin = () => ({\r\n    type: FETCH_DISPENSER_BEGIN \r\n});\r\n  \r\nconst fetchDispenserSuccess = dispenser => ({\r\n    type: FETCH_DISPENSER_SUCCESS,\r\n    payload: { dispenser }\r\n});\r\n\r\nconst fetchDispenserFailure = error => ({\r\n    type: FETCH_DISPENSER_FAILURE,\r\n    payload: { error }\r\n});\r\n\r\n// Fetch Dispenses Data from Server \r\nexport function fetchDispenser(id) {\r\n    console.log(\"fetching dispenser with id: \" + id);\r\n    const { getAccessToken } = auth0client;\r\n    const API_URL = MEDLOCK_API;\r\n    const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n\r\n    return dispatch => {\r\n        dispatch(fetchDispenserBegin());\r\n        return axios.get(`${API_URL}/dispense?id=` + id, { headers })\r\n        .then(res => { \r\n            console.log(res.data);\r\n            dispatch(fetchDispenserSuccess(res.data));\r\n        })\r\n        .catch(error => dispatch(fetchDispenserFailure(error)));\r\n    };\r\n}\r\n","import React, { Component } from 'react';\r\nimport * as d3 from \"d3\";\r\nimport ReactGA from 'react-ga'; \r\n\r\nexport default class PDISurveyBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            svg: null,\r\n            chart: null,\r\n            config: null,\r\n            surveyIndex: props.data.length - 1,\r\n            width: 800,\r\n            height: 300,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        // important in React to ensure that the chart displays\r\n        // only when the component has been mounted on the DOM\r\n        var size = this.getSize();\r\n\r\n        this.setState({width: size.width, height: size.height}, () => {\r\n            this.drawChart();\r\n        });\r\n        \r\n        let resizedFn;\r\n        window.addEventListener(\"resize\", () => {\r\n            clearTimeout(resizedFn);\r\n            resizedFn = setTimeout(() => {\r\n                this.redrawChart();\r\n            }, 200)\r\n        });\r\n    }\r\n\r\n    getWidth() {\r\n        return this.refs.canvas.parentElement.offsetWidth;\r\n    }\r\n\r\n    getHeight() {\r\n        return this.refs.canvas.parentElement.offsetHeight;\r\n    }\r\n\r\n    getSize() {\r\n        const minWidth = 500;\r\n        const maxWidth = 1000;\r\n        const minHeight = 200;\r\n        const maxHeight = 400;\r\n        var curWidth = this.state.width;\r\n        var curHeight = this.state.height;\r\n        let newWidth = this.getWidth();\r\n        let newHeight = this.getHeight();\r\n        var width;\r\n        var height;\r\n\r\n        if (newWidth > minWidth && newWidth < maxWidth) {\r\n            width = newWidth;\r\n        } else {\r\n            width = curWidth;\r\n        }\r\n\r\n        if (newHeight > minHeight && newHeight < maxHeight) {\r\n            height = newHeight;\r\n        } else {\r\n            height = curHeight;\r\n        }\r\n\r\n        var size = {\r\n            width,\r\n            height\r\n        };\r\n\r\n        return size;\r\n    }\r\n\r\n    onSelectChange = (e) => {\r\n        ReactGA.event({\r\n            category: 'Data Chart Interaction', \r\n            action: 'Updated PDI Survey Chart Data to Chosen Date', //specify date user changed to\r\n            label: 'Change Time Interval for PDI Survey Bar Chart'\r\n        }); \r\n        this.setState({\r\n            surveyIndex: e.target.value,\r\n        });\r\n    }\r\n\r\n    surveySelect(dates) {\r\n        return (\r\n            <select onChange={this.onSelectChange}>\r\n                {dates.map((date, i) => {\r\n                        if (i == this.state.surveyIndex) \r\n                            return <option selected=\"selected\" value={i}>{this.formatTimestamp(date)}</option>\r\n                        return <option value={i}>{this.formatTimestamp(date)}</option>\r\n                    })\r\n                }\r\n            </select>\r\n        )\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.state.surveyIndex != prevState.surveyIndex) {\r\n            this.updateChart();\r\n        }\r\n    }\r\n\r\n    parseData() {\r\n        const data = {\r\n            x: this.props.data[this.state.surveyIndex].responses.map(pair => pair['question']),\r\n            y: this.props.data[this.state.surveyIndex].responses.map(pair => Number(pair['answer'])),\r\n        }\r\n        return data;\r\n    }\r\n\r\n    drawChart() {\r\n        const data = this.parseData();\r\n\r\n        const margin = 60;\r\n        const canvasHeight = this.state.height - 2*margin;\r\n        const canvasWidth = this.state.width - 2*margin;\r\n\r\n        const svg = d3.select(this.refs.canvas)\r\n            .append(\"svg\")\r\n            .attr(\"id\", this.props.id)\r\n            .attr(\"height\", this.state.height)\r\n            .attr(\"width\", this.state.width)\r\n        \r\n        const chart = svg.append('g')\r\n            .attr('transform', `translate(${margin}, ${margin})`);\r\n\r\n        const yScale = d3.scaleLinear()\r\n            .range([canvasHeight, 0])\r\n            .domain([0, 10])\r\n\r\n        chart.append('g')\r\n            .call(d3.axisLeft(yScale))\r\n\r\n        const xScale = d3.scaleBand()\r\n            .range([0, canvasWidth])\r\n            .domain(data.x)\r\n            .padding(0.2)\r\n\r\n        chart.append('g')\r\n            .attr('transform', `translate(0, ${canvasHeight})`)\r\n            .call(d3.axisBottom(xScale))\r\n\r\n        // create grid lines\r\n        chart.append('g')\r\n            .attr('class', 'grid')\r\n            .call(d3.axisLeft()\r\n                .scale(yScale)\r\n                .tickSize(-canvasWidth, 0, 0)\r\n                .tickFormat(''))\r\n\r\n        // y-axis label        \r\n        svg.append('text')\r\n            .attr('x', -(canvasHeight / 2) - margin)\r\n            .attr('y', margin / 2.4)\r\n            .attr('transform', 'rotate(-90)')\r\n            .attr('text-anchor', 'middle')\r\n            .text('Pain Disability Index')\r\n        \r\n\r\n        // x-axis label\r\n        svg.append('text')\r\n            .attr('x', canvasWidth / 2 + margin)\r\n            .attr('y', canvasHeight + margin * 1.7)\r\n            .attr('text-anchor', 'middle')\r\n            .text('Categories')\r\n\r\n        // title\r\n        svg.append('text')\r\n            .attr('id', 'title')\r\n            .attr('x', canvasWidth / 2 + margin)\r\n            .attr('y', 40)\r\n            .attr('text-anchor', 'middle')\r\n            .text(`PDI Survey Response for ${this.formatTimestamp(this.props.data[this.state.surveyIndex].date)}`)\r\n\r\n        const config = {\r\n            xScale,\r\n            yScale,\r\n            canvasHeight,\r\n        }\r\n\r\n        // plot data\r\n        chart.selectAll()\r\n            .data(data.y).enter()\r\n            .append(\"rect\")\r\n            .attr('x', (d, i) => xScale(data.x[i]))\r\n            .attr('y', (d, i) => yScale(d))\r\n            .attr('height', (d, i) => canvasHeight - yScale(d))\r\n            .attr('width', xScale.bandwidth())\r\n            .attr('fill', 'var(--medlock-blue)')\r\n\r\n        this.setState({\r\n            svg,\r\n            chart, \r\n            config,\r\n        });\r\n    }\r\n\r\n    redrawChart = () => {\r\n        var size = this.getSize();\r\n        this.setState({width: size.width, height: size.height});\r\n        d3.select(`#${this.props.id}`).remove();\r\n        this.drawChart();\r\n    }\r\n\r\n    updateChart = () => {\r\n        const {svg, chart, config} = this.state;\r\n        const data = this.parseData();\r\n\r\n        chart.selectAll(\"rect\")\r\n            .data(data.y)\r\n            .attr('y', (d, i) => config.yScale(d))\r\n            .attr('height', (d, i) => config.canvasHeight - config.yScale(d))\r\n\r\n        svg.select('#title')\r\n            .text(`PDI Survey Response for ${this.formatTimestamp(this.props.data[this.state.surveyIndex].date)}`)\r\n    }\r\n\r\n    formatTimestamp = (timestamp) => {\r\n        const date = new Date(timestamp);\r\n        return `${date.getMonth()+1}-${date.getDate()}-${date.getFullYear()}`;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`graph-container ${this.props.id}`} >\r\n                <div class=\"canvas\" ref=\"canvas\"></div>\r\n                <div className=\"graph-settings bar\" width={this.state.width} height={this.state.height}>\r\n                    <div>Date: {this.surveySelect(this.props.data.map(survey => survey.date))}</div>\r\n                </div>\r\n            </div>\r\n            );\r\n        }\r\n    }","import React, { Component } from 'react'\r\nimport * as d3 from \"d3\";\r\n\r\nexport default class DateTimeScatter extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        var formattedData = this.reformatData(this.props.data);\r\n        var dateRange = this.getDateRange(formattedData);\r\n        this.state = {\r\n            svg: null,\r\n            chart: null,\r\n            config: null,\r\n            width: 800,\r\n            height: 300,\r\n            // index of the start date\r\n            startDate: 0,\r\n            // index of the end date\r\n            endDate: dateRange.length - 1,\r\n            data: formattedData,\r\n            selectedEvents: {\r\n                dispenses: true,\r\n                btn1: false,\r\n                btn2: false,\r\n                btn3: false,\r\n            },\r\n            selectedDates: dateRange,\r\n            selectedData: formattedData,\r\n            dateRange: dateRange,\r\n        }\r\n        this.global = {\r\n            pointRadius: 5,\r\n            expandedPointRadius: 10,\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        console.log(\"componentDidMount() called\");\r\n\r\n        // var data = this.parseData(this.props.data); // replace dispenses with this.props.data\r\n        console.log(this.state.data);\r\n        var size = this.getSize();\r\n\r\n        this.setState({ width: size.width, height: size.height }, () => {\r\n            this.drawChart();\r\n        });\r\n\r\n        let resizedFn;\r\n        window.addEventListener(\"resize\", () => {\r\n            clearTimeout(resizedFn);\r\n            resizedFn = setTimeout(() => {\r\n                this.redrawChart();\r\n            }, 200)\r\n        });\r\n    }\r\n\r\n\r\n    getWidth() {\r\n        return this.refs.canvas.parentElement.offsetWidth;\r\n    }\r\n\r\n    getHeight() {\r\n        return this.refs.canvas.parentElement.offsetHeight;\r\n    }\r\n\r\n    getSize() {\r\n        const minWidth = 500;\r\n        const maxWidth = 1000;\r\n        const minHeight = 200;\r\n        const maxHeight = 400;\r\n        var curWidth = this.state.width;\r\n        var curHeight = this.state.height;\r\n        let newWidth = this.getWidth();\r\n        let newHeight = this.getHeight();\r\n        var width;\r\n        var height;\r\n\r\n        if (newWidth > minWidth && newWidth < maxWidth) {\r\n            width = newWidth;\r\n        } else {\r\n            width = curWidth;\r\n        }\r\n\r\n        if (newHeight > minHeight && newHeight < maxHeight) {\r\n            height = newHeight;\r\n        } else {\r\n            height = curHeight;\r\n        }\r\n\r\n        var size = {\r\n            width,\r\n            height\r\n        };\r\n\r\n        return size;\r\n    }\r\n\r\n    addZero(val) {\r\n        if (val < 10)\r\n            return \"0\" + val;\r\n        else\r\n            return \"\" + val;\r\n    }\r\n\r\n    sameDate(a, b) {\r\n        if (a.getDate() == b.getDate() && a.getMonth() == b.getMonth() && a.getYear() == b.getYear()) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {array} events \r\n     */\r\n    getDateRange(events) {\r\n        var dateRange = [];\r\n        var timestamps = events.map(event => event[0]);\r\n\r\n        if (timestamps.length < 2) {\r\n            return [new Date(timestamps[0])];\r\n        }\r\n\r\n        var firstDate = new Date(timestamps[0]);\r\n        var lastDate = new Date(timestamps[timestamps.length - 1]);\r\n\r\n        if (this.sameDate(firstDate, lastDate)) {\r\n            return [firstDate];\r\n        }\r\n\r\n        var curDate = new Date(firstDate.getTime());\r\n        while (!this.sameDate(curDate, lastDate)) {\r\n            var newDate = new Date(curDate.getTime());\r\n            newDate.setHours(0, 0, 0, 0);\r\n            dateRange.push(newDate);\r\n            curDate = new Date(curDate.getTime() + (24 * 60 * 60 * 1000));\r\n        }\r\n        lastDate.setHours(0, 0, 0, 0);\r\n        dateRange.push(lastDate);\r\n        return dateRange;\r\n    }\r\n\r\n    increaseByOneDay = (date) => {\r\n        var newDate = new Date(date.getTime() + (24 * 60 * 60 + 1000));\r\n        return newDate;\r\n    }\r\n\r\n    reformatData(data) {\r\n        var newData = data.map((set, i) => {\r\n            return set.map(timestamp => {\r\n                const date = new Date(timestamp);\r\n                const x = `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()}`       \r\n                const hours = date.getHours();\r\n                const min = date.getMinutes();\r\n                const sec = date.getSeconds();\r\n                const y = hours*3600 + min*60 + sec;\r\n                return [timestamp, x, y]\r\n            });\r\n        });\r\n        var formattedData = this.flattenData(newData).sort((a, b) => (new Date(a[0])).getTime() - (new Date(b[0])).getTime());\r\n        return formattedData;\r\n    }\r\n\r\n    flattenData(data) {\r\n        // should be called after parseData, add some check for that!\r\n        var flatData = []\r\n        data.forEach((set, i) => {\r\n            set.forEach(event => {\r\n                flatData.push([event[0], event[1], event[2], i]);\r\n            });\r\n        });\r\n        return flatData;\r\n    }\r\n\r\n    tooltipMouseover = (d, tooltip) => {\r\n        var html = `${this.formatTime(d)}`;\r\n\r\n        tooltip.html(html)\r\n            .style(\"left\", (d3.event.pageX - 17) + \"px\")\r\n            .style(\"top\", (d3.event.pageY - 11) + \"px\")\r\n            .style(\"padding\", \"2px\")\r\n            .style(\"margin\", \"0px\")\r\n            .transition()\r\n                .duration(300)\r\n                .style(\"opacity\", 0.7)\r\n    }\r\n\r\n    tooltipMouseout = (d, tooltip) => {\r\n        tooltip.transition()\r\n            .delay(2000)\r\n            .duration(300)\r\n            .style(\"opacity\", 0)\r\n    }\r\n\r\n    formatDate = (date) => {\r\n        return `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()}`;     \r\n    }\r\n\r\n    formatTime = (d) => {\r\n        const hours = Math.floor(d / 3600);\r\n        const minutes = Math.floor((d % 3600) / 60);\r\n        return `${this.addZero(hours)}:${this.addZero(minutes)}`\r\n    }\r\n\r\n    drawChart() {\r\n        console.log(\"drawChart() called\");\r\n        var data = this.getSelectedData();\r\n        const margin = 60;\r\n        const canvasHeight = this.state.height - 2*margin;\r\n        const canvasWidth = this.state.width - 2*margin;\r\n\r\n        const canvas = d3.select(this.refs.canvas);\r\n        const svg = canvas.append(\"svg\")\r\n            .attr(\"id\", this.props.id)\r\n            .attr(\"height\", this.state.height)\r\n            .attr(\"width\", this.state.width);\r\n\r\n        const chart = svg.append('g')\r\n            .attr('transform', `translate(${margin}, ${margin})`);\r\n\r\n        const yScale = d3.scaleTime()\r\n            .domain([0, 86400])\r\n            .range([canvasHeight, 0])\r\n\r\n        const yAxis = d3.axisLeft()\r\n            .scale(yScale)\r\n            .ticks(8)\r\n            .tickSize(-canvasWidth, 0, 0)\r\n            .tickValues([0, 10800, 21600, 32400, 43200, 54000, 64800, 75600, 86400])\r\n            .tickFormat((d, i) => this.formatTime(d));\r\n\r\n        var dates = data.map(d => d[1]).sort();\r\n        this.getDateRange(dates);\r\n        var selectedDates = this.state.dateRange.slice(this.state.startDate, this.state.endDate+1);\r\n        var xDomain = selectedDates.map(date => this.formatTimestamp(date));\r\n        const xScale = d3.scaleBand()\r\n            .range([0, canvasWidth])\r\n            .domain(xDomain)\r\n            .padding(0.2);\r\n\r\n        chart.append('g')\r\n            .attr('transform', `translate(0, ${canvasHeight})`)\r\n            .call(d3.axisBottom(xScale));\r\n\r\n         // create grid lines\r\n         chart.append('g')\r\n            .attr('class', 'grid')\r\n            .call(yAxis);\r\n\r\n        // y-axis label        \r\n        svg.append('text')\r\n            .attr('x', -(canvasHeight / 2) - margin)\r\n            .attr('y', margin / 2.4)\r\n            .attr('transform', 'rotate(-90)')\r\n            .attr('text-anchor', 'middle')\r\n            .text('Time')\r\n        \r\n        // x-axis label\r\n        svg.append('text')\r\n            .attr('x', canvasWidth / 2 + margin)\r\n            .attr('y', canvasHeight + margin * 1.7)\r\n            .attr('text-anchor', 'middle')\r\n            .text('Date')\r\n\r\n        // title\r\n        svg.append('text')\r\n            .attr('id', 'title')\r\n            .attr('x', canvasWidth / 2 + margin)\r\n            .attr('y', 40)\r\n            .attr('text-anchor', 'middle')\r\n            .text(this.props.title)\r\n            \r\n        var tooltip = d3.select(this.refs.canvas).append(\"div\")\r\n            .attr(\"class\", \"tooltip\")\r\n            .style(\"opacity\", \"0\")\r\n\r\n        const ids = [];\r\n\r\n        // var combinedPoints = this.combineClosePoints(data);\r\n        // console.log(\"post\");\r\n        // var newData = combinedPoints[0];\r\n        // var rScale = combinedPoints[1];\r\n        chart.selectAll()\r\n            .data(data).enter()\r\n            .append(\"circle\")\r\n            .attr('cx', (d, i) => xScale(d[1]) + xScale.bandwidth()/2)\r\n            .attr('cy', (d, i) => yScale(d[2]))\r\n            .attr('r', this.global.pointRadius)\r\n            .attr('id', (d, i) => `p${i}`)\r\n            .attr('fill', (d, i) => this.props.colors[d[3]])\r\n            .attr('opacity', 0.5)\r\n            .on(\"mouseover\", (d, i) => {\r\n                this.setState({\r\n                    config: {\r\n                        mouseover: i\r\n                    }\r\n                })\r\n            });\r\n        \r\n        const config = { xScale, yScale, tooltip };\r\n\r\n        this.setState({ \r\n            svg, \r\n            chart,\r\n            config,\r\n        });\r\n    }\r\n\r\n    redrawChart = () => {\r\n        console.log(\"redrawChart() called\");\r\n        var size = this.getSize();\r\n        this.setState({width: size.width, height: size.height});\r\n        d3.select(`#${this.props.id}`).remove();\r\n        this.drawChart();\r\n    }\r\n\r\n    updateChart() {\r\n        console.log(\"updateChart() called\");\r\n        const { chart, config } = this.state;\r\n        /**\r\n         * since componentDidUpdate can be called before drawChart is called,\r\n         * make sure that chart is defined before proceeding\r\n         */\r\n         if (chart) { \r\n            const { xScale, yScale } = config;\r\n\r\n            var getSign = () => {\r\n                var val = Math.random() - 0.5;\r\n                return val / Math.abs(val);\r\n            }\r\n\r\n            chart.selectAll(\"circle\")\r\n            .on(\"mouseover\", (d, i) => {\r\n                console.log(`d: ${d}`);\r\n                console.log(`i: ${i}`);\r\n                // increase the size of the point\r\n                // randomly compute theta in [0, 2pi]\r\n                var theta = Math.random() * (2 * Math.PI);\r\n                // let r = 30\r\n                var r = 30;\r\n                // dx = rcos(0)\r\n                var dx = r * Math.cos(theta);\r\n                // dy = rsin(0)\r\n                var dy = r * Math.sin(theta);\r\n                // var dx = getSign() * Math.floor((Math.random() * 20) + 15);\r\n                // var dy = getSign() * Math.floor((Math.random() * 20) + 15);\r\n                chart.select(`#p${i}`)\r\n                    .transition()\r\n                        .duration(500)\r\n                        .attr('cx', (d, i) => (xScale(d[1]) + xScale.bandwidth()/2 + dx))\r\n                        .attr('cy', (d, i) => (yScale(d[2]) + dy))\r\n                    .transition()\r\n                        .delay(3000)\r\n                        .duration(500)\r\n                        .attr('cx', (d, i) => xScale(d[1]) + xScale.bandwidth()/2)\r\n                        .attr('cy', (d, i) => yScale(d[2]))\r\n                    // .attr(\"r\", this.global.expandedPointRadius);\r\n                \r\n                // show tooltip\r\n                this.tooltipMouseover(d[2], config.tooltip);\r\n            })\r\n            .on(\"mouseout\", (d, i) => {\r\n                // decrease the size of the point\r\n                // chart.select(`#p${i}`)\r\n                //     .transition()\r\n                //     .duration(1000)\r\n                //     .attr('cx', (d, i) => xScale(d[1]) + xScale.bandwidth()/2)\r\n                //     .attr('cy', (d, i) => yScale(d[2]))\r\n                \r\n                // hide tooltip\r\n                this.tooltipMouseout(d[1], config.tooltip);\r\n            });\r\n        }\r\n    }\r\n    \r\n    componentDidUpdate() {\r\n        console.log(\"componentDidUpate() called\");\r\n        this.updateChart();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`graph-container ${this.props.id}`}>\r\n                <div className=\"canvas\" ref=\"canvas\"></div>\r\n                <div className=\"graph-settings datetime\" width={this.state.width} height={this.state.height}>\r\n                    <div>{this.dataSelectorHTML()}</div>\r\n                    <div>\r\n                        <div>Start Date: {this.startDateSelect(this.state.dateRange)}</div>\r\n                        <div>End Date: {this.endDateSelect(this.state.dateRange)}</div>\r\n                    </div>\r\n                </div>\r\n            </div> \r\n        )\r\n    }\r\n\r\n    formatTimestamp = (timestamp) => {\r\n        const date = new Date(timestamp);\r\n        return this.formatDate(date);\r\n    }\r\n\r\n    onStartDateSelectChange = (e) => {\r\n        this.setState({\r\n            startDate: Number(e.target.value),\r\n        }, () => {\r\n            this.redrawChart();\r\n        });\r\n    }\r\n\r\n    onEndDateSelectChange = (e) => {\r\n        this.setState({\r\n            endDate: Number(e.target.value),\r\n        }, () => {\r\n            this.redrawChart();\r\n        });\r\n    }\r\n\r\n    dataSelectorHTML = () => {\r\n        return (\r\n            <form>\r\n                <div class=\"group\">\r\n                    <label>\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            name=\"dispenses\" \r\n                            checked={this.state.selectedEvents.dispenses}\r\n                            value={this.state.selectedEvents.dispenses} \r\n                            onChange={this.onDataSelectorChange} /> \r\n                        Dispenses\r\n                    </label>\r\n                    <div className=\"circle-legend dispenses\"></div>\r\n                </div>\r\n                <div class=\"group\">\r\n                    <label>\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            name=\"btn1\"\r\n                            value={this.state.selectedEvents.btn1} \r\n                            onChange={this.onDataSelectorChange} />\r\n                        Button 1\r\n                    </label>\r\n                    <div className=\"circle-legend btn1\"></div>\r\n                </div>\r\n                <div class=\"group\"> \r\n                    <label>\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            name=\"btn2\" \r\n                            value={this.state.selectedEvents.btn2}\r\n                            onChange={this.onDataSelectorChange} />\r\n                        Button 2\r\n                    </label>\r\n                    <div className=\"circle-legend btn2\"></div>\r\n                </div>\r\n                <div class=\"group\">\r\n                    <label>\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            name=\"btn3\" \r\n                            value={this.state.selectedEvents.btn3} \r\n                            onChange={this.onDataSelectorChange} />\r\n                        Button 3\r\n                    </label>\r\n                    <div className=\"circle-legend btn3\"></div>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    onDataSelectorChange = (e) => {\r\n        // some clicks not registering bc the sidebar div is overlayed\r\n        console.log(\"onDataSelectorChange() called\");\r\n        var val = this.strToBool(e.target.value);\r\n        var new_val = !val;\r\n        this.setState({\r\n            selectedEvents: {\r\n                ...this.state.selectedEvents,\r\n                [e.target.name]: new_val,\r\n            }\r\n        }, () => {\r\n            this.redrawChart();\r\n        });\r\n    }\r\n\r\n    getSelectedData = () => {\r\n        var data = this.getDataInDateRange();\r\n        data = this.getSelectedEvents(data);\r\n        return data;\r\n    }\r\n\r\n    getDataInDateRange = () => {\r\n        var firstDate = this.state.dateRange[this.state.startDate];\r\n        var lastDate = this.state.dateRange[this.state.endDate];\r\n        var lastDatePlusOne = new Date(lastDate.getTime() + (24 * 60 * 60 * 1000));\r\n        var selectedDates = this.state.data.filter(event => {\r\n            var date = new Date(event[0]);\r\n            if (date.getTime() >= firstDate.getTime() && date.getTime() < lastDatePlusOne.getTime()) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        });\r\n        return selectedDates;\r\n    }\r\n\r\n    getSelectedEvents = (data) => {\r\n        var selections = this.getDataSelections();\r\n        return data.filter((event, i) => selections.indexOf(event[3]) > -1);\r\n    }\r\n\r\n    getDataSelections = () => {\r\n        var selections = [];\r\n        const { selectedEvents } = this.state;\r\n        \r\n        if (selectedEvents.dispenses) { \r\n            selections.push(0);\r\n        } \r\n\r\n        if (selectedEvents.btn1) {\r\n            selections.push(1);\r\n        }\r\n\r\n        if (selectedEvents.btn2) {\r\n            selections.push(2)\r\n        }\r\n\r\n        if (selectedEvents.btn3) {\r\n            selections.push(3)\r\n        }\r\n\r\n        return selections;\r\n    }\r\n\r\n    strToBool = (str) => {\r\n        var bool = (str == 'true');\r\n        return bool;\r\n    }\r\n\r\n    startDateSelect = (events) => {\r\n        return (\r\n            <select onChange={this.onStartDateSelectChange}>\r\n                {\r\n                    events.map((event, i) => {\r\n                        if (i == this.state.startDate) {\r\n                            return <option selected=\"selected\" value={i}>{this.formatTimestamp(event)}</option>\r\n                        } else {\r\n                            return <option value={i}>{this.formatTimestamp(event)}</option>\r\n                        }\r\n                    })\r\n                }\r\n            </select>\r\n        );\r\n    }\r\n\r\n    endDateSelect = (events) => {\r\n        return (\r\n            <select onChange={this.onEndDateSelectChange}>\r\n                {\r\n                    events.map((event, i) => {\r\n                        if (i == this.state.endDate) {\r\n                            return <option selected=\"selected\" value={i}>{this.formatTimestamp(event)}</option>\r\n                        } else {\r\n                            return <option value={i}>{this.formatTimestamp(event)}</option>\r\n                        }\r\n                    })\r\n                }\r\n            </select>\r\n        );\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport PDISurveyBar from '../graphs/PDISurveyBar';\r\nimport DateTimeScatter from '../graphs/DateTimeScatter';\r\nimport '../../css/DataView.css';\r\n\r\nexport default class DataView extends Component {\r\n    /**\r\n     * props should contain an object data with fields: allPDISurveys, dispenses, btn1, btn2, and btn3.\r\n     */\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            graph_id: 0,\r\n        }\r\n    }\r\n\r\n    graphs = [\"PDI Surveys, Dispenses, Button Presses\"];\r\n\r\n\r\n    onSelectChange = (e) => {\r\n        this.setState({\r\n            graph_id: e.target.value,\r\n        });\r\n    }\r\n\r\n    graphSelect() {\r\n        return (\r\n            <select onChange={this.onSelectChange}>\r\n                {this.graphs.map((name, i) => {\r\n                        if (i == this.state.graph_id)\r\n                            return <option selected=\"selected\" value={i}>{name}</option>\r\n                        return <option value={i}>{name}</option>\r\n                    })\r\n                }\r\n            </select>\r\n        )\r\n    }\r\n\r\n    displayGraphs() {\r\n        const { pdisurveys, dispenses, btn1, btn2, btn3 } = this.props.data;\r\n        if (pdisurveys && dispenses) {\r\n            return (\r\n                <div className=\"DataView\">\r\n                     {/* <DateTimeScatter \r\n                        id=\"g0\"\r\n                        title=\"Dispenses\"\r\n                        data={[dispenses]}\r\n                        colors={[\"var(--medlock-blue)\"]}\r\n                    /> */}\r\n                    <DateTimeScatter \r\n                        id=\"g0\"\r\n                        title=\"Dispenser Events\" \r\n                        data={[dispenses, btn1, btn2, btn3]} \r\n                        colors={[\"var(--medlock-blue)\", \"red\", \"yellow\", \"green\"]}\r\n                    />\r\n                    <PDISurveyBar id=\"g1\" data={pdisurveys} />\r\n                </div>\r\n            )\r\n        } else if (pdisurveys) {\r\n            return (\r\n                <div className=\"DataView\">\r\n                    <PDISurveyBar id=\"g0\" data={pdisurveys} />\r\n                </div>\r\n            )\r\n        } else if (dispenses) {\r\n            return (\r\n                <div className=\"DataView\">\r\n                     {/* <DateTimeScatter \r\n                        id=\"g0\"\r\n                        title=\"Dispenses\"\r\n                        data={[dispenses]}\r\n                        colors={[\"var(--medlock-blue)\"]}\r\n                    /> */}\r\n                    <DateTimeScatter \r\n                        id=\"g0\"\r\n                        title=\"Dispenser Events\" \r\n                        data={[dispenses, btn1, btn2, btn3]} \r\n                        colors={[\"var(--medlock-blue)\", \"red\", \"blue\", \"green\"]}\r\n                    />\r\n                </div>\r\n            )\r\n        } else return ( <h2>There are no data at the moment.</h2> )\r\n    }\r\n\r\n    render() {\r\n        return this.displayGraphs();\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class SummaryStats extends Component {\r\n    render() {\r\n        console.log(this.props);\r\n        return (\r\n            <div>\r\n                <p>{`Average Pills Per Day: ${this.averagePillsPerDay()}`}</p>\r\n                <p>{`Days Met Prescription: ${this.daysMetPrescription()}`}</p>\r\n                <p>{`Collar Off Count: ${this.collarOffCount()}`}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    averagePillsPerDay = () => {\r\n        var dispense_dates = this.props.data.dispenses.map(timestamp => {\r\n            const date = new Date(timestamp);\r\n            return date;\r\n        });\r\n\r\n        var num_pills = dispense_dates.length;\r\n        var num_days = 1;\r\n        for(var i = 0; i < dispense_dates.length - 1; i++) {\r\n            var j = i + 1;\r\n            var date1 = dispense_dates[i];\r\n            var date2 = dispense_dates[j];\r\n            if ((date1.getFullYear() != date2.getFullYear()) ||\r\n                (date1.getMonth() != date2.getMonth()) ||\r\n                (date1.getDate() != date2.getDate())) {\r\n                    num_days++;\r\n                } \r\n        }\r\n        console.log(num_pills);\r\n        console.log(num_days);\r\n        var avgPillsPerDay = num_pills / num_days;\r\n        return avgPillsPerDay.toFixed(2);\r\n    }\r\n\r\n    collarOffCount = () => {\r\n        return this.props.data.collarOff.length;\r\n    }\r\n\r\n    daysMetPrescription = () => {\r\n        return 4;\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { fetchPDISurveys } from '../../actions/surveyActions'; \r\nimport { fetchDispenser } from '../../actions/dispenserActions';  \r\nimport '../../css/PatientData.css'; \r\nimport DataView from './DataView';\r\nimport SummaryStats from './SummaryStats';\r\n\r\n/** \r\n * Component for displaying individual patient data\r\n * in the patient portal. \r\n */\r\n\r\nclass PatientData extends Component {\r\n\r\n    state = {\r\n        retrievedData: false, \r\n    } \r\n    \r\n    // Fetch Surveys and Dispenses data from database \r\n    componentWillMount() {\r\n        console.log(this.props);\r\n        console.log(this.props.patient.medicalData.dispenser_id);\r\n        this.props.fetchPDISurveys(); \r\n        if (this.props.patient.medicalData != null) {\r\n            if (this.props.patient.medicalData.dispenser_id != null) {\r\n                this.props.fetchDispenser(this.props.patient.medicalData.dispenser_id); \r\n            }\r\n        }\r\n    } \r\n\r\n    render() {        \r\n        const { allPDISurveys, \r\n                surveysLoading, \r\n                surveysLoaded,\r\n                surveyError, \r\n                dispenser, \r\n                dispenserLoading, \r\n                dispenserLoaded,\r\n                dispenserError, } = this.props; \r\n\r\n        if(surveyError || dispenserError) {\r\n            return (\r\n                <div>\r\n                    <div>Survey Error: { surveyError ? surveyError.message : null}</div>\r\n                    <div>Dispense Error: {dispenserError ? dispenserError.message : null}</div>\r\n                </div>\r\n            ); \r\n        }\r\n\r\n        if(surveysLoading || dispenserLoading || !surveysLoaded || !dispenserLoaded) {\r\n            return (\r\n                <div>Loading . . . </div>\r\n            )\r\n        }\r\n\r\n        var data = {}\r\n        if (allPDISurveys) {\r\n            data = {\r\n                ...data,\r\n                pdisurveys: allPDISurveys,\r\n            }\r\n        }\r\n\r\n        if (dispenser) {\r\n            data = {\r\n                ...data,\r\n                dispenses: dispenser.events.dispenses,\r\n                btn1: dispenser.events.btn1,\r\n                btn2: dispenser.events.btn2,\r\n                btn3: dispenser.events.btn3,\r\n                collarOff: dispenser.events.collarOff,\r\n                capTurn: dispenser.events.capTurn\r\n            }\r\n        }\r\n         \r\n        return (\r\n            <div className=\"pd-container\">\r\n                <h1 className=\"header\">\r\n                    My Data\r\n                </h1>\r\n                <SummaryStats data={data}/>\r\n                <DataView data={data} />\r\n            </div>\r\n        );\r\n        \r\n    }\r\n}\r\n\r\nPatientData.propTypes = {\r\n    fetchPDISurveys: PropTypes.func.isRequired,\r\n    allPDISurveys: PropTypes.array.isRequired, \r\n    surveysLoading: PropTypes.bool.isRequired,\r\n    surveysLoaded: PropTypes.bool.isRequired,\r\n    surveyError: PropTypes.object,\r\n\r\n    fetchDispenser: PropTypes.func.isRequired, \r\n    dispenser: PropTypes.array.isRequired,\r\n    dispenserLoading: PropTypes.bool.isRequired,\r\n    dispenserLoaded: PropTypes.bool.isRequired,\r\n    dispenserError: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    allPDISurveys: state.surveyState.PDIResponses, \r\n    surveysLoading: state.surveyState.PDISurveysLoading,\r\n    surveysLoaded: state.surveyState.PDISurveysLoaded,\r\n    surveyError: state.surveyState.PDIError,  \r\n    dispenser: state.dispenseState.dispenser, \r\n    dispenserLoading: state.dispenseState.dispenserLoading,\r\n    dispenserLoaded: state.dispenseState.dispenserLoaded,\r\n    dispenserError: state.dispenseState.error, \r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, { fetchPDISurveys, fetchDispenser })(PatientData); ","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { submitPDISurvey } from '../../actions/surveyActions';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass PDISurvey extends Component {\r\n\r\n    state = {\r\n        responses: [],\r\n    };\r\n\r\n    // State contains the value of the updated UI Element. \r\n    onChange = (e) => {\r\n\r\n        let newResponses = [...this.state.responses];\r\n        newResponses[e.target.id] = {\r\n            question: e.target.name,\r\n            answer: e.target.value\r\n        }\r\n\r\n        this.setState({\r\n            responses: newResponses\r\n        });\r\n    }\r\n\r\n    // Submit the UI Element values in the local state to the action. \r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const responses = [\r\n            ...this.state.responses\r\n        ]\r\n\r\n        console.log(responses);\r\n        this.props.submitPDISurvey(responses);\r\n    }\r\n\r\n    render() {\r\n        const { surveyResponse, loading, error } = this.props;\r\n\r\n        if (error) {\r\n            return (\r\n                <div>Error: {error.message}</div>\r\n            )\r\n        }\r\n\r\n        if (loading) {\r\n            return (\r\n                <div>Loading . . .</div>\r\n            )\r\n        }\r\n\r\n        if (surveyResponse) {\r\n            return (\r\n                <div>Your response has been recorded. Thank you.</div>\r\n            )\r\n        }\r\n\r\n\r\n        return (\r\n            <div class=\"survey-container\">\r\n                <h1 class=\"header\">Pain Disability Survey </h1>\r\n                <div class=\"description\">\r\n                    <p> The following survey will ask how much pain is preventing you from doing what you normally do.\r\n                        <br/>A score of <b>0</b> means <b>no disruption.</b>\r\n                        <br/>A score of <b>10</b> means <b>total prevention.</b>\r\n                        <br/>Leave the question blank if it is not applicable.\r\n                    </p>\r\n                </div>\r\n                <form onSubmit={this.onSubmit}>\r\n                    {\r\n                        questions.map(question => {\r\n                            return (\r\n                                <div>\r\n                                    <h3 class=\"header\">How does pain affect your {question.subject}?</h3>\r\n                                    <p class=\"question-description\">{question.description}</p>\r\n                                    <input style={{marginBottom: \"10px\"}} type=\"number\"\r\n                                        name={question.subject}\r\n                                        onChange={this.onChange}\r\n                                        id={question.id} />\r\n                                </div>\r\n\r\n                            );\r\n                        })\r\n                    }\r\n                    <button class=\"create-new-btn\" type=\"submit\" style={{ marginTop: '20px' }}>Submit</button>\r\n                </form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Change to pull from database. \r\nconst questions = [\r\n    {\r\n        id: 0,\r\n        subject: 'family',\r\n        description: 'This category refers to activities of the home or family. It includes chores or duties performed around the house (e.g. yard work) and errands or favors for other family members (e.g. driving the children to school).'\r\n    },\r\n    {\r\n        id: 1,\r\n        subject: 'recreation',\r\n        description: 'This disability includes hobbies, sports, and other similar leisure time activities.'\r\n    },\r\n    {\r\n        id: 2,\r\n        subject: 'social activity',\r\n        description: 'This category refers to activities, which involve participation with friends and acquaintances other than family members. It includes parties, theater, concerts, dining out, and other social functions.'\r\n    },\r\n    {\r\n        id: 3,\r\n        subject: 'occupation',\r\n        description: 'This category refers to activities that are part of or directly related to ones job. This includes non-paying jobs as well, such as that of a housewife or volunteer.'\r\n    },\r\n    {\r\n        id: 4,\r\n        subject: 'sexual behavior',\r\n        description: 'This category refers to the frequency and quality of ones sex life.'\r\n    },\r\n    {\r\n        id: 5,\r\n        subject: 'self care',\r\n        description: 'This category includes activities, which involve personal maintenance and independent daily living (e.g. taking a shower, driving, getting dressed, etc.)'\r\n    },\r\n    {\r\n        id: 6,\r\n        subject: 'life support activities',\r\n        description: 'This category refers to basic life supporting behaviors such as eating, sleeping and breathing.'\r\n    }\r\n];\r\n\r\nPDISurvey.propTypes = {\r\n    submitSurvey: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    surveyResponse: state.surveyState.PDISurveyResponse,\r\n    loading: state.surveyState.PDILoading,\r\n    error: state.surveyState.PDIError\r\n});\r\n\r\nexport default connect(mapStateToProps, { submitPDISurvey })(PDISurvey); \r\n","import React, { Component } from 'react'; \r\nimport PropTypes from 'prop-types'; \r\n\r\nclass MultChoice extends Component {\r\n\r\n    state = {\r\n        question: null, \r\n        answer: null, \r\n        showOther: false \r\n    } \r\n\r\n    onChange = (e) => { \r\n        if(e.target.value == \"_other_\") {\r\n            this.setState({ showOther: !this.state.showOther }); \r\n        } \r\n        else {\r\n            this.setState({\r\n                id: e.target.id, \r\n                question: e.target.name, \r\n                answer: e.target.value\r\n            })\r\n\r\n            this.props.onChange(e.target.id, e.target.name, e.target.value); \r\n        }\r\n    } \r\n\r\n\r\n    questionHTML = () => (\r\n        <h3 class=\"header\">\r\n            {this.props.question} \r\n        </h3>\r\n    ); \r\n\r\n    responsesHTML = (other) => {\r\n        \r\n        return (\r\n            <form style={{marginBottom: \"10px\"}} onChange={this.onChange}>\r\n                {this.props.responses.map(answer => (\r\n                    <div>\r\n                        <p><input name={this.props.question} type=\"radio\" value={answer} id={this.props.id}/>{answer}</p>\r\n                    </div>\r\n                ))}\r\n            {other && (\r\n                <p>\r\n                    <input name={this.props.question} type=\"radio\" value=\"_other_\" id={this.props.id}/>\r\n                Other:{this.state.showOther && (<input name={this.props.question} type=\"text\" id={this.props.id} placeholder=\"Other . . . \"/>)}</p>\r\n            )}\r\n            </form>\r\n        ); \r\n        \r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props); \r\n    }\r\n    \r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.questionHTML()} \r\n                {this.responsesHTML(this.props.other)} \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nMultChoice.propTypes = {\r\n    id: PropTypes.number.isRequired, \r\n    question: PropTypes.string.isRequired, \r\n    responses: PropTypes.array.isRequired, \r\n    other: PropTypes.bool.isRequired, \r\n    onChange: PropTypes.func.isRequired \r\n}\r\n\r\n\r\nexport default MultChoice; ","import React, { Component } from 'react'; \r\nimport PropTypes from 'prop-types'; \r\n\r\nclass MultSelect extends Component {\r\n\r\n    state = {\r\n        question: null, \r\n        responses: [], \r\n        showOther: false \r\n    }\r\n\r\n    componentDidMount() {\r\n        let responses = this.props.responses.map(response => (\r\n            {\r\n                answer: response, \r\n                selected: false \r\n            }\r\n        )); \r\n\r\n        if(this.props.other) {\r\n            responses.push({\r\n                answer: \"\", \r\n                type: \"other\", \r\n                selected: false \r\n            })\r\n        }\r\n\r\n        this.setState({ responses }); \r\n    }\r\n\r\n    onChange = (e) => { \r\n\r\n        let newResponses = [...this.state.responses]; \r\n\r\n        if(e.target.value == \"_other_\") {\r\n            this.setState({ showOther: !this.state.showOther }); \r\n            newResponses.map(response => {\r\n                if(response.type) {\r\n                    response.selected = !response.selected; \r\n                    response.answer = \"\"; \r\n                }\r\n            })\r\n        }\r\n\r\n        if(e.target.type == \"text\") \r\n            newResponses.map(response => {\r\n                if(response.type) {\r\n                    response.answer = e.target.value; \r\n                } \r\n            }) \r\n        else \r\n            newResponses.map(response => {\r\n                if(response.answer == e.target.value) \r\n                    response.selected = !response.selected; \r\n            })\r\n\r\n\r\n        this.setState({\r\n            responses: newResponses \r\n        }); \r\n\r\n        const selectedResponses = newResponses.filter(response => response.selected)\r\n                                                .map(response => response.answer); \r\n        this.props.onChange(e.target.id, e.target.name, selectedResponses); \r\n    } \r\n\r\n\r\n    questionHTML = () => (\r\n        <h3 class=\"header\">{this.props.question}</h3>\r\n    )\r\n\r\n    responsesHTML = (other) => {\r\n        return (\r\n            <form style={{marginBottom: \"10px\"}} onChange={this.onChange}>\r\n                {this.props.responses.map(response => (\r\n                    <div>\r\n                        <p><input name={this.props.question} type=\"checkbox\" value={response} id={this.props.id}/>{response}</p>\r\n                    </div>\r\n                ))}\r\n            {other && (\r\n                <p>\r\n                    <input name={this.props.question} type=\"checkbox\" value=\"_other_\" id={this.props.id}/>\r\n                Other:{this.state.showOther && (<input name={this.props.question} type=\"text\" id={this.props.id} placeholder=\"Other . . . \"/>)}</p>\r\n            )}\r\n            </form>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.questionHTML()} \r\n                {this.responsesHTML(this.props.other)} \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nMultSelect.propTypes = {\r\n    id: PropTypes.number.isRequired, \r\n    question: PropTypes.string.isRequired, \r\n    responses: PropTypes.array.isRequired, \r\n    other: PropTypes.bool.isRequired, \r\n    onChange: PropTypes.func.isRequired \r\n}\r\n\r\nexport default MultSelect; ","import React, { Component } from 'react'; \r\nimport PropTypes from 'prop-types'; \r\n\r\nclass TextInput extends Component {\r\n\r\n\r\n\r\n    state = {\r\n        response: \"\"\r\n    }\r\n\r\n\r\n\r\n    onChange = (e) => {\r\n        this.setState({ response: e.target.value }); \r\n\r\n        this.props.onChange(this.props.id, this.props.question, e.target.value); \r\n    }\r\n\r\n    responseHTML = () => {\r\n\r\n        return (\r\n            <form style={{marginBottom: \"10px\"}} onChange={this.onChange}>\r\n                <textarea style={{padding: \"5px\", width: \"100%\"}}rows=\"3\" col=\"50\" placeholder=\" Response . . . \"></textarea>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    questionHTML = () => (\r\n        <h3 class=\"header\">{this.props.question}</h3>\r\n    )\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.questionHTML()} \r\n                {this.responseHTML()} \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nTextInput.propTypes = {\r\n    id: PropTypes.number.isRequired, \r\n    question: PropTypes.string.isRequired, \r\n    onChange: PropTypes.func.isRequired \r\n}\r\n\r\nexport default TextInput; ","import React, { Component } from 'react'; \r\nimport PropTypes from 'prop-types'; \r\n\r\nclass NumInput extends Component {\r\n\r\n    onChange = (e) => {\r\n        this.props.onChange(this.props.id, e.target.name, e.target.value); \r\n    } \r\n\r\n    questionHTML = () => (\r\n        <h3 class=\"header\">{this.props.question}</h3>\r\n    )\r\n\r\n    responsesHTML = () => {\r\n\r\n        return (\r\n            <form style={{marginBottom: \"10px\"}} onChange={this.onChange}>\r\n                <input type=\"number\" min={this.props.min} max={this.props.max} name={this.props.question}/> \r\n            </form>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.questionHTML()} \r\n                {this.responsesHTML()} \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nNumInput.propTypes = {\r\n    id: PropTypes.number.isRequired, \r\n    question: PropTypes.string.isRequired, \r\n    min: PropTypes.number.isRequired, \r\n    max: PropTypes.number.isRequired, \r\n    onChange: PropTypes.func.isRequired \r\n}\r\n\r\nexport default NumInput; ","import React, { Component } from 'react'; \r\nimport MultChoice from './QuestionTypes/MultChoice'; \r\nimport MultSelect from './QuestionTypes/MultSelect'; \r\nimport TextInput from './QuestionTypes/TextInput'; \r\nimport NumInput from './QuestionTypes/NumInput'; \r\nimport { connect } from 'react-redux'; \r\nimport { submitIntakeSurvey } from '../../actions/surveyActions'; \r\nconst surveyJSON = require('./SurveyBank/Intake.json'); \r\n\r\nclass IntakeSurvey extends Component {\r\n\r\n    state = {\r\n        responses: [], \r\n        questions: [] \r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"Intake Survey\"); \r\n        console.log(surveyJSON); \r\n        console.log(surveyJSON[0]); \r\n        this.setState({ questions: surveyJSON }); \r\n    }\r\n\r\n    submitResponses = () => {\r\n        let answeredAll = true; \r\n        if(this.state.responses.length != this.state.questions.length) answeredAll = false; \r\n        this.state.responses.forEach((response, i) => {\r\n            if(!response || !response.answer || response.answer == \"\") {\r\n                answeredAll = false; \r\n                console.log(response); \r\n            }\r\n            console.log(i); \r\n            if(this.state.questions[i].type == \"NI\" && \r\n                response && \r\n                (response.answer < this.state.questions[i].min || response.answer > this.state.questions[i].max)) {\r\n                    answeredAll = false; \r\n                }\r\n        })\r\n\r\n        if(answeredAll) {\r\n            console.log(\"Submit. \"); \r\n            this.props.submitIntakeSurvey(this.state.responses); \r\n        } else {\r\n            console.log(\"Respond to all the questions. \"); \r\n        }\r\n    }\r\n\r\n    onChange = (id, name, value) => {\r\n        let newResponses = [...this.state.responses]; \r\n        newResponses[id] = {\r\n            question: name, \r\n            answer: value \r\n        }\r\n\r\n        this.setState({\r\n            responses: newResponses \r\n        }); \r\n\r\n        // console.log(this.state); \r\n\r\n        \r\n    } \r\n\r\n    questionsHTML = () => (\r\n        <div> \r\n            {\r\n                this.state.questions.map(question => {\r\n                    if(question.type == \"MC\") {\r\n                        return (\r\n                            <MultChoice question={question.question} \r\n                                        responses={question.responses} \r\n                                        id={question.id} \r\n                                        other={question.other} \r\n                                        onChange={this.onChange} /> \r\n                        ); \r\n                    } else if(question.type == \"MS\") {\r\n                        return (\r\n                            <MultSelect question={question.question} \r\n                                        responses={question.responses} \r\n                                        id={question.id} \r\n                                        other={question.other} \r\n                                        onChange={this.onChange} /> \r\n                        ); \r\n                    } else if(question.type == \"TI\") {\r\n                        return (\r\n                            <TextInput question={question.question} id={question.id} onChange={this.onChange} /> \r\n                        ); \r\n                    } else if(question.type == \"NI\") {\r\n                        return (\r\n                            <NumInput question={question.question} \r\n                                        min={question.min} \r\n                                        max={question.max} \r\n                                        id={question.id} \r\n                                        onChange={this.onChange} /> \r\n                        ); \r\n                    }\r\n                })\r\n            }\r\n        </div> \r\n    ); \r\n\r\n    render() {\r\n        console.log(this.state); \r\n\r\n        const { surveyResponse, loading, error } = this.props; \r\n\r\n        if(loading) {\r\n            console.log(loading); \r\n            return (\r\n                <div> \r\n                    <p>Sending . . . </p>\r\n                </div>\r\n            )\r\n        } \r\n\r\n        if(error) {\r\n            console.log(error); \r\n            return (\r\n                <div>\r\n                    <p>There was an error in submitting the survey; please try again. </p>\r\n                </div>\r\n            )\r\n        } \r\n\r\n        if(surveyResponse) {\r\n            console.log(surveyResponse); \r\n            return (\r\n                <div> \r\n                    <p>Your responses were submitted. Thank you </p>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div class=\"survey-container\">\r\n                <h1 class=\"header\">Intake Survey</h1>\r\n                {this.state.questions ? this.questionsHTML() : (\r\n                    <p>Loading . . . </p>\r\n                )} \r\n                <button class=\"create-new-btn\" onClick={this.submitResponses}>Submit</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst question = \"How do you rate your pain?\"; \r\nconst responses = [\"Not much\", \"A little\", \"A lot\"]; \r\n\r\nconst question2 = \"How would you characterize your mood? \"; \r\nconst responses2 = [\"Bad\", \"Okay\", \"Great\"]; \r\n\r\nconst question3 = \"How would you describe your relationship with your physician? \"; \r\nconst responses3 = [\"Distant\", \"Impartial\", \"Close\"]; \r\n\r\nconst question4 = \"What event made you want to pursue treatment? \"; \r\n\r\nconst question5 = \"How many times each week do you take your medications? \"; \r\n\r\nconst mapStateToProps = state => ({\r\n    surveyResponse: state.surveyState.IntakeSurveyResponse,\r\n    loading: state.surveyState.IntakeLoading, \r\n    error: state.surveyState.IntakeError \r\n});\r\n\r\nexport default connect(mapStateToProps, { submitIntakeSurvey })(IntakeSurvey); ","import React, { Component } from 'react'; \r\nimport PDISurvey from './PDISurvey'; \r\nimport SecuredRoute from '../SecuredRoute'; \r\nimport history from '../nav/history'; \r\nimport IntakeSurvey from './IntakeSurvey'; \r\nimport '../../css/Surveys.css';\r\nimport ReactGA from 'react-ga'; \r\n\r\nclass Surveys extends Component {\r\n\r\n    componentDidMount() {\r\n        console.log(this.props); \r\n    }\r\n\r\n    surveyLink = (e) => {\r\n        // history.replace(this.props.link);\r\n        ReactGA.event({\r\n            category: 'Survey Selection', \r\n            action: 'Navigated to ' + this.surveyLink + ' from Surveys', \r\n            label: 'Click ' + this.surveyLink + ' from Surveys'\r\n        }); \r\n        console.log(e); \r\n        console.log(e.target.value); \r\n        history.replace(e.target.value); \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.props.location.pathname == \"/dashboard/survey\" ? this.surveysHTML() : this.makeSurveyRoutes(this.props)\r\n\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    surveysHTML = () => {\r\n        return (\r\n            <div>\r\n                <h1 style={{marginBottom: \"20px\"}} class=\"header\">Surveys</h1>\r\n                <button class=\"create-new-btn\" value=\"/dashboard/survey/pdisurvey\" onClick={this.surveyLink}>PDI Survey</button>\r\n                <button class=\"create-new-btn\" value=\"/dashboard/survey/intake\" onClick={this.surveyLink}>Intake Survey</button>\r\n            </div>\r\n        ); \r\n    }\r\n\r\n    makeSurveyRoutes = (props) => {\r\n\r\n        switch(this.props.location.pathname) {\r\n            case \"/dashboard/survey/pdisurvey\": \r\n                return ( <SecuredRoute path=\"/dashboard/survey/pdisurvey\" component={PDISurvey} /> ); \r\n                break; \r\n            case \"/dashboard/survey/intake\": \r\n                return ( <SecuredRoute path=\"/dashboard/survey/intake\" component={IntakeSurvey} /> ); \r\n                break;     \r\n            default: \r\n                break; \r\n        }\r\n    } \r\n\r\n\r\n}\r\n\r\n\r\nexport default Surveys; ","import React, { Component } from 'react'; \r\nimport auth0client from '../../auth/Auth';\r\nconst axios = require('axios'); \r\n\r\nclass Dispenser extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(props);\r\n        this.state = {\r\n            id: props.profile.medicalData.dispenser_id,\r\n        }\r\n    }\r\n    \r\n    onChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value  \r\n        })\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault(); \r\n\r\n        const dispenseTime = new Date(); \r\n        dispenseTime.setFullYear(parseInt(this.state.date.substring(6, 10))); \r\n        dispenseTime.setMonth(parseInt(this.state.date.substring(0, 2)) - 1); \r\n        dispenseTime.setDate(parseInt(this.state.date.substring(3, 5))); \r\n        dispenseTime.setUTCHours(parseInt(this.state.time.substring(0, 2)) + 4); \r\n        dispenseTime.setMinutes(parseInt(this.state.time.substring(3, 5))); \r\n\r\n        console.log(dispenseTime.toString()); \r\n    \r\n        const dispenseSeconds = dispenseTime.getTime(); \r\n\r\n        console.log(dispenseSeconds); \r\n        console.log(dispenseTime); \r\n\r\n        const data = {\r\n            id: this.state.id, \r\n            timestamp: dispenseSeconds \r\n        }\r\n\r\n        const { getAccessToken } = auth0client;\r\n        const API_URL = 'http://localhost:5000/api';\r\n        const headers = { 'Authorization': `Bearer ${getAccessToken()}`}; \r\n        \r\n        axios.post(`${API_URL}/dispense`, data, { headers }) \r\n            .then(res => {\r\n                console.log(res); \r\n            }) \r\n            .catch(err => console.log(err)); \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <input type=\"text\" \r\n                            name=\"date\"\r\n                            placeholder=\"mm/dd/yy\"\r\n                            onChange={this.onChange}/>\r\n                    <input type=\"text\" \r\n                            name=\"time\"\r\n                            placeholder=\"hh:mm military time\"\r\n                            onChange={this.onChange}/>\r\n                    <button type=\"submit\">Submit</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Dispenser; ","import React, { Component } from 'react'; \r\nimport auth0client from '../../auth/Auth'; \r\n\r\nconst axios = require('axios'); \r\n\r\nclass ServerEndpoints extends Component {\r\n\r\n\r\n    testEndpoint = () => {\r\n        \r\n        const { getAccessToken } = auth0client; \r\n        const headers = { 'Authorization': `Bearer ${getAccessToken()}`}; \r\n\r\n        axios.get('http://localhost:5000/api/provider/patients', { headers }) \r\n            .then(res => console.log(res)); \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>This page tests Server Endpoints. </h1>\r\n                <button onClick={this.testEndpoint}>Test Endpoint. </button>\r\n            </div>\r\n        )\r\n    }\r\n} \r\nexport default ServerEndpoints; ","import React, { Component } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport '../../css/PatientListItem.css';\r\n\r\nexport default class PatientListItem extends Component {\r\n\r\n    render() {\r\n        const { patient, viewPatient, deletePatient } = this.props;\r\n\r\n        return (\r\n            <div className=\"PatientListItem-container\">\r\n                \r\n                <div>\r\n                    <h4>{patient.personalData.name}</h4>\r\n                </div>\r\n                \r\n                <div>\r\n                    <Button onClick={() => viewPatient(patient)}>View</Button>\r\n                    <Button onClick={() => deletePatient(patient._id)}>Delete</Button>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Form, FormGroup, Label, Input, Button } from 'reactstrap';\r\n\r\n\r\nexport default class AddPatient extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: null, \r\n            email: null \r\n        };\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Form>\r\n                    <FormGroup>\r\n                        <br></br>\r\n                        <Label for=\"patient-name\" className=\"form-heading\">Name</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"patient-name\" \r\n                                placeholder=\"Jon Snow\" \r\n                                value={this.state.name} \r\n                                onChange={this.onChange} />\r\n                        <Label for=\"patient-email\" className=\"form-heading\">Email</Label>\r\n                        <Input type=\"email\" name=\"email\" id=\"patient-email\" \r\n                                placeholder=\"jon.snow@nightswatch.org\" \r\n                                value={this.state.email} \r\n                                onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <Button onClick={() => this.props.onSubmit(this.state.name, this.state.email)} id = \"register\">Register</Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport PatientListItem from './PatientListItem';\r\nimport '../../css/PatientList.css';\r\n\r\nclass PatientList extends Component {\r\n\r\n    patientHTML = (patients) => {\r\n        return patients.map(patient => (\r\n            <PatientListItem \r\n                className=\"listItem\" \r\n                patient={patient} \r\n                deletePatient={this.props.deletePatient} \r\n                viewPatient={this.props.onClickPatient} \r\n            />\r\n        ));\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props);\r\n        return (\r\n            <div>\r\n                <h3>My Patients</h3>\r\n                <div className=\"PatientList-container\">{this.patientHTML(this.props.patients)}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PatientList; \r\n","import {\r\n  CREATE_PATIENT_PROFILE_BEGIN,\r\n  CREATE_PATIENT_PROFILE_SUCCESS,\r\n  CREATE_PATIENT_PROFILE_FAILURE,\r\n\r\n  ADD_PATIENT_BEGIN,\r\n  ADD_PATIENT_SUCCESS,\r\n  ADD_PATIENT_FAILURE,\r\n\r\n  REMOVE_PATIENT_BEGIN,\r\n  REMOVE_PATIENT_SUCCESS,\r\n  REMOVE_PATIENT_FAILURE,\r\n\r\n  FETCH_PATIENTS_BEGIN,\r\n  FETCH_PATIENTS_SUCCESS,\r\n  FETCH_PATIENTS_FAILURE,\r\n\r\n  DELETE_ALL_PATIENTS_BEGIN,\r\n  DELETE_ALL_PATIENTS_SUCCESS,\r\n  DELETE_ALL_PATIENTS_FAILURE,\r\n\r\n  DELETE_PATIENT_BEGIN,\r\n  DELETE_PATIENT_SUCCESS,\r\n  DELETE_PATIENT_FAILURE,\r\n\r\n  FETCH_ALL_PATIENTS_BEGIN,\r\n  FETCH_ALL_PATIENTS_SUCCESS,\r\n  FETCH_ALL_PATIENTS_FAILURE,\r\n\r\n  ADD_CHECKIN_BEGIN, \r\n  ADD_CHECKIN_SUCCESS, \r\n  ADD_CHECKIN_FAILURE \r\n\r\n} from './types';\r\n\r\nimport axios from 'axios';\r\nimport auth0client from '../auth/Auth';\r\nimport { MEDLOCK_API, MEDLOCK_AUTH0 } from '../config/servers';\r\nimport { fetchAMT } from '../auth/AuthManagement';\r\n\r\nconst createPatientProfileBegin = () => ({\r\n  type: CREATE_PATIENT_PROFILE_BEGIN\r\n});\r\n\r\nconst createPatientProfileSuccess = patient => ({\r\n  type: CREATE_PATIENT_PROFILE_SUCCESS,\r\n  payload: {\r\n    patient\r\n  }\r\n});\r\n\r\nconst createPatientProfileFailure = error => ({\r\n  type: CREATE_PATIENT_PROFILE_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\n\r\n// naming convention ???\r\nexport function createPatientProfile(newProfile) {\r\n  const {\r\n    getAccessToken\r\n  } = auth0client;\r\n  let API_URL = `${MEDLOCK_API}/provider/patients`;\r\n  const headers = {\r\n    'Authorization': `Bearer ${getAccessToken()}`\r\n  };\r\n\r\n  return dispatch => {\r\n    dispatch(createPatientProfileBegin());\r\n    return axios.post(API_URL, newProfile, {\r\n        headers\r\n      })\r\n      .then(res => {\r\n        console.log(res.data);\r\n        dispatch(createPatientProfileSuccess(res.data));\r\n      })\r\n      .catch(error => dispatch(createPatientProfileFailure(error)));\r\n  }\r\n}\r\n\r\nconst addPatientBegin = () => ({\r\n  type: ADD_PATIENT_BEGIN\r\n});\r\n\r\n\r\nconst addPatientSuccess = allPatients => ({\r\n  type: ADD_PATIENT_SUCCESS,\r\n  payload: {\r\n    allPatients\r\n  }\r\n});\r\n\r\nconst addPatientFailure = error => ({\r\n  type: ADD_PATIENT_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\nexport function addPatientToProviderList(patient) {\r\n  const {\r\n    getAccessToken\r\n  } = auth0client;\r\n  const API_URL = `${MEDLOCK_API}/provider/patients`;\r\n  const headers = {\r\n    'Authorization': `Bearer ${getAccessToken()}`\r\n  };\r\n\r\n  return dispatch => {\r\n    dispatch(addPatientBegin());\r\n    return axios.post(API_URL, patient, {\r\n        headers\r\n      })\r\n      .then(res => dispatch(addPatientSuccess(res.data)))\r\n      .catch(error => {\r\n        console.log(error);\r\n        dispatch(addPatientFailure(error));\r\n      });\r\n  }\r\n}\r\n\r\nconst removePatientBegin = () => ({\r\n  type: REMOVE_PATIENT_BEGIN\r\n});\r\n\r\nconst removePatientSuccess = patient => ({\r\n  type: REMOVE_PATIENT_SUCCESS,\r\n  payload: {\r\n    patient\r\n  }\r\n});\r\n\r\nconst removePatientFailure = error => ({\r\n  type: REMOVE_PATIENT_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\nexport function removePatient(id) {\r\n  console.log(`remove patient id=${id}`);\r\n  \r\n  const { getAccessToken } = auth0client;\r\n  const API_URL = `${MEDLOCK_API}/provider/patients`;\r\n  const headers = { 'Authorization': `Bearer ${getAccessToken()}` };\r\n\r\n\r\n  return dispatch => {\r\n    dispatch(removePatientBegin());\r\n    return axios.delete(API_URL, { \r\n      headers, \r\n      data: {\r\n        providerId: auth0client.getProfile().sub.substring(6),\r\n        patientId: id,\r\n      }\r\n    })\r\n      .then(res => {\r\n        console.log(res.data);\r\n        dispatch(removePatientSuccess(res.data));\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        dispatch(removePatientFailure(err));\r\n      });\r\n  }\r\n}\r\n\r\nconst fetchPatientsBegin = () => ({\r\n  type: FETCH_PATIENTS_BEGIN\r\n});\r\n\r\nconst fetchPatientsSuccess = patients => ({\r\n  type: FETCH_PATIENTS_SUCCESS,\r\n  payload: {\r\n    patients\r\n  }\r\n});\r\n\r\nconst fetchPatientsError = error => ({\r\n  type: FETCH_PATIENTS_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\nexport function fetchPatients() {\r\n  const {\r\n    getAccessToken\r\n  } = auth0client;\r\n  const API_URL = `${MEDLOCK_API}/provider/patients`;\r\n  const headers = {\r\n    'Authorization': `Bearer ${getAccessToken()}`\r\n  };\r\n\r\n  return dispatch => {\r\n    dispatch(fetchPatientsBegin());\r\n    return axios.get(API_URL, {\r\n        headers\r\n      })\r\n      .then(res => {\r\n        console.log(res.data);\r\n        dispatch(fetchPatientsSuccess(res.data));\r\n      })\r\n      .catch(error => dispatch(fetchPatientsError(error)));\r\n  };\r\n}\r\n\r\nconst deletePatientBegin = () => ({\r\n  type: DELETE_PATIENT_BEGIN,\r\n})\r\n\r\nconst deletePatientSuccess = (patients) => ({\r\n  type: DELETE_PATIENT_SUCCESS,\r\n  payload: {\r\n    patients\r\n  }\r\n})\r\n\r\nconst deletePatientError = (error) => ({\r\n  type: DELETE_PATIENT_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n})\r\n\r\nexport function deletePatient(ids) {\r\n  var url = `${MEDLOCK_API}/admin/patient`;\r\n\r\n  return dispatch => {\r\n    dispatch(deletePatientBegin());\r\n    fetchAMT()\r\n      .then(res => {\r\n        const AMT = res.data.access_token;\r\n        return axios.delete(url, {\r\n          data: {\r\n            AMT, \r\n            ids,\r\n          }\r\n        })\r\n          .then(res => dispatch(deletePatientSuccess(res.data)))\r\n          .catch(err => dispatch(deletePatientError(err)));\r\n      })\r\n  }\r\n}\r\n\r\n// const deleteAllPatientsBegin = () => ({\r\n//   type: DELETE_ALL_PATIENTS_BEGIN\r\n// });\r\n\r\n// const deleteAllPatientsSuccess = (patients) => ({\r\n//   type: DELETE_ALL_PATIENTS_SUCCESS,\r\n//   payload: {\r\n//     patients\r\n//   }\r\n// });\r\n\r\n// const deleteAllPatientsError = (error) => ({\r\n//   type: DELETE_ALL_PATIENTS_FAILURE,\r\n//   payload: {\r\n//     error\r\n//   }\r\n// });\r\n\r\n// export function deleteAllPatients() {\r\n//   const {\r\n//     getAccessToken\r\n//   } = auth0client;\r\n//   const API_URL = `${MEDLOCK_API}/admin/patient?_id=$0&deleteAll=true`;\r\n//   const headers = {\r\n//     'Authorization': `Bearer ${getAccessToken()}`\r\n//   };\r\n\r\n//   return dispatch => {\r\n//     dispatch(deleteAllPatientsBegin());\r\n//     return axios.delete(API_URL, { headers })\r\n//       .then(res => {\r\n//         console.log(res);\r\n//         dispatch(deleteAllPatientsSuccess(res));\r\n//       })\r\n//       .catch(err => {\r\n//         dispatch(deleteAllPatientsError(err));\r\n//       });\r\n//   }\r\n// }\r\n\r\nconst fetchAllPatientsBegin = () => ({\r\n  type: FETCH_ALL_PATIENTS_BEGIN\r\n});\r\n\r\nconst fetchAllPatientsSuccess = patients => ({\r\n  type: FETCH_ALL_PATIENTS_SUCCESS,\r\n  payload: {\r\n    patients\r\n  }\r\n});\r\n\r\nconst fetchAllPatientsFailure = error => ({\r\n  type: FETCH_ALL_PATIENTS_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\nexport function fetchAllPatients() {\r\n  console.log(\"FETCHING ALL PATIENTS!!!\");\r\n  const API_URL = `${MEDLOCK_API}/admin/patient`;\r\n  console.log(API_URL);\r\n  \r\n  return dispatch => {\r\n    dispatch(fetchAllPatientsBegin());\r\n    return axios.get(API_URL)\r\n      .then(res => dispatch(fetchAllPatientsSuccess(res.data)))\r\n      .catch(err => dispatch(fetchAllPatientsFailure(err)));\r\n  }\r\n\r\n}\r\n\r\nexport const addCheckInBegin = () => ({\r\n  type: ADD_CHECKIN_BEGIN \r\n});\r\n\r\nexport const addCheckInSuccess = checkIn => ({\r\n  type: ADD_CHECKIN_SUCCESS,\r\n  payload: {\r\n    checkIn\r\n  }\r\n});\r\n\r\nexport const addCheckInFailure = error => ({\r\n  type: ADD_CHECKIN_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\n// Submit a survey to the server \r\nexport function addCheckIn(checkIn) {\r\n\r\n  console.log(\"Add Check In\"); \r\n  console.log(checkIn); \r\n\r\n  const { getAccessToken } = auth0client;\r\n  const API_URL = MEDLOCK_API;\r\n  const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n  \r\n  return dispatch => {\r\n    dispatch(addCheckInBegin());\r\n    return axios.post(`${API_URL}/patient/patient/checkIn`, checkIn, { headers })\r\n      .then(res => dispatch(addCheckInSuccess(res.data)))\r\n      .catch(error => dispatch(addCheckInFailure(error)));\r\n  };\r\n  \r\n}","import React, { Component } from 'react'; \r\n\r\nclass CheckIn extends Component {\r\n\r\n    state = {\r\n        responses: [\r\n            {\r\n                id: 0, \r\n                question: \"Has the patient relapsed since you last saw them? If so, when? \", \r\n                responses: [\"Yes\", \"No\", \"N/A\"], \r\n                answer: null, \r\n            }, \r\n            {\r\n                id: 1, \r\n                question: \"What were the Urine Drug Screen results? If they were positive, please indicate which substances were found. \", \r\n                responses: [\"Positive\", \"Negative\", \"N/A\"], \r\n                answer: null, \r\n            }, \r\n        ]\r\n    }\r\n\r\n    onChange = (e) => {\r\n        console.log(e); \r\n\r\n        if(e.target.type == \"radio\") {\r\n            let newResponses = this.state.responses; \r\n            newResponses[e.target.id].answer = e.target.value; \r\n            this.setState({ responses: newResponses }); \r\n            newResponses[e.target.id].textResponse = \"\"; \r\n        } \r\n\r\n        if(e.target.type == \"text\") {\r\n            let newResponses = this.state.responses; \r\n            newResponses[e.target.id].textResponse = e.target.value; \r\n            this.setState({ responses: newResponses }); \r\n        }\r\n\r\n    } \r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault(); \r\n        this.state.responses.map(response => {\r\n            if((response.answer == \"Yes\" || response.answer == \"Positive\") && response.textResponse != \"\") {\r\n                let newResponses = this.state.responses; \r\n                newResponses[response.id].answer = response.textResponse; \r\n            }\r\n        }); \r\n\r\n        this.props.submitData(this.state.responses); \r\n    }\r\n\r\n\r\n\r\n    questionsHTML = () => {\r\n        \r\n        return (\r\n            <div>\r\n                <form onChange={this.onChange}>\r\n                    { this.state.responses.map(response => (\r\n                        <div>\r\n                            <p>{response.question}\r\n                                { response.responses.map(responseChoice => (\r\n                                    <p><input name={response.question} id={response.id} type=\"radio\" value={responseChoice} />{responseChoice}\r\n                                    {\r\n                                        // TEST \r\n                                        ((responseChoice == \"Yes\" && \r\n                                            this.state.responses[response.id].answer == \"Yes\") || \r\n                                            (responseChoice == \"Positive\" && \r\n                                            this.state.responses[response.id].answer == \"Positive\")) && \r\n                                            <input name={response.question} id={response.id} type=\"text\"/>\r\n                                    }</p> \r\n                                ))}\r\n                            </p>\r\n                        </div>\r\n                    ))} \r\n                    <button type=\"submit\" onClick={this.onSubmit}>Submit</button>\r\n                </form>\r\n            </div>\r\n        ); \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <p>Check In. </p>\r\n                {this.questionsHTML()} \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default CheckIn; ","import React, { Component } from 'react'; \r\nimport PropTypes from 'prop-types'; \r\nimport { Table } from 'react-bootstrap'; \r\nimport { tickStep } from 'd3';\r\n\r\nclass RawDataDisp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var data = this.sequenceRawData(this.props.rawData);\r\n        var dates = this.getAvailableDates(data);\r\n        this.state = {\r\n            data,\r\n            dates, \r\n            selectedDateIndex: 0 \r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props); \r\n    }\r\n\r\n    sequenceRawData = (data) => {\r\n        const dispenseData = data.dispenses.map(timestamp => (\r\n            {\r\n                type: \"dispense\", \r\n                timestamp: Date.parse(timestamp) \r\n            }\r\n        )); \r\n        const colOffData = data.collarOff.map(timestamp => (\r\n            {\r\n                type: \"colOff\", \r\n                timestamp: Date.parse(timestamp) \r\n            }\r\n        )); \r\n        const btn1Data = data.btn1.map(timestamp => (\r\n            {\r\n                type: \"btn1\", \r\n                timestamp: Date.parse(timestamp) \r\n            }\r\n        )); \r\n        const btn2Data = data.btn2.map(timestamp => (\r\n            {\r\n                type: \"btn2\", \r\n                timestamp: Date.parse(timestamp) \r\n            }\r\n        )); \r\n        const btn3Data = data.btn3.map(timestamp => (\r\n            {\r\n                type: \"btn3\", \r\n                timestamp: Date.parse(timestamp) \r\n            }\r\n        )); \r\n\r\n        console.log(dispenseData); \r\n        console.log(colOffData); \r\n        var allData = dispenseData.concat(colOffData, btn1Data, btn2Data, btn3Data); \r\n\r\n        console.log(allData); \r\n\r\n        allData.sort((pt1, pt2) => pt1.timestamp - pt2.timestamp); \r\n        console.log(allData); \r\n        return allData;\r\n    }\r\n\r\n    getAvailableDates = (data) => {\r\n        let availableDates = []; \r\n        data.forEach(pt => {\r\n            const dateString = this.formatDate(pt.timestamp); \r\n            if(!availableDates.includes(dateString)) \r\n                availableDates.push(dateString); \r\n        }); \r\n\r\n        console.log(availableDates); \r\n        return availableDates;\r\n    }\r\n\r\n    formatDate = (timestamp) => {\r\n        const date = new Date(timestamp);\r\n        return `${date.getMonth()+1}-${date.getDate()}-${date.getFullYear()}`;\r\n    }\r\n\r\n    getTableEntry = (pt) => {\r\n\r\n        /* \r\n            const firstIndex = timestamp.indexOf('-') + 1; \r\n            let date = timestamp.substring(firstIndex, firstIndex + 2) + '/' + timestamp.substring(firstIndex + 3, firstIndex + 5); \r\n            console.log(timestamp); \r\n            let timeOfDay = \"AM\"; \r\n            let hour = timestamp.substring(firstIndex + 6, firstIndex + 8); \r\n            let hourNum = parseInt(hour); \r\n            if(hourNum == 12) {\r\n                timeOfDay = \"PM\"; \r\n            } else if(hourNum > 12) {\r\n                hourNum -= 12; \r\n                timeOfDay = \"PM\"; \r\n            } else if(hourNum == 24 || hourNum == 0) {\r\n                hourNum = 12; \r\n                timeOfDay = \"AM\"; \r\n            }\r\n            let minute = timestamp.substring(firstIndex + 9, firstIndex + 11); \r\n            return date + \" \" + String(hourNum) + \":\" + minute + \" \" + timeOfDay; \r\n        */ \r\n\r\n        let res = \"\"; \r\n\r\n        switch(pt.type) {\r\n            case \"dispense\": \r\n                res += \"Dispense: \"\r\n                break; \r\n            case \"colOff\": \r\n                res += \"Removed Collar: \"\r\n                break; \r\n            case \"btn1\": \r\n                res += \"Green Button: \"\r\n                break; \r\n            case \"btn2\": \r\n                res += \"Yellow Button: \"\r\n                break; \r\n            case \"btn3\": \r\n                res += \"Red Button: \"\r\n                break; \r\n            default: \r\n                break; \r\n        } \r\n\r\n        const date = new Date(pt.timestamp); \r\n        res += date.toLocaleTimeString(); \r\n\r\n        return  (\r\n            <tr>\r\n                <td>{res}</td>\r\n            </tr>\r\n        );\r\n\r\n    }\r\n\r\n    selectOnChange = (e) => {\r\n        console.log(e.target.value); \r\n        this.setState({ selectedDateIndex: e.target.value }); \r\n    }\r\n\r\n    dateSelector = (dates, selectedIndex) => {\r\n        return (\r\n            <select onChange={this.selectOnChange}>\r\n                {dates.map((date, i) => {\r\n                    if(i == selectedIndex) \r\n                        return <option selected=\"selected\" value={i}>{date}</option>\r\n                    else \r\n                        return <option value={i}>{date}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n    getSelectedEntries = () => {\r\n        var selectedEntries = this.state.data.filter(pt => this.formatDate(pt.timestamp) == this.state.dates[this.state.selectedDateIndex]);\r\n        console.log(selectedEntries);\r\n        return selectedEntries;\r\n    }\r\n\r\n    getTableEntries = (entries) => {\r\n        var tableEntries = entries.map(pt => this.getTableEntry(pt));\r\n        console.log(tableEntries);\r\n        return tableEntries;\r\n    }\r\n\r\n    render() {\r\n        console.log(\"rendering\");\r\n        console.log(this.state);\r\n        var selectedEntries = this.getSelectedEntries();\r\n        var tableEntries = this.getTableEntries(selectedEntries);\r\n        return (\r\n            <div>\r\n                {this.dateSelector(this.state.dates, this.state.selectedDateIndex)}\r\n                Raw Data Table \r\n                <table striped bordered hover> \r\n                    <thead>\r\n                        <tr>\r\n                            <th>Dispenses: </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {tableEntries}\r\n                    </tbody>\r\n                </table> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nRawDataDisp.propTypes = {\r\n    patient: PropTypes.object.isRequired \r\n}\r\n\r\n\r\nexport default RawDataDisp; ","import React, { Component } from 'react';\r\nimport PersonalDataView from './PersonalDataView';\r\nimport { connect } from 'react-redux';\r\nimport { fetchDispenser } from '../../actions/dispenserActions';  \r\nimport DataView from '../patientData/DataView';\r\nimport PropTypes from 'prop-types';\r\nimport '../../css/PatientView.css';\r\nimport CheckIn from './CheckIn'; \r\nimport { addCheckIn } from '../../actions/patientActions'; \r\nimport RawDataDisp from './RawDataDisp'; \r\n\r\nclass PatientView extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    state = {\r\n        showCheckIn: false \r\n    }\r\n\r\n    submitCheckIn = (checkInResponses) => {\r\n        this.setState({ showCheckIn: false }); \r\n\r\n        let checkInBody = {\r\n            responses: checkInResponses, \r\n            patientId: this.props.patient._id\r\n        } \r\n        this.props.addCheckIn(checkInBody); \r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchDispenser(this.props.patient.medicalData.dispenser_id); \r\n    }\r\n\r\n    render() {\r\n\r\n        const { patient,\r\n                dispenser, \r\n                dispenserLoading, \r\n                dispenserLoaded,\r\n                dispenserError, \r\n                checkInData, \r\n                checkInLoading, \r\n                checkInError } = this.props; \r\n\r\n        const { pdiSurveys } = patient.medicalData.surveys;\r\n\r\n        if(dispenserError) {\r\n            return (\r\n                <div>\r\n                    <div>Dispense Error: {dispenserError.message}</div>\r\n                </div>\r\n            ); \r\n        }\r\n\r\n        if(dispenserLoading || !dispenserLoaded) {\r\n            return (\r\n                <div>Loading . . . </div>\r\n            )\r\n        }\r\n\r\n        if (!dispenserLoading && dispenserLoaded && !dispenser) {\r\n            return (\r\n                <div>This patient doesn't yet have a dispenser.</div>\r\n            )\r\n        }\r\n\r\n        var data = {}\r\n        if (pdiSurveys) {\r\n            data = {\r\n                ...data,\r\n                pdisurveys: pdiSurveys,\r\n            }\r\n        }\r\n\r\n        if (dispenser) {\r\n            data = {\r\n                ...data,\r\n                dispenses: dispenser.events.dispenses,\r\n                btn1: dispenser.events.btn1,\r\n                btn2: dispenser.events.btn2,\r\n                btn3: dispenser.events.btn3,\r\n            }\r\n        }\r\n\r\n        \r\n\r\n        return (\r\n            <div className=\"patientView-container\">\r\n                <PersonalDataView personalData={patient.personalData} />\r\n                {!checkInData && !checkInLoading && !checkInError && !this.state.showCheckIn && \r\n                    <button onClick={() => { this.setState({ showCheckIn: true }); }}>Add Check In</button>} \r\n                {!checkInData && !checkInLoading && !checkInError && this.state.showCheckIn && \r\n                    <CheckIn submitData={this.submitCheckIn}/>}\r\n                {checkInLoading && <p>Loading . . .</p>}\r\n                {checkInError && <p>There was an error in sending the data. </p>}\r\n                {checkInData && <p>Thank you, the data has been saved. </p>}\r\n                <DataView data={data}\r\n                />\r\n                {/* <div className=\"leftPanel\">\r\n                    <PersonalDataView personalData={patient.personalData} />\r\n                    <ConsumptionDataView medicalData={patient.medicalData} data={{pdiSurveys, dispenses}}/>\r\n                </div>\r\n                <div className=\"rightPanel\">\r\n                    <MedicalDataView medicalData={patient.medicalData} data={{pdiSurveys, dispenses}} />\r\n                </div> */}\r\n                <RawDataDisp patient={this.props.patient} rawData={dispenser.events}/> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nPatientView.propTypes = {\r\n    fetchDispenser: PropTypes.func.isRequired, \r\n    dispenser: PropTypes.object.isRequired,\r\n    dispenserLoading: PropTypes.bool.isRequired,\r\n    dispenserLoaded: PropTypes.bool.isRequired,\r\n    dispenserError: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    dispenser: state.dispenseState.dispenser, \r\n    dispenserLoading: state.dispenseState.dispenserLoading,\r\n    dispenserLoaded: state.dispenseState.dispenserLoaded,\r\n    dispenserError: state.dispenseState.error, \r\n    checkInData: state.patientState.checkInData,\r\n    checkInLoading: state.patientState.checkInLoading, \r\n    checkInError: state.patientState.checkInError \r\n})\r\n\r\nexport default connect(mapStateToProps, { fetchDispenser, addCheckIn })(PatientView);\r\n","import React, { Component } from 'react';\r\nimport { Button, Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\r\nimport '../../css/UserListItem.css';\r\n\r\nexport default class UserListItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropdownOpen: false,\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState(prevState => ({\r\n            dropdownOpen: !prevState.dropdownOpen\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        const { user, viewUser, deleteUser, addDispenser } = this.props;\r\n        console.log(viewUser);\r\n        console.log(\"USER:\");\r\n        console.log(user);\r\n        return (\r\n            <div className=\"UserListItem\" /*onClick={() => viewUser(user)}*/ >\r\n                <div className=\"UserListItem-userInfo\">\r\n                    <div>\r\n                        <h4>{user.personalData.name}</h4>\r\n                    </div>\r\n                    <div>\r\n                        <h6 id=\"userid\">id={user._id}</h6>\r\n                    </div>\r\n                </div>\r\n                <div className=\"UserListItem-options\">\r\n                    <button onClick={() => addDispenser(user)}>Add Dispenser</button>\r\n                    <button onClick={() => viewUser(user)}>View</button>\r\n                    <button>Edit</button>\r\n                    <button onClick={() => deleteUser(user._id)}>Delete</button>\r\n                    {/* <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggle}>\r\n                        <DropdownToggle>...</DropdownToggle>\r\n                        <DropdownMenu>\r\n                            <DropdownItem onClick={() => viewUser(user)}>View</DropdownItem>\r\n                            <DropdownItem disabled>Edit</DropdownItem>\r\n                            <DropdownItem onClick={() => deleteUser(user._id)}>Delete</DropdownItem>\r\n                        </DropdownMenu>\r\n                    </Dropdown> */}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport SearchField from 'react-search-field';\r\nimport UserListItem from './UserListItem';\r\nimport { Button, Form, FormGroup, Label, Input, Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\r\nimport '../../css/UserList.css';\r\n\r\nexport default class UserList extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            displayedUsers: this.props.users,\r\n            createNewUserForm: false,\r\n        }\r\n    }\r\n    \r\n    userHTML = (users) => {\r\n        console.log(\"userHTML\");\r\n        console.log(this.props.viewUser);\r\n        return this.state.displayedUsers.map(user => (\r\n            <UserListItem \r\n                className=\"listItem\"\r\n                user={user}\r\n                deleteUser={this.props.deleteUser}\r\n                viewUser={this.props.viewUser} \r\n                addDispenser={this.props.addDispenser}\r\n            />\r\n        ));\r\n    }\r\n\r\n    onFormChange = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            ...this.state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    onSearchChange = (value, e) => {\r\n        e.preventDefault();\r\n        const searchResults = this.props.users.filter(user => {\r\n            return (\r\n                (user.personalData.name.substring(0, value.length) === value) || \r\n                (user._id.substring(0, value.length) === value) ||\r\n                (user.personalData.email.substring(0, value.length) === value)\r\n            );\r\n        });\r\n        this.setState({ displayedUsers: searchResults });\r\n    }\r\n\r\n    createNewUserForm = () => {\r\n        if (this.state.createNewUserForm) {\r\n            return (\r\n                <div className=\"createNewUserForm\">\r\n                    <Form>\r\n                        <FormGroup className=\"input-form-group\">\r\n                            <Label for=\"newUserName\" className=\"form-heading\">Name: </Label>\r\n                            <Input \r\n                                type=\"text\" \r\n                                name=\"newUserName\" \r\n                                id=\"newUserName\"\r\n                                onChange={this.onFormChange}\r\n                            />\r\n                        </FormGroup>\r\n                        <FormGroup className=\"input-form-group\">\r\n                            <Label for=\"newUserEmail\" className=\"form-heading\">Email: </Label>\r\n                            <Input \r\n                                type=\"text\" \r\n                                name=\"newUserEmail\" \r\n                                id=\"newUserEmail\"\r\n                                onChange={this.onFormChange}\r\n                            />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <button style={{float: \"left\"}} className=\"create-new-btn\" onClick={() => {\r\n                                this.setState({\r\n                                    ...this.state,\r\n                                    createNewUserForm: false,\r\n                                });\r\n                                this.props.createNewUser(this.state.newUserName, this.state.newUserEmail);\r\n                            }}>Add Patient</button>\r\n                            <button style={{float: \"left\"}} className=\"cancel-button\" onClick={() => {\r\n                                this.setState({\r\n                                    ...this.state,\r\n                                    createNewUserForm: false,\r\n                                });\r\n                            }}>Cancel</button>\r\n                        </FormGroup>\r\n                    </Form>\r\n                </div>\r\n            )\r\n        } \r\n    }\r\n    \r\n    render() {\r\n        console.log(this.props.users);\r\n        return (\r\n            <div className=\"UserList\">\r\n                <div className=\"UserList-header\">\r\n                    <h1 className=\"header\" style={{textAlign: \"left\", marginBottom: \"20px\", alignSelf: \"center\"}}>{this.props.title}</h1>\r\n                    <div className=\"UserList-ControlPanel\">\r\n                        <div className=\"left\">\r\n                            <button className=\"create-new-btn\" onClick={() => this.setState({ createNewUserForm: true })}>+ Create New</button>\r\n                            <button className=\"delete-btn\" onClick={() => this.props.deleteAllUsers()}>Delete All</button>\r\n                        </div>\r\n                        <div className=\"right\">\r\n                            <SearchField\r\n                                onChange={this.onSearchChange}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {this.createNewUserForm()}\r\n                <div className=\"Users-container\">{this.userHTML(this.props.users)}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PatientList from './PatientList';\r\nimport AddPatientForm from './AddPatientForm';\r\nimport { fetchAMT, getUserByEmail } from '../../auth/AuthManagement'; \r\nimport { auth0Registration, assignRoles } from '../../actions/authActions';\r\nimport { createPatientProfile, addPatientToProviderList, removePatient, fetchPatients, deletePatient } from '../../actions/patientActions'; \r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'reactstrap';\r\nimport auth0client from '../../auth/Auth'; \r\nimport PatientView from '../patientView/PatientView';\r\nimport SearchField from 'react-search-field';\r\nimport UserList from '../users/UserList';\r\nimport { MEDLOCK_API } from '../../config/servers';\r\nimport DispenserCode from '../dashboard/DispenserCode'; \r\nimport '../../css/MyPatients.css';\r\n\r\n\r\nconst axios = require('axios'); \r\n\r\nclass MyPatients extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newPatientForm: false,\r\n            onePatientView: false,\r\n            viewedPatient: null, \r\n            toggleDispenserCodeDisplay: false, \r\n            dispenserCodeUser: null \r\n        }\r\n    }\r\n\r\n    viewPatient = (patient) => {\r\n        console.log(\"viewing patient...\");\r\n        console.log(patient);\r\n        this.setState({\r\n            onePatientView: true,\r\n            viewedPatient: patient\r\n        });\r\n        this.props.history.push(\"/dashboard/mypatients/viewpatient\");\r\n    }\r\n\r\n    onRemovePatient = (patientId) => {\r\n        this.props.removePatient(patientId);\r\n    }\r\n\r\n    addPatient = () => {\r\n        this.setState({newPatientForm: true});\r\n    } \r\n\r\n    addDispenser = (user) => {\r\n        console.log(user); \r\n        this.setState({ \r\n            toggleDispenserCodeDisplay: true, \r\n            dispenserCodeUser: user \r\n        }); \r\n        console.log(this.state.toggleDispenserCodeDisplay); \r\n    }\r\n\r\n    hideDispenserCode = () => {\r\n        this.setState({ toggleDispenserCodeDisplay: false }); \r\n    }\r\n\r\n    displayNewPatientForm = () => {\r\n        const { newPatientForm } = this.state;\r\n        if (newPatientForm) {\r\n            return (\r\n                <div>\r\n                    <AddPatientForm onSubmit={this.submitForm} />\r\n                </div>\r\n            );\r\n        }\r\n        /*\r\n        else {\r\n            return (\r\n                <div>\r\n                    <Button onClick={this.addPatient} id = \"register-patient\">Register Patient</Button>\r\n                </div>\r\n            )\r\n        }\r\n        */\r\n    }\r\n\r\n    submitForm = (name, email) => {\r\n\r\n        const password = Math.random().toString(36).slice(-12); \r\n\r\n        const newPatient = {\r\n            \"name\": name, \r\n            \"email\": email,\r\n            \"password\": password,\r\n            \"connection\": \"Username-Password-Authentication\"\r\n        };\r\n            \r\n\r\n        fetchAMT() \r\n            .then(res => {\r\n\r\n                const AMT = res.data.access_token; \r\n\r\n                this.props.auth0Registration(newPatient, AMT)\r\n                .then(() => { \r\n                    alert(`Patient Succesfully Added`);\r\n                    this.createPatient(newPatient, AMT, this.props.userProfile.user_id);\r\n                })\r\n                .catch(error => {\r\n                    console.log(`User Registration Error: ${error}`); \r\n                    const errorString = `${error}`; \r\n                    console.log(errorString.includes(\"409\")); \r\n                    if(!errorString.includes(\"409\")) alert(`Failed To Add Patient. Error Code: ${error}`);\r\n                    \r\n                    if(errorString.includes(\"409\")) {\r\n                        getUserByEmail(email, AMT) \r\n                            .then(res => {\r\n                                const user_id = res.data[0].user_id; \r\n                                console.log(user_id); \r\n\r\n                                const newPatientProfile = {\r\n                                    _id: user_id.substring(6),\r\n                                    personalData: {\r\n                                        name: name,\r\n                                        email: email,\r\n                                    },\r\n                                    medicalData: {\r\n                                        providers: [auth0client.userProfile.sub.substring(6)]\r\n                                    }\r\n                                };\r\n                                this.props.createPatientProfile(newPatientProfile);\r\n                            })\r\n                            .then(() => {\r\n                                console.log(\"successful\");\r\n                                this.props.fetchPatients();\r\n                            })\r\n                    }\r\n                });\r\n            }) \r\n            .then((err) => {\r\n                this.props.fetchPatients();\r\n                if(err) console.log(err);\r\n            })\r\n            .catch(error => {alert(`Failed To Create Patient. Error Code: ${error}`); console.log(error);});\r\n\r\n        this.setState({ newPatientForm: false });\r\n    }\r\n\r\n    createPatient = (newPatient, AMT, patient_id) => {\r\n        console.log(\"Patient registered. Now creating profile . . . \"); \r\n        const newPatientProfile = {\r\n            _id: patient_id.substring(6),\r\n            personalData: {\r\n                name: newPatient.name,\r\n                email: newPatient.email,\r\n            },\r\n            medicalData: {\r\n                providers: [auth0client.userProfile.sub.substring(6)]\r\n            }\r\n        };\r\n\r\n        this.props.createPatientProfile(newPatientProfile)\r\n            .then(() => {\r\n                console.log(\"also successful!\");\r\n                this.props.fetchPatients();\r\n            });\r\n\r\n        this.props.assignRoles(patient_id, AMT, \"Patient\");\r\n\r\n        this.props.patients.push(newPatientProfile);\r\n\r\n        var url = `${MEDLOCK_API}/email`;\r\n        axios.post(url, newPatient); \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchPatients();\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.history);\r\n        const { patientRegistering, registerError, patientsFetching, patientsFetched } = this.props;\r\n    \r\n        if(registerError) {\r\n            return (\r\n                <div>\r\n                    <p>Register Error: {registerError ? registerError.message : null}</p>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (patientRegistering) {\r\n            return (\r\n                <div>\r\n                    Registering patient . . .\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (patientsFetching || !patientsFetched) {\r\n            return (\r\n                <div>\r\n                    Loading patients . . .\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (this.state.onePatientView) {\r\n            if (this.state.viewedPatient === null)\r\n                throw \"onePatientView is true, but viewedPatient is null!\";\r\n            \r\n            if (this.props.history.location.pathname == \"/dashboard/mypatients/viewpatient\") {\r\n                return (\r\n                    <PatientView patient={this.state.viewedPatient} />\r\n               );\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"MyPatients\">\r\n                {\r\n                    this.state.toggleDispenserCodeDisplay && \r\n                        <div className=\"DispenserCode-container\">\r\n                            <DispenserCode hideDispenserCode={this.hideDispenserCode}\r\n                                            userProfile={this.state.dispenserCodeUser}/> \r\n                        </div> \r\n                }\r\n                <UserList \r\n                    title=\"My Patients\"\r\n                    users={this.props.patients}\r\n                    viewUser={this.viewPatient}\r\n                    deleteUser={this.onRemovePatient}\r\n                    addDispenser={this.addDispenser} \r\n                />\r\n                {this.displayNewPatientForm()}\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nMyPatients.propTypes = {\r\n    patients: PropTypes.array.isRequired,\r\n    patient: PropTypes.object.isRequired,\r\n\r\n    registerPatient: PropTypes.func.isRequired,\r\n    patientRegistering: PropTypes.bool.isRequired,\r\n    registerError: PropTypes.object.isRequired,\r\n\r\n    createPatientProfile: PropTypes.func.isRequired,\r\n    assignPatientRole: PropTypes.func.isRequired,\r\n    fetchPatients: PropTypes.func.isRequired,\r\n    patientsFetching: PropTypes.bool.isRequired,\r\n    patientsFetched: PropTypes.bool.isRequired,\r\n    fetchPatientsError: PropTypes.object.isRequired,\r\n\r\n    removePatient: PropTypes.func.isRequired,\r\n    patientRemoving: PropTypes.bool.isRequired,\r\n    lastRemovedPatient: PropTypes.object.isRequired,\r\n    patientRemoveError: PropTypes.object\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    patients: state.patientState.patients,\r\n    patient: state.patientState.patient,\r\n\r\n    patientRegistering: state.patientState.patientLoading, \r\n    patientsFetching: state.patientState.patientsFetching,\r\n    patientsFetched: state.patientState.patientsFetched,\r\n    fetchPatientsError: state.patientState.fetchPatientsError,\r\n\r\n    registerError: state.providerState.registerError,\r\n    roleAssigning: state.providerState.roleAssigning,\r\n    roleAssignError: state.providerState.roleAssignError,\r\n\r\n    userProfile: state.authState.userProfile, \r\n    userProfileLoading: state.authState.userProfileLoading, \r\n    userProfileError: state.authState.userProfileError,\r\n\r\n    patientRemoving: state.patientState.patientRemoving,\r\n    lastRemovedPatient: state.patientState.lastRemovedPatient,\r\n    patientRemoveError: state.patientState.patientRemoveError,\r\n\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps, { \r\n        auth0Registration, \r\n        assignRoles, \r\n        createPatientProfile, \r\n        addPatientToProviderList,\r\n        fetchPatients,\r\n        removePatient,\r\n    })(MyPatients);\r\n","import {\r\n    FETCH_ALL_CLINICS_BEGIN,\r\n    FETCH_ALL_CLINICS_SUCCESS,\r\n    FETCH_ALL_CLINICS_FAILURE,\r\n    FETCH_ALL_PROVIDERS_AT_CLINIC_BEGIN,\r\n    FETCH_ALL_PROVIDERS_AT_CLINIC_SUCCESS,\r\n    FETCH_ALL_PROVIDERS_AT_CLINIC_FAILURE,\r\n    REGISTER_NEW_CLINIC_BEGIN,\r\n    REGISTER_NEW_CLINIC_SUCCESS,\r\n    REGISTER_NEW_CLINIC_FAILURE,\r\n    ADD_PROVIDER_TO_CLINIC_BEGIN,\r\n    ADD_PROVIDER_TO_CLINIC_SUCCESS,\r\n    ADD_PROVIDER_TO_CLINIC_FAILURE,\r\n} from './types';\r\n\r\nimport axios from 'axios';\r\nimport auth0client from '../auth/Auth';\r\nimport { MEDLOCK_API } from '../config/servers';\r\n\r\nconst fetchAllClinicsBegin = () => ({\r\n    type: FETCH_ALL_CLINICS_BEGIN\r\n});\r\n\r\nconst fetchAllClinicsSuccess = clinics => ({\r\n    type: FETCH_ALL_CLINICS_SUCCESS,\r\n    payload: {\r\n        clinics\r\n    }\r\n});\r\n\r\nconst fetchAllClinicsFailure = error => ({\r\n    type: FETCH_ALL_CLINICS_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function fetchAllClinics() {\r\n    const {\r\n        getAccessToken\r\n    } = auth0client;\r\n    let API_URL = `${MEDLOCK_API}/clinic`;\r\n    const headers = {\r\n        'Authorization': `Bearer ${getAccessToken()}`\r\n    }\r\n\r\n    return dispatch => {\r\n            dispatch(fetchAllClinicsBegin());\r\n            return axios.get(API_URL, { headers })\r\n                .then((res) => {\r\n                    var clinics = res.data;\r\n                    console.log(clinics);\r\n                    dispatch(fetchAllClinicsSuccess(clinics));\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    dispatch(fetchAllClinicsFailure(error));\r\n                });\r\n    }\r\n}\r\n\r\nconst fetchAllProvidersAtClinicBegin = () => ({\r\n    type: FETCH_ALL_PROVIDERS_AT_CLINIC_BEGIN\r\n});\r\n\r\nconst fetchAllProvidersAtClinicSuccess = (providers) => ({\r\n    type: FETCH_ALL_PROVIDERS_AT_CLINIC_SUCCESS,\r\n    payload: {\r\n        providers\r\n    }\r\n\r\n});\r\n\r\nconst fetchAllProvidersAtClinicFailure = (error) => ({\r\n    type: FETCH_ALL_PROVIDERS_AT_CLINIC_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function fetchAllProvidersAtClinic(clinicId) {\r\n    const {\r\n        getAccessToken\r\n    } = auth0client;\r\n    let API_URL = `${MEDLOCK_API}/clinic/providers`;\r\n    const headers = {\r\n        'Authorization': `Bearer ${getAccessToken()}`\r\n    }\r\n\r\n    return dispatch => {\r\n        dispatch(fetchAllProvidersAtClinicBegin());\r\n        return axios.post(API_URL, {'_id': clinicId}, { headers })\r\n            .then(res => {\r\n                var providers = res.data;\r\n                console.log(providers);\r\n                dispatch(fetchAllProvidersAtClinicSuccess(providers));\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                dispatch(fetchAllProvidersAtClinicFailure(error));\r\n            });\r\n    }\r\n}\r\n\r\nconst registerNewClinicBegin = () => ({\r\n    type: REGISTER_NEW_CLINIC_BEGIN\r\n});\r\n\r\nconst registerNewClinicSuccess = (clinic) => ({\r\n    type: REGISTER_NEW_CLINIC_SUCCESS,\r\n    payload: {\r\n        clinic\r\n    }\r\n});\r\n\r\nconst registerNewClinicError = (error) => ({\r\n    type: REGISTER_NEW_CLINIC_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function registerNewClinic(newClinic) {\r\n    const { getAccessToken } = auth0client;\r\n    let API_URL = `${MEDLOCK_API}/clinic/register`;\r\n    const headers = {\r\n        'Authorization': `Bearer ${getAccessToken()}`\r\n    }\r\n\r\n    return dispatch => {\r\n        dispatch(registerNewClinicBegin());\r\n        return axios.post(API_URL, {'name': newClinic.name}, { headers })\r\n            .then(res => {\r\n                var clinic = res.data;\r\n                console.log(clinic);\r\n                dispatch(registerNewClinicSuccess(clinic));\r\n                return clinic;\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                dispatch(registerNewClinicError(error));\r\n            });\r\n    }\r\n}\r\n\r\nconst addProviderToClinicBegin = () => ({\r\n    type: ADD_PROVIDER_TO_CLINIC_BEGIN,\r\n});\r\n\r\nconst addProviderToClinicSuccess = (clinic) => ({\r\n    type: ADD_PROVIDER_TO_CLINIC_SUCCESS,\r\n    payload: {\r\n        clinic\r\n    }\r\n});\r\n\r\nconst addProviderToClinicFailure = (error) => ({\r\n    type: ADD_PROVIDER_TO_CLINIC_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function addProviderToClinic(providerId, clinicId) {\r\n    const { getAccessToken } = auth0client;\r\n    let API_URL = `${MEDLOCK_API}/clinic/add/provider`;\r\n    const headers = {\r\n        'Authorization': `Bearer ${getAccessToken()}`\r\n    }\r\n\r\n    return dispatch => {\r\n        dispatch(addProviderToClinicBegin());\r\n        return axios.post(API_URL, {'provider_id': providerId, 'clinic_id': clinicId}, { headers })\r\n            .then(res => {\r\n                var clinic = res.data;\r\n                console.log(clinic);\r\n                dispatch(addProviderToClinicSuccess(clinic));\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                dispatch(addProviderToClinicFailure(error));\r\n            });\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react'; \r\nimport { connect } from 'react-redux'; \r\nimport { saveProfile, updateMedicalData } from '../../actions/profileActions'; \r\nimport { fetchAllClinics, fetchAllProvidersAtClinic } from '../../actions/clinicActions';\r\nimport { resetPassword } from '../../auth/AuthManagement'; \r\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport auth0client from '../../auth/Auth';\r\nimport { MEDLOCK_API } from '../../config/servers';\r\nimport '../../css/NewUser.css';\r\n\r\nclass NewUser extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            personalData: {\r\n                ...props.profile.personalData,\r\n                sex: \"Other\",\r\n                address: {\r\n                    street: \"\",\r\n                    city: \"\",\r\n                    state: \"\",\r\n                    zip: \"\"\r\n                }\r\n            },\r\n            medicalData: {\r\n                clinic: null,\r\n                provider: null,\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchAllClinics()\r\n            .then(() => {\r\n                var clinicId = this.props.clinics[0]._id;\r\n                this.props.fetchAllProvidersAtClinic(clinicId)\r\n                    .then(() => {\r\n                        this.setState({\r\n                            ...this.state,\r\n                            medicalData: {\r\n                                clinic: clinicId,\r\n                                provider: this.props.providers[0]._id,\r\n                            }\r\n                        });\r\n                    });\r\n               });\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault(); \r\n        this.props.saveProfile(this.state.personalData, this.props.role) // this isn't running as a promise\r\n            .then((profile) => {\r\n                console.log(profile);\r\n                this.props.updateMedicalData(profile._id, \"patient\", this.state.medicalData);\r\n            });\r\n        \r\n        // Send Password Reset Email and Test Temporary Password Email \r\n        // resetPassword(this.props.profile.personalData.email); \r\n        this.props.toggle(); \r\n    }\r\n\r\n    onChange = e => {\r\n        if (e.target.name === \"clinic\") {\r\n            const clinicId = e.target.value;\r\n            this.setState({\r\n                medicalData: {\r\n                    ...this.state.medicalData,\r\n                    [e.target.name]: clinicId\r\n                }\r\n            }, () => {\r\n                // when the selected clinic is changed, fetch the associated providers\r\n                this.props.fetchAllProvidersAtClinic(clinicId)\r\n                    .then(() => {\r\n                        this.setState({\r\n                            ...this.state,\r\n                            medicalData: {\r\n                                ...this.state.medicalData,\r\n                                provider: this.props.providers[0]._id,\r\n                            }\r\n                        });\r\n                    });\r\n            });\r\n        } else if (e.target.name === \"provider\") {\r\n            const providerId = e.target.value;\r\n            this.setState({\r\n                medicalData: {\r\n                    ...this.state.medicalData,\r\n                    [e.target.name]: providerId\r\n                }\r\n            });\r\n        } else if (e.target.name === \"street\" || e.target.name === \"city\"   ||\r\n            e.target.name === \"state\"  || e.target.name === \"zip\") {\r\n            this.setState({\r\n                personalData: {\r\n                    ...this.state.personalData,\r\n                    address: {\r\n                        ...this.state.personalData.address,\r\n                        [e.target.name]: e.target.value\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({ \r\n                personalData: {\r\n                    ...this.state.personalData,\r\n                    [e.target.name]: e.target.value \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    clinicsToOptions = () => {\r\n        return this.props.clinics.map((clinic, i) => { \r\n            return (\r\n                <option value={clinic._id}>{clinic.name}</option>\r\n            )\r\n        });\r\n    }\r\n\r\n    providersToOptions = () => {\r\n        return this.props.providers.map((provider, i) => {\r\n            return (\r\n                <option value={provider._id}>{provider.personalData.name}</option>\r\n            )\r\n        });\r\n    }\r\n\r\n    showSelectProvidersAtClinic = () => {\r\n        console.log(\"showSelectProvidersAtClinic\");\r\n        console.log(this.state);\r\n        console.log(this.props);\r\n        // not seeing providers or clinics on new user form\r\n        if (this.state.medicalData.clinic == null || this.props.providersFetching) {\r\n            return (\r\n                <Input type=\"select\" name=\"provider\" id=\"pi-provider\" placeholder=\"select provider\" value={this.state.medicalData.provider} onChange={this.onChange} disabled>\r\n                </Input>\r\n            );\r\n        } else {\r\n            return (\r\n                <Input type=\"select\" name=\"provider\" id=\"pi-provider\" placeholder=\"select provider\" value={this.state.medicalData.provider} onChange={this.onChange}>\r\n                    {this.providersToOptions()}\r\n                </Input>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.clinicsFetched || this.props.clinicsFetching || this.props.providersFetching) {\r\n            return <div>Loading...</div>\r\n        } else {\r\n            return (\r\n                <div className=\"NewUser\">\r\n                    <Form>\r\n                        <FormGroup required>\r\n                            <Label for=\"pi-name\">User Name</Label>\r\n                            <Input type=\"text\" name=\"name\" id=\"pi-name\" placeholder=\"John Doe\" value={this.state.personalData.name} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <FormGroup required>\r\n                            <Label for=\"pi-email\">Email</Label>\r\n                            <Input type=\"email\" name=\"email\" id=\"pi-email\" placeholder=\"john.doe@gmail.com\" value={this.state.personalData.email} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-clinic\">Clinic</Label>\r\n                            <Input type=\"select\" name=\"clinic\" id=\"pi-clinic\" value={this.state.medicalData.clinic} onChange={this.onChange}>\r\n                                {this.clinicsToOptions()}\r\n                            </Input>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-provider\">Providers</Label>\r\n                            {this.showSelectProvidersAtClinic()}\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-sex\">Sex</Label>\r\n                            <Input type=\"select\" name=\"sex\" id=\"pi-sex\" value={this.state.personalData.sex} onChange={this.onChange}>\r\n                                <option>Male</option>\r\n                                <option>Female</option>\r\n                                <option>Other</option>\r\n                            </Input>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-dob\">Birthday</Label>\r\n                            <Input type=\"date\" name=\"birthday\" id=\"pi-dob\" value={this.state.personalData.birthday} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-addr\">Address</Label>\r\n                            <Input type=\"text\" name=\"street\" id=\"pi-addr\" placeholder=\"123 Main Street\" value={this.state.personalData.address.street} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-city\">City</Label>\r\n                            <Input type=\"text\" name=\"city\" id=\"pi-city\" placeholder=\"Charlottesville\" value={this.state.personalData.address.city} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-state\">State</Label>\r\n                            <Input type=\"text\" name=\"state\" id=\"pi-state\" placeholder=\"VA\" value={this.state.personalData.address.state} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-zip\">Zip</Label>\r\n                            <Input type=\"text\" name=\"zip\" id=\"pi-zip\" placeholder=\"22903\" value={this.state.personalData.address.zip} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-phone\">Phone</Label>\r\n                            <Input type=\"text\" name=\"phone\" id=\"pi-phone\" placeholder=\"(555) 555-5555\" value={this.state.personalData.phone} onChange={this.onChange}  />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"pi-chatname\">Chat Name</Label>\r\n                            <Input type=\"text\" name=\"chatname\" id=\"pi-chatname\" placeholder=\"jdoe\" value={this.state.personalData.chatname} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <FormGroup required>\r\n                            <Label for=\"pi-bio\">Biography</Label>\r\n                            <Input type=\"textarea\" name=\"bio\" id=\"pi-bio\" placeholder=\"in recovery\" value={this.state.personalData.bio} onChange={this.onChange} />\r\n                        </FormGroup>\r\n                        <Button onClick={this.onSubmit}>Save</Button>\r\n                    </Form>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n} \r\n\r\nconst mapStateToProps = state => ({\r\n    AMT: state.authState.AMT, \r\n    AMTLoading: state.authState.AMTLoading, \r\n    AMTError: state.authState.AMTError, \r\n\r\n    clinics: state.clinicState.clinics,\r\n    clinicsFetching: state.clinicState.clinicsFetching,\r\n    clinicsFetched: state.clinicState.clinicsFetched,\r\n    clinicsError: state.clinicState.clinicsError,\r\n\r\n    providers: state.clinicState.providers,\r\n    providersFetching: state.clinicState.providersFetching,\r\n    providersFetched: state.clinicState.providersFetched,\r\n\r\n    profile: state.profileState.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, { saveProfile, fetchAllClinics, fetchAllProvidersAtClinic, updateMedicalData })(NewUser); ","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchAllClinics, registerNewClinic, addProviderToClinic } from '../../actions/clinicActions';\r\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport auth0client from '../../auth/Auth';\r\nimport { MEDLOCK_API } from '../../config/servers';\r\nimport { resetPassword } from '../../auth/AuthManagement'; \r\nimport '../../css/NewUser.css';\r\n\r\n\r\nclass NewProvider extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            clinic: \"other\",\r\n            new_clinic: \"\",\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        alert(\"Please select an existing clinic or register a new one.\");\r\n        this.props.fetchAllClinics();\r\n    }\r\n\r\n    clinicsToOptions = () => {\r\n        return this.props.clinics.map((clinic, i) => { \r\n            return (\r\n                <option value={clinic._id}>{clinic.name}</option>\r\n            )\r\n        });\r\n    }\r\n\r\n    onChange = e => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            ...this.state,\r\n            [e.target.name]: e.target.value\r\n        }, () => {\r\n            console.log(this.state);\r\n        });\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.clinic == \"other\") {\r\n            var newClinic = {\r\n                name: this.state.new_clinic,\r\n            };\r\n            this.props.registerNewClinic(newClinic)\r\n                .then((clinic) => {\r\n\r\n                    var providerId = this.props.profile._id;\r\n                    var clinicId = clinic._id;\r\n\r\n                    this.props.addProviderToClinic(providerId, clinicId);\r\n                })\r\n                .catch(error => console.log(error));\r\n        } else {\r\n            var providerId = this.props.profile._id;\r\n            var clinicId = this.state.clinic;\r\n            this.props.addProviderToClinic(providerId, clinicId);\r\n        }\r\n\r\n        // resetPassword(this.props.profile.personalData.email);\r\n        this.props.toggle();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"NewUser\">\r\n                <div>\r\n                    <Form>\r\n                        <FormGroup required>\r\n                            <Label for=\"pi-clinic\">Clinic</Label>\r\n                            <Input type=\"select\" name=\"clinic\" id=\"pi-clinic\" value={this.state.clinic} onChange={this.onChange}>\r\n                                {this.clinicsToOptions()}\r\n                                <option value={\"other\"}>Other</option>\r\n                            </Input>\r\n                        </FormGroup>\r\n                        { this.state.clinic == \"other\" ? \r\n                            <FormGroup required>\r\n                                <Label for=\"new-clinic\">New Clinic Name</Label>\r\n                                <Input type=\"text\" name=\"new_clinic\" id=\"new-clinic\" value={this.state.new_clinic} onChange={this.onChange}></Input>\r\n                            </FormGroup>\r\n                            : <div></div>\r\n                        }\r\n                        <Button onClick={this.onSubmit}>Select Clinic</Button>\r\n                    </Form> \r\n                </div>               \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    clinics: state.clinicState.clinics,\r\n    clinicsFetching: state.clinicState.clinicsFetching,\r\n    clinicsFetched: state.clinicState.clinicsFetched,\r\n    clinicsError: state.clinicState.clinicsError,\r\n    lastRegistered: state.clinicState.lastRegistered,\r\n});\r\n\r\nexport default connect(mapStateToProps, { fetchAllClinics, registerNewClinic, addProviderToClinic })(NewProvider);\r\n","import React, { Component } from 'react'; \r\nimport DashIcon from './DashIcon'; \r\nimport DispenserCode from './DispenserCode'; \r\nimport PropTypes from 'prop-types';\r\nimport '../../css/Dashboard.css';\r\nimport auth0client from '../../auth/Auth';\r\nimport { connect } from 'react-redux';\r\nimport Profile from '../profile/Profile';\r\nimport Resources from '../resources/Resources';\r\n //import Inbox from '../inbox/Inbox';\r\nimport { loadProfile } from '../../actions/profileActions'; \r\nimport { fetchRoles } from '../../actions/authActions';\r\nimport { fetchAMT } from '../../auth/AuthManagement'; \r\nimport SecuredRoute from '../SecuredRoute';\r\nimport DashHeader from './DashHeader';\r\nimport SideBar from '../nav/sidebar/SideBar';\r\nimport PatientData from '../patientData/PatientData';\r\nimport PDISurvey from '../survey/PDISurvey';\r\nimport Surveys from '../survey/Surveys'; \r\nimport Dispenser from '../test/Dispenser'; \r\nimport ServerEndpoints from '../test/ServerEndpoints'; \r\nimport { modules } from '../nav/ModuleInfo'; \r\nimport MyPatients from '../myPatients/MyPatients'; \r\nimport NewUser from './NewUser';\r\nimport NewProvider from './NewProvider';\r\nimport { collapseSideBar, expandSideBar, setSideBarToggle } from '../../actions/sideBarActions'; \r\nimport ReactGA from 'react-ga'; \r\nimport history from '../nav/history';\r\n\r\n\r\nconsole.log(auth0client.getProfile()); \r\n\r\nclass Dashboard extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            profile: {},\r\n            role: null, \r\n            icons: modules, \r\n            newUser: false, \r\n            toggleCodeDisplay: false\r\n        }\r\n    }\r\n\r\n    routeToAdminPage = () => {\r\n        console.log(\"rerouting to admin\");\r\n        history.replace('/admin');\r\n    }\r\n\r\n    checkAdminStatus = () => {\r\n        console.log(\"checking\");\r\n        // is there a more secure way to do this?\r\n        if (this.props.roles[0].name.toLowerCase() == \"admin\") {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    displayDispenserCode = () => {\r\n        console.log(\"Display Dispenser Code. \"); \r\n        ReactGA.event({\r\n            category: 'Pop Up Modal', \r\n            action: 'Generated dispenser code from Dashboard', \r\n            label: 'Add Dispenser from Dashboard' \r\n        })\r\n        this.setState({\r\n            toggleCodeDisplay: true \r\n        }); \r\n    }\r\n\r\n    hideDispenserCode = () => {\r\n        this.setState({\r\n            toggleCodeDisplay: false \r\n        }); \r\n    }\r\n\r\n    autoCollapseSideBar = (query) => {\r\n        //not getting called at the right times\r\n        this.props.setSideBarToggle();\r\n        if (query.matches) {\r\n            this.props.collapseSideBar();\r\n        } else {\r\n            this.props.expandSideBar();\r\n        }\r\n    }\r\n\r\n    toggleSideBar = () => {\r\n        if (this.props.sideBarCollapsed) {\r\n            ReactGA.event({\r\n                category: 'SideBar Toggle', \r\n                action: 'Expanded SideBar', \r\n                label: 'Click Sidebar Menu Icon to Expand' \r\n            })\r\n            this.props.expandSideBar();\r\n        } \r\n        else {\r\n            ReactGA.event({\r\n                category: 'SideBar Toggle', \r\n                action: 'Collapsed SideBar', \r\n                label: 'Click Sidebar Menu Icon to Collapse' \r\n            })\r\n            this.props.collapseSideBar(); \r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // media queries\r\n        var x = window.matchMedia(\"(max-width: 1024px)\");\r\n        this.autoCollapseSideBar(x);\r\n        x.addListener(this.autoCollapseSideBar);\r\n\r\n        const { userProfile } = auth0client; \r\n\r\n        console.log(userProfile); \r\n\r\n        console.log(userProfile.sub.substring(6)); \r\n        ReactGA.set({\r\n            userId: userProfile.sub.substring(6),\r\n          }); \r\n        \r\n        var ga = ReactGA.ga(); \r\n        ReactGA.timing(); \r\n\r\n        // Fetch the API Management Token. \r\n        fetchAMT() \r\n            .then(res => { \r\n                const AMT = res.data.access_token; \r\n                console.log(`AMT: ${AMT}`);\r\n                this.props.fetchRoles(AMT) \r\n                    .then(() => {\r\n                        console.log(this.props.roles);\r\n                        if (this.checkAdminStatus()) {\r\n                            this.routeToAdminPage();\r\n                        } else {\r\n                            this.props.loadProfile(this.props.roles[0].name) \r\n                            .then(() => {\r\n                                console.log(this.props);\r\n                                // Need better method of verifying that this is a new patient. \r\n                                if(!this.props.profile.medicalData.clinic) { \r\n                                        this.setState({ \r\n                                            newUser: true \r\n                                        });\r\n                                // Testing New Password \r\n                                } else {\r\n                                    console.log(userProfile); \r\n                                }\r\n                            });\r\n                        }\r\n                    }); \r\n            }); \r\n    }\r\n\r\n    toggleNewUser = () => {\r\n        this.setState(prevState => {\r\n            return {\r\n                newUser: !prevState.newUser \r\n            }\r\n        })\r\n    }\r\n\r\n    dashboardContentStyle = () => {\r\n        var style;\r\n        if (this.props.sideBarCollapsed) {\r\n            style = {\r\n                'grid-column': '1/13',\r\n            }\r\n        } else {\r\n            style = {\r\n                'grid-column': '3/13',\r\n            }\r\n        }\r\n        return style;\r\n    }\r\n\r\n    render() { \r\n\r\n        // ReactGA.ga('create', 'UA-155183323-1', { 'userId': '1234' }); \r\n        // ReactGA.ga('set', 'dimension1', '1234'); \r\n        var USER_ID = 'myUserId'; \r\n        // At a later time, once the `userId` value is known,\r\n        // sets the value on the tracker.\r\n        // ReactGA.ga('set', 'userId', USER_ID);\r\n\r\n        // Setting the userId doesn't send data to Google Analytics.\r\n        // You must also use a pageview or event to send the data.\r\n        // ReactGA.ga('send', 'event', 'authentication', 'user-id available');\r\n\r\n        const { profile, profileLoading, profileError, \r\n                roles, rolesLoading, rolesError } = this.props;\r\n\r\n        if(rolesError || profileError) {\r\n            return (\r\n                <div>\r\n                    <p>Profile Error: {profileError ? profileError.message : null}</p>\r\n                    <p>Roles Error: {rolesError ? rolesError.message : null}</p>\r\n                </div>\r\n            )\r\n        } \r\n\r\n        if(rolesLoading) {\r\n            return (\r\n                <div>\r\n                    Roles Loading . . . \r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (!profile || profileLoading) {\r\n            return (\r\n                <div>\r\n                    Profile Loading . . .\r\n                </div>\r\n            );\r\n        } \r\n\r\n        if(this.state.newUser) {\r\n            if (roles[0].name.toLowerCase() == \"patient\") {\r\n                return (\r\n                    <NewUser toggle={this.toggleNewUser} profile={this.props.profile} role={roles[0].name}/> \r\n                );\r\n            } else if (roles[0].name.toLowerCase() == \"provider\") {\r\n                return (\r\n                    <NewProvider toggle={this.toggleNewUser} profile={this.props.profile} />\r\n                );\r\n            }\r\n\r\n        }\r\n\r\n        return (\r\n            <div className=\"Dashboard\">\r\n                {this.state.toggleCodeDisplay ? \r\n                    <div className=\"Grey-Layer\"></div> : null}\r\n                {this.state.toggleCodeDisplay ? \r\n                    <div className=\"DispenserCode-container\">\r\n                        <DispenserCode hideDispenserCode={this.hideDispenserCode}\r\n                                        userProfile={this.props.profile}/> \r\n                    </div> \r\n                    : null \r\n                }\r\n                \r\n                <div className=\"DashHeader-container\">\r\n                    <DashHeader\r\n                        name={this.props.profile.personalData.name}  \r\n                        roles={roles}\r\n                        toggleSideBar={this.toggleSideBar}\r\n                        sideBarCollapsed={this.props.sideBarCollapsed}\r\n                        sideBarToggle={this.props.sideBarToggle}\r\n                        displayDispenserCode={this.displayDispenserCode}\r\n                    />\r\n                </div>\r\n                <div className=\"SideBar-container\">\r\n                        <SideBar \r\n                            roles={this.props.roles} \r\n                            personalData={this.props.profile.personalData}\r\n                            toggle={this.toggleSideBar}\r\n                            togglable={this.sideBarToggle}\r\n                            collapsed={this.props.sideBarCollapsed}\r\n\r\n                />\r\n                </div>\r\n                <div className=\"Dashboard-content\" style={this.dashboardContentStyle()}>\r\n                    {\r\n                        this.props.location.pathname === \"/dashboard\" ? this.dashboardHTML() : this.makeMainRoutes(this.props)\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    iconHTML = (icons, roles) => {\r\n        try {\r\n            return icons.filter(icon => {\r\n                    if(!icon.roles) return false; \r\n                    \r\n                    for(let i = 0; i < icon.roles.length; i++) {\r\n                        if(icon.roles[i].name === roles[0].name) \r\n                            return true; \r\n                    }\r\n                    return false; \r\n                }). \r\n                map(icon => (\r\n                    <div className=\"DashIcon-container\">\r\n                        <DashIcon \r\n                            name={icon.name} \r\n                            id={icon.id}\r\n                            roles={icon.roles} \r\n                            content={icon.content} \r\n                            link={icon.link} \r\n                        />\r\n                    </div>\r\n                ))\r\n        } catch(error) { console.log(error); } \r\n\r\n        return (\r\n            <div>Loading . . . </div>\r\n        )\r\n    };\r\n\r\n    dashboardHTML = () => {\r\n        return (\r\n            <div className=\"DashIcons-container\">\r\n                {this.iconHTML(this.state.icons, this.props.roles)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    makeMainRoutes = (props) => {\r\n        return (\r\n            <div className=\"SecuredRoutes-container\">\r\n                <SecuredRoute path=\"/dashboard/profile\" personalData={props.profile.personalData} component={Profile} />\r\n                {/* <SecuredRoute path=\"/dashboard/inbox\" component={Inbox} /> */}\r\n                <SecuredRoute path=\"/dashboard/mydata\" patient={props.profile} component={PatientData} />\r\n                <SecuredRoute path=\"/dashboard/resources\" component={Resources} />\r\n                <SecuredRoute path=\"/dashboard/survey\" component={Surveys} />\r\n                <SecuredRoute path=\"/dashboard/dispenser\" profile={props.profile} component={Dispenser} /> \r\n                <SecuredRoute path=\"/dashboard/serverendpoints\" component={ServerEndpoints} /> \r\n                <SecuredRoute path=\"/dashboard/mypatients\" component={MyPatients} />\r\n            </div>\r\n        );   \r\n    }  \r\n}\r\n\r\nDashboard.propTypes = {\r\n    profile: PropTypes.object.isRequired,\r\n    loadProfile: PropTypes.func.isRequired,\r\n    profileLoading: PropTypes.bool.isRequired,\r\n    profileLoaded: PropTypes.bool.isRequired, \r\n    profileError: PropTypes.string, \r\n\r\n    roles: PropTypes.object.isRequired, \r\n    fetchRoles: PropTypes.func.isRequired, \r\n    rolesLoading: PropTypes.bool.isRequired, \r\n    rolesError: PropTypes.string, \r\n\r\n    collapseSideBar: PropTypes.func.isRequired,\r\n    expandSideBar: PropTypes.func.isRequired,\r\n    setSideBarToggle: PropTypes.func.isRequired,\r\n    sideBarCollapsed: PropTypes.bool.isRequired,\r\n    sideBarToggle: PropTypes.bool.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profileState.profile,\r\n    profileLoading: state.profileState.profileLoading,\r\n    profileLoaded: state.profileState.profileLoaded,\r\n    profileError: state.profileState.profileError,\r\n\r\n    roles: state.authState.roles, \r\n    rolesLoading: state.authState.rolesLoading, \r\n    rolesError: state.authState.rolesError, \r\n\r\n    sideBarCollapsed: state.sideBarState.collapsed,\r\n    sideBarToggle: state.sideBarState.toggle,\r\n});\r\n\r\nexport default connect(mapStateToProps, { \r\n    loadProfile, \r\n    fetchRoles, \r\n    collapseSideBar, \r\n    expandSideBar, \r\n    setSideBarToggle \r\n})(Dashboard); \r\n","import { \r\n    COLLAPSE_SIDEBAR, \r\n    EXPAND_SIDEBAR,\r\n    SET_SIDEBAR_TOGGLE,\r\n} from './types';\r\n\r\nexport function collapseSideBar() {\r\n    return dispatch => dispatch({ type: COLLAPSE_SIDEBAR });\r\n}\r\n\r\nexport function expandSideBar() {\r\n    return dispatch => dispatch({ type: EXPAND_SIDEBAR });\r\n}\r\n\r\nexport function setSideBarToggle() {\r\n    return dispatch => dispatch({ type: SET_SIDEBAR_TOGGLE });\r\n}\r\n\r\n","import React, { Component } from 'react';\r\n\r\nclass Callback extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <img src={''} alt=\"loading\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Callback;\r\n","import React, { Component } from 'react';\r\n\r\nclass Home extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                Home\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport bigLogo from '../../icons/white-logo.png'; \r\nimport auth0client from '../../auth/Auth';\r\nimport '../../css/Login.css';\r\nimport {Helmet} from 'react-helmet';\r\nimport history from '../nav/history';\r\n\r\nclass Login extends Component {\r\n\r\n    routeToRegister = () => {\r\n        history.replace(\"/register\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div>\r\n                    <Helmet>\r\n                        <style>{'body { background-color: var(--medlock-blue); overflow: hidden }'}</style>\r\n                    </Helmet>\r\n                    <div id=\"login-logo\">\r\n                        <img className=\"login-logo\" src={bigLogo} />\r\n                    </div>\r\n                    <div className=\"btn-container\">\r\n                        <Button onClick={auth0client.login} id=\"login-button\">Login</Button>\r\n                        <Button onClick={this.routeToRegister} id=\"register-btn\">Register</Button>\r\n                    </div>\r\n                </div>\r\n        );\r\n    }\r\n} \r\n\r\n\r\nexport default Login; ","import {\r\n    CREATE_PROVIDER_PROFILE_BEGIN, \r\n    CREATE_PROVIDER_PROFILE_SUCCESS, \r\n    CREATE_PROVIDER_PROFILE_FAILURE, \r\n\r\n    FETCH_ALL_PROVIDERS_BEGIN,\r\n    FETCH_ALL_PROVIDERS_SUCCESS,\r\n    FETCH_ALL_PROVIDERS_FAILURE,\r\n\r\n    DELETE_PROVIDER_BEGIN,\r\n    DELETE_PROVIDER_SUCCESS,\r\n    DELETE_PROVIDER_FAILURE,\r\n\r\n} from './types';\r\n\r\nimport axios from 'axios';\r\nimport auth0client from '../auth/Auth'; \r\nimport { MEDLOCK_API } from '../config/servers';\r\nimport { fetchAMT } from '../auth/AuthManagement';\r\n\r\nconst createProviderProfileBegin = () => ({\r\n    type: CREATE_PROVIDER_PROFILE_BEGIN\r\n});\r\n\r\nconst createProviderProfileSuccess = provider => ({\r\n    type: CREATE_PROVIDER_PROFILE_SUCCESS,\r\n    payload: {\r\n        provider\r\n    }\r\n});\r\n\r\nconst createProviderProfileFailure = error => ({\r\n    type: CREATE_PROVIDER_PROFILE_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\n// If Administrator creates provider, different than if a provider creates a provider. \r\n// Adminstrators may create physicians, physicians may create nurses, caretakers, and others. \r\nexport function createProviderProfile(newProfile, creatorScope) {\r\n    const { getAccessToken } = auth0client;\r\n    let API_URL = \"\"; \r\n    \r\n    switch(creatorScope) {\r\n        case \"Admin\": \r\n            API_URL = `${MEDLOCK_API}/admin/provider`; \r\n            break; \r\n        case \"Provider\": \r\n            API_URL = `${MEDLOCK_API}/provider/provider`; \r\n            break; \r\n        default: \r\n            API_URL = `${MEDLOCK_API}/provider`; \r\n    }\r\n\r\n    const headers = { 'Authorization': `Bearer ${getAccessToken()}`};\r\n    return dispatch => {\r\n        dispatch(createProviderProfileBegin());\r\n        return axios.post(API_URL, newProfile, { headers })\r\n            .then(res => {alert(`Provider Added Successfully`); dispatch(createProviderProfileSuccess(res.data))})\r\n            .catch(error => {alert(`Failed To Create Provider. Error Code: ${error}`); dispatch(createProviderProfileFailure(error))});\r\n    }\r\n}\r\n\r\nconst fetchAllProvidersBegin = () => ({\r\n    type: FETCH_ALL_PROVIDERS_BEGIN\r\n  });\r\n  \r\nconst fetchAllProvidersSuccess = providers => ({\r\n    type: FETCH_ALL_PROVIDERS_SUCCESS,\r\n    payload: {\r\n        providers\r\n    }\r\n});\r\n\r\nconst fetchAllProvidersFailure = error => ({\r\n    type: FETCH_ALL_PROVIDERS_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function fetchAllProviders() {\r\n    console.log(\"FETCHING PROVIDERS\");\r\n    const API_URL = `${MEDLOCK_API}/admin/provider`;\r\n\r\n    return dispatch => {\r\n        dispatch(fetchAllProvidersBegin());\r\n        return axios.get(API_URL)\r\n            .then(res => dispatch(fetchAllProvidersSuccess(res.data)))\r\n            .catch(err => dispatch(fetchAllProvidersFailure(err)));\r\n    }\r\n}\r\n\r\nconst deleteProviderBegin = () => ({\r\n    type: DELETE_PROVIDER_BEGIN\r\n});\r\n\r\nconst deleteProviderSuccess = providers => ({\r\n    type: DELETE_PROVIDER_SUCCESS,\r\n    payload: {\r\n        FETCH_ALL_PROVIDERS_BEGIN\r\n    }\r\n});\r\n\r\nconst deleteProviderFailure = error => ({\r\n    type: DELETE_PROVIDER_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport function deleteProvider(ids) {\r\n    var url = `${MEDLOCK_API}/admin/provider`;\r\n\r\n    return dispatch => {\r\n        dispatch(deleteProviderBegin());\r\n        fetchAMT()\r\n            .then(res => {\r\n                const AMT = res.data.access_token;\r\n                return axios.delete(url, {\r\n                    data: {\r\n                        AMT, \r\n                        ids,\r\n                    }\r\n                })\r\n                    .then(res => dispatch(deleteProviderSuccess(res.data)))\r\n                    .catch(err => dispatch(deleteProviderFailure(err)));\r\n            });\r\n    }\r\n\r\n}   \r\n\r\n","import React, { Component } from 'react';\r\nimport UserList from '../../../users/UserList';\r\nimport { Button } from 'reactstrap';\r\nimport '../../../../css/Admin.css';\r\n\r\n\r\nexport default class PatientSection extends Component {\r\n    viewUser = (user) => {\r\n        console.log(`Mock Viewing: ${user.personalData.name}`);\r\n    }\r\n    \r\n    deleteUser = (id) => {\r\n        console.log(`Mock Deleting: user(id=${id})`);\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"PatientSection\">\r\n                <div className=\"PatientSection-header\">\r\n                    <h3 className=\"header\">Patients</h3>\r\n                </div>\r\n                <div className=\"PatientSection-content\">\r\n                    <div className=\"patientList-container\">\r\n                        <UserList \r\n                            users={this.props.patients}\r\n                            viewUser={this.viewUser}\r\n                            deleteUser={this.props.deletePatient}\r\n                            deleteAllUsers={this.props.deleteAllPatients}\r\n                            createNewUser={this.props.createNewPatient}\r\n                        />\r\n                    </div>\r\n                    {/* <div>\r\n                        <Button className=\"red-button\" onClick={this.props.deleteAllPatients}>Delete All</Button>\r\n                    </div> */}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport UserList from '../../../users/UserList';\r\nimport { Button, Form, FormGroup, Label, Input, Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\r\nimport axios from 'axios';\r\n\r\nexport default class ProviderSection extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newProviderFormVisible: false,\r\n        };\r\n    }\r\n\r\n    viewProvider = (provider) => {\r\n        console.log(`Mock Viewing: ${provider.personalData.name}`);\r\n    }\r\n\r\n    createNewProviderForm = () => {\r\n        if (this.state.newProviderFormVisible) {\r\n            return (\r\n                <Form>\r\n                    <FormGroup>\r\n                        <Label for=\"newProviderName\" className=\"form-heading\">Name</Label>\r\n                        <Input \r\n                            type=\"text\" \r\n                            name=\"newProviderName\" \r\n                            id=\"newProviderName\"\r\n                            onChange={this.onChange}\r\n                        />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"newProviderEmail\" className=\"form-heading\">Email</Label>\r\n                        <Input \r\n                            type=\"text\" \r\n                            name=\"newProviderEmail\" \r\n                            id=\"newProviderEmail\"\r\n                            onChange={this.onChange}\r\n                        />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button className=\"red-button\" onClick={() => {\r\n                            this.setState({\r\n                                ...this.state,\r\n                                newProviderFormVisible: false,\r\n                            });\r\n                        }}>Cancel</Button>\r\n                        <Button className=\"blue-button\" onClick={() => {\r\n                            this.setState({\r\n                                ...this.state,\r\n                                newProviderFormVisible: false,\r\n                            });\r\n                            this.props.createNewProvider(this.state.newProviderName, this.state.newProviderEmail);\r\n                        }}>Create</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            );\r\n        } else {\r\n            return (\r\n                <Button className=\"blue-button\" onClick={() => {\r\n                    this.setState({\r\n                        ...this.state,\r\n                        newProviderFormVisible: true\r\n                    })\r\n                }}>Create New Provider</Button>\r\n            )\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            ...this.state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n        console.log(this.state);\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"ProviderSection\">\r\n                <div className=\"ProviderSection-header\">\r\n                    <h3 className=\"header\">Providers</h3>\r\n                </div>\r\n                <div className=\"ProviderSection-content\">\r\n                    <div className=\"providerList-container\">\r\n                        <UserList \r\n                            users={this.props.providers}\r\n                            viewUser={this.viewProvider}\r\n                            deleteUser={this.props.deleteProvider}\r\n                            deleteAllUsers={this.props.deleteAllProviders}\r\n                            createNewUser={this.props.createNewProvider}\r\n                        />\r\n                    </div>\r\n                    {/* <div>\r\n                        {this.createNewProviderForm()}\r\n                    </div> */}\r\n                    {/* <div>\r\n                        <Button align=\"center\" className=\"red-button\" onClick={this.props.deleteAllProviders}>Delete All</Button>\r\n                    </div> */}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport UserList from '../../../users/UserList';\r\nimport '../../../../css/Admin.css';\r\nimport { Button, Form, FormGroup, Label, Input, Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\r\n\r\n\r\nexport default class ClinicSection extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            createNewClinicForm: false,\r\n            newClinicName: \"\",\r\n        }\r\n    }\r\n    \r\n    viewClinic = (clinic) => {\r\n        console.log(`View Clinic: ${clinic}`);\r\n    }\r\n\r\n    clinicListHTML = () => {\r\n        return this.props.clinics.map(clinic => {\r\n            return (\r\n                <p>{clinic.name}</p>\r\n            );\r\n        })\r\n    }\r\n\r\n    showRegisterClinicForm = () => {\r\n        this.setState({\r\n            createNewClinicForm: true,\r\n        });\r\n    }\r\n\r\n    onFormChange = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    createNewClinicForm = () => {\r\n        if (this.state.createNewClinicForm) {\r\n            return (\r\n                <div className=\"registerNewClinicForm\">\r\n                    <Form>\r\n                        <FormGroup className=\"input-form-group\">\r\n                            <Label for=\"newClinicName\" className=\"form-heading\">Name: </Label>\r\n                            <Input\r\n                                type=\"text\"\r\n                                name=\"newClinicName\"\r\n                                id=\"newClinicName\"\r\n                                onChange={this.onFormChange} \r\n                            />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <button style={{float: \"left\"}} className=\"create-new-btn\" onClick={() => {\r\n                                this.setState({\r\n                                    ...this.state,\r\n                                    createNewClinicForm: false,\r\n                                });\r\n                                this.props.registerClinic(this.state.newClinicName);\r\n                            }}>Register Clinic</button>\r\n                            <button style={{float: \"left\"}} className=\"cancel-button\" onClick={() => {\r\n                                this.setState({\r\n                                    ...this.state,\r\n                                    createNewClinicForm: false,\r\n                                });\r\n                            }}>Cancel</button>\r\n                        </FormGroup>\r\n                    </Form>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <button onClick={this.showRegisterClinicForm}>Register Clinic</button>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ClinicSection\">\r\n                <div className=\"ClinicSection-header\">\r\n                    <h3 className=\"header\">Clinics</h3>\r\n                </div>\r\n                <div className=\"ClinicSection-content\">\r\n                    <div className=\"ClinicList-container\">\r\n                        {this.clinicListHTML()}\r\n                    </div>\r\n                    {this.createNewClinicForm()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'; \r\nimport { connect } from 'react-redux'; \r\nimport { fetchAMT } from '../../auth/AuthManagement'; \r\nimport { auth0Registration, assignRoles } from '../../actions/authActions'; \r\nimport { createProviderProfile, fetchAllProviders, deleteProvider } from '../../actions/providerActions'; \r\nimport { fetchAllPatients, deletePatient } from '../../actions/patientActions';\r\nimport { MEDLOCK_API } from '../../config/servers';\r\nimport PatientSection from './sections/patients/PatientSection';\r\nimport axios from 'axios';\r\nimport ProviderSection from './sections/providers/ProviderSection';\r\nimport ClinicSection from './sections/clinics/ClinicSection';\r\nimport PropTypes from 'prop-types';\r\nimport { fetchAllClinics, registerNewClinic } from '../../actions/clinicActions';\r\nimport '../../css/Admin.css';\r\nimport autho0client from '../../auth/Auth';\r\n\r\nclass Admin extends Component {\r\n    \r\n    clinics = [{\"name\": \"clinic1\"}, {\"name\": \"clinic2\"}]\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchAllPatients();\r\n        this.props.fetchAllProviders();\r\n        this.props.fetchAllClinics();\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            ...this.state,\r\n            [e.target.name]: e.target.value \r\n        });\r\n        console.log(this.state);\r\n    }\r\n\r\n    createNewPatient = (name, email) => {\r\n        console.log(\"Mock: creating new patient.\");\r\n    }\r\n\r\n    createNewProvider = (name, email) => {\r\n        fetchAMT() \r\n            .then(res => {\r\n                console.log(res); \r\n                const AMT = res.data.access_token; \r\n                \r\n                const password = Math.random().toString(36).slice(-12); \r\n\r\n                const newProvider = {\r\n                    \"name\": name, \r\n                    \"email\": email,\r\n                    \"password\": password,\r\n                    \"connection\": \"Username-Password-Authentication\"\r\n                };\r\n\r\n                // Create New Provider in Auth0 \r\n                this.props.auth0Registration(newProvider, AMT) \r\n                    .then(() => {\r\n                        // Send Temporary Password \r\n                        this.newProviderEmail(newProvider); \r\n\r\n                        // Create New Provider in MongoDB \r\n                        const user_id = this.props.userProfile.user_id; \r\n                        this.props.createProviderProfile({\r\n                            _id: user_id.substring(6), \r\n                            personalData: {\r\n                                name, \r\n                                email,\r\n                            }\r\n                        // Eventually create administrator roles and query user roles. \r\n                        }, \"Admin\"); \r\n\r\n                        // Assign Provider Role to New User \r\n                        this.props.assignRoles(user_id, AMT, \"Provider\"); \r\n\r\n\r\n                    }) \r\n                    .catch(error => console.log(error)); \r\n            }) \r\n            .catch(error => console.log(error)); \r\n    }\r\n\r\n    newProviderEmail = (newProvider) => {\r\n        var url = `${MEDLOCK_API}/email`;\r\n        axios.post(url, newProvider); \r\n    }\r\n\r\n    deleteAllProviders = () => {\r\n\r\n        // var url = `${MEDLOCK_API}/admin/provider`;\r\n        const ids = this.props.providers.map(provider => provider._id);\r\n        this.props.deleteProvider(ids);\r\n    }\r\n\r\n    deletePatient = (patientId) => {\r\n        this.props.deletePatient([patientId]);\r\n    }\r\n\r\n    deleteProvider = (providerId) => {\r\n        this.props.deleteProvider([providerId]);\r\n    }\r\n\r\n    deleteAllPatients = () => {\r\n        // var url = `${MEDLOCK_API}/admin/patient`;\r\n        const ids = this.props.patients.map(patient => patient._id);\r\n        this.props.deletePatient(ids);\r\n    }\r\n\r\n    registerClinic = (clinicName) => {\r\n        console.log(\"registerClinic() called\");\r\n        // depending on what info we want when we register a clinic\r\n        // we can change the newClinic object\r\n        const newClinic = {\r\n            name: clinicName,\r\n        }\r\n        this.props.registerNewClinic(newClinic);\r\n    }\r\n\r\n    render() {\r\n        const { patients, \r\n                patientsFetching, \r\n                patientsFetched, \r\n                fetchPatientsError,\r\n                providers,\r\n                providersFetching,\r\n                providersFetched,\r\n                fetchProvidersError,\r\n                clinicsFetching,\r\n                fetchClinicsError,\r\n            } = this.props;\r\n\r\n        if (fetchProvidersError || fetchPatientsError || fetchClinicsError) {\r\n            return (\r\n                <div>\r\n                    PROVIDER: ${fetchProvidersError}\r\n                    PATIENT: ${fetchPatientsError}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (providersFetching || patientsFetching || clinicsFetching) {\r\n            return (\r\n                <div> Loading . . .</div>\r\n            );\r\n        } \r\n\r\n            return (\r\n                <div>\r\n                    <div className=\"Admin-header\">\r\n                        <h1 className=\"header\">MedLock Admin</h1>\r\n                    </div>\r\n                    <div className=\"Admin-content\">\r\n                            <PatientSection \r\n                                patients={patients}\r\n                                createNewPatient={this.createNewPatient}\r\n                                deletePatient={this.deletePatient}\r\n                                deleteAllPatients={this.deleteAllPatients}\r\n                            />\r\n                            <ProviderSection \r\n                                providers={providers}\r\n                                createNewProvider={this.createNewProvider}\r\n                                deleteProvider={this.deleteProvider}\r\n                                deleteAllProviders={this.deleteAllProviders} \r\n                            />\r\n                            <ClinicSection \r\n                                clinics={this.props.clinics}\r\n                                registerClinic={this.registerClinic}\r\n                            />\r\n                    </div>\r\n                    <button onClick={autho0client.logout}>Logout</button>\r\n                </div>\r\n            );\r\n        \r\n    }\r\n} \r\n\r\nAdmin.propTypes = {\r\n    userProfile: PropTypes.object.isRequired,\r\n\r\n    fetchAllPatients: PropTypes.func.isRequired,\r\n    patients: PropTypes.array.isRequired,\r\n    patientsFetching: PropTypes.bool.isRequired,\r\n    patientsFetched: PropTypes.bool.isRequired,\r\n    fetchPatientsError: PropTypes.object,\r\n\r\n    fetchAllProviders: PropTypes.func.isRequired,\r\n    providers: PropTypes.array.isRequired,\r\n    providersFetching: PropTypes.bool.isRequired,\r\n    providersFetched: PropTypes.bool.isRequired,\r\n    fetchProvidersError: PropTypes.object,\r\n\r\n    deleteProvider: PropTypes.func.isRequired,\r\n    deletedProviders: PropTypes.array.isRequired,\r\n\r\n    deletePatient: PropTypes.func.isRequired,\r\n    deletedPatients: PropTypes.array.isRequired,\r\n\r\n    clinicsFetching: PropTypes.bool.isRequired,\r\n    clinicsFetched: PropTypes.bool.isRequired,\r\n    fetchClinicsError: PropTypes.object,\r\n    clinics: PropTypes.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    userProfile: state.authState.userProfile,\r\n\r\n    patients: state.patientState.patients,\r\n    patientsFetching: state.patientState.patientsFetching,\r\n    patientsFetched: state.patientState.patientsFetched,\r\n    fetchPatientsError: state.patientState.fetchPatientsError,\r\n\r\n    providers: state.providerState.providers,\r\n    providersFetching: state.providerState.providersFetching,\r\n    providersFetched: state.providerState.providersFetched,\r\n    fetchProvidersError: state.providerState.providerError, \r\n\r\n    deletedProviders: state.providerState.deletedProviders,\r\n    deletedPatients: state.patientState.deletedPatients, \r\n\r\n    clinicsFetching: state.clinicState.clinicsFetching,\r\n    clinicsFetched: state.clinicState.clinicsFetched,\r\n    fetchClinicsError: state.clinicState.clinicsError,\r\n    clinics: state.clinicState.clinics,\r\n\r\n    clinicRegistering: state.clinicState.clinicRegistering,\r\n    registerClinicError: state.clinicState.registerError,\r\n});\r\n\r\nexport default connect(mapStateToProps, { \r\n    auth0Registration, \r\n    createProviderProfile, \r\n    assignRoles, \r\n    fetchAllPatients, \r\n    fetchAllProviders,\r\n    deleteProvider,\r\n    deletePatient,\r\n    fetchAllClinics,\r\n    registerNewClinic\r\n})(Admin); ","import React, { Component } from 'react'; \r\nimport { connect } from 'react-redux'; \r\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport { fetchAMT } from '../../auth/AuthManagement';\r\nimport auth0client from '../../auth/Auth';\r\nimport { auth0Registration, assignRoles, validateRegisterCode } from '../../actions/authActions';\r\nimport { MEDLOCK_API } from '../../config/servers';\r\nimport { createPatientProfile } from '../../actions/patientActions';\r\nimport '../../css/Register.css';\r\n\r\nconst axios = require('axios');\r\n\r\nclass Register extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: \"\",\r\n            email: \"\",\r\n            role: \"Patient\",\r\n            registerCode: \"\",\r\n        };\r\n    }\r\n\r\n    registerUser = (newUser) => {\r\n        console.log(newUser);\r\n        this.props.validateRegisterCode(newUser.registerCode, newUser.role)\r\n            .then((passed) => {\r\n                console.log(passed);\r\n                console.log(this.props.registerCodeValidated);\r\n                if (this.props.registerCodeValidated) {\r\n                    fetchAMT().then(res => {\r\n                        const AMT = res.data.access_token;\r\n                        const password = Math.random().toString(36).slice(-12); \r\n                        var newAuth = {\r\n                            name: newUser.name,\r\n                            email: newUser.email,\r\n                            \"password\": password,\r\n                            \"connection\": \"Username-Password-Authentication\"\r\n                        };\r\n                        this.props.auth0Registration(newAuth, AMT)\r\n                            .then(() => {\r\n                                // assign role to new user\r\n                                newUser = {\r\n                                    ...newUser,\r\n                                    _id: this.props.userProfile.user_id,\r\n                                }\r\n                                this.props.assignRoles(newUser._id, AMT, newUser.role);\r\n                                \r\n                                // create profile for user in MedLock db\r\n                                this.registerUserInDB(newUser, AMT);\r\n                                \r\n                                // send new user login info\r\n                                var url = `${MEDLOCK_API}/email`;\r\n                                axios.post(url, newAuth);\r\n                            })\r\n                            .then(() => {\r\n                                alert(\"Thank you for registering for Medlock! You should receive an email from us shortly containing your login information.\" );\r\n                                window.location = window.location.origin;\r\n                            })\r\n                            .catch(error => {\r\n                                alert(`${error}`);\r\n                            })\r\n                    });\r\n                } else {\r\n                    alert('Your registration was unsuccessful because you entered an invalid registration code.');\r\n                }\r\n            })\r\n    }\r\n\r\n    registerUserInDB = (newUser, AMT) => {\r\n        console.log(\"registerUserInDB\");\r\n        const newUserProfile = {\r\n            _id: newUser._id.substring(6),\r\n            personalData: {\r\n                name: newUser.name,\r\n                email: newUser.email,\r\n            }\r\n        };\r\n\r\n        if (newUser.role.toLowerCase() == \"patient\") {\r\n            console.log(\"creating Patient Profile\");\r\n            var url = `${MEDLOCK_API}/patient/register`;\r\n            axios.post(url, newUserProfile);\r\n            // this.props.createPatientProfile(newUserProfile);\r\n        } else if (newUser.role.toLowerCase() == \"provider\") {\r\n            console.log(\"Create Provider\");\r\n            var url = `${MEDLOCK_API}/provider/register`;\r\n            axios.post(url, newUserProfile);\r\n        } else {\r\n            console.log(\"Not a valid role.\");\r\n        }\r\n        \r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault(); \r\n        const newUser = {\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            role: this.state.role,\r\n            registerCode: this.state.registerCode\r\n        }\r\n        this.registerUser(newUser);\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Register\">\r\n                <Form>\r\n                    <FormGroup required>\r\n                        <Label for=\"pi-name\">User Name</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"pi-name\" placeholder=\"John Doe\" value={this.state.name} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup required>\r\n                        <Label for=\"pi-email\">Email</Label>\r\n                        <Input type=\"email\" name=\"email\" id=\"pi-email\" placeholder=\"john.doe@gmail.com\" value={this.state.email} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <FormGroup required>\r\n                        <Label for=\"pi-role\"></Label>\r\n                        <Input type=\"select\" name=\"role\" id=\"pi-role\" value={this.state.role} onChange={this.onChange}>\r\n                            <option value=\"Patient\" selected=\"selected\">Patient</option>\r\n                            <option value=\"Provider\">Provider</option>\r\n                        </Input>\r\n                    </FormGroup>\r\n                    <FormGroup required>\r\n                        <Label for=\"pi-register-code\">Register Code</Label>\r\n                        <Input type=\"password\" name=\"registerCode\" id=\"pi-register-code\" value={this.state.registerCode} onChange={this.onChange} />\r\n                    </FormGroup>\r\n                    <Button onClick={this.onSubmit}>Register</Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n} \r\n\r\nconst mapStateToProps = state => ({\r\n    userProfileLoading: state.authState.userProfileLoading, \r\n    userProfileError: state.authState.userProfileError, \r\n    userProfile: state.authState.userProfile, \r\n    registerCodeValidating: state.authState.registerCodeValidating, \r\n    registerCodeValidated: state.authState.registerCodeValidated\r\n});\r\n\r\nexport default connect(mapStateToProps, { auth0Registration, assignRoles, createPatientProfile, validateRegisterCode })(Register); ","import React, { Component, useEffect } from 'react';\r\nimport './App.css';\r\nimport Dashboard from './components/dashboard/Dashboard'; \r\nimport { Route } from 'react-router-dom'; \r\nimport Callback from './components/Callback';\r\nimport Home from './components/home/Home';\r\nimport auth0client from './auth/Auth';\r\nimport SecuredRoute from './components/SecuredRoute';\r\nimport Login from './components/login/Login';\r\nimport Admin from './components/administration/Admin'; \r\nimport { withRouter } from 'react-router-dom';\r\n// import Graphs from './components/graphs/Graphs';\r\nimport ReactGA from 'react-ga'; \r\nimport history from './components/nav/history'; \r\nimport Register from './components/login/Register';\r\n\r\nconst trackingId = \"UA-155183323-1\"; \r\nReactGA.initialize(trackingId, {\r\n  debug: true, // Turn Off Deployment \r\n  titleCase: false \r\n  // gaOptions: {\r\n  //   userId: 123\r\n  // }\r\n});\r\n\r\n\r\nconst handleAuthentication = (nextState, replace) => {\r\n    if (/access_token|id_token|error/.test(nextState.location.hash)) {\r\n        console.log(nextState)\r\n        console.log(nextState.location.hash)\r\n        console.log(/access_token|id_token|error/.test(nextState.location.hash))\r\n        auth0client.handleAuthentication();\r\n    }\r\n}\r\n\r\nconst makeMainRoutes = () => {\r\n  return (\r\n    <div>\r\n      <Route exact path=\"/\" component={Login} />\r\n      <Route exact path=\"/register\" component={Register} />\r\n      <SecuredRoute exact path=\"/admin\" component={Admin} />\r\n      <SecuredRoute path=\"/home\" component={Home} />\r\n      <SecuredRoute path=\"/dashboard\" component={Dashboard} />\r\n      <Route path=\"/callback\" render={(props) =>{\r\n          handleAuthentication(props);\r\n          return <Callback {...props} />\r\n      }} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport class App extends Component {\r\n\r\n\r\n  render() { \r\n\r\n    history.listen((location, action) => {\r\n      console.log(location); \r\n      ReactGA.set({ page: location.pathname }); \r\n      ReactGA.pageview(location.pathname); \r\n    }); \r\n\r\n    return ( \r\n      <div className=\"App\">\r\n          { makeMainRoutes() } \r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { \r\n    LOAD_PROFILE_BEGIN,\r\n    LOAD_PROFILE_SUCCESS,\r\n    LOAD_PROFILE_FAILURE,\r\n    SAVE_PROFILE_BEGIN,\r\n    SAVE_PROFILE_SUCCESS,\r\n    SAVE_PROFILE_FAILURE,\r\n    EDIT_PROFILE,\r\n    ADD_PROFILE_MODULE_BEGIN,\r\n    ADD_PROFILE_MODULE_SUCCESS,\r\n    ADD_PROFILE_MODULE_FAILURE,\r\n    ADD_DISPENSER_CODE_BEGIN, \r\n    ADD_DISPENSER_CODE_SUCCESS, \r\n    ADD_DISPENSER_CODE_FAILURE,\r\n    UPDATE_MEDICAL_DATA_BEGIN,\r\n    UPDATE_MEDICAL_DATA_SUCCESS,\r\n    UPDATE_MEDICAL_DATA_FAILURE\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    profile: null,\r\n    medicalData: null,\r\n    editable: false,\r\n    profileLoading: false,\r\n    profileLoaded: false,\r\n    profileCreated: false,\r\n    profileCreating: false,\r\n    profileCreateError: null, \r\n    profileSaving: false, \r\n    addingNewProfileModule: false,\r\n    profileError: null,\r\n    profileModules: [], \r\n    code: null, \r\n    codeAdding: false, \r\n    codeAddedError: null,\r\n    medicalDataUpdating: false,\r\n    medicalDataUpdateError: null,\r\n\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case LOAD_PROFILE_BEGIN:\r\n            return {\r\n                ...state,\r\n                profileLoading: true\r\n            };\r\n        case LOAD_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profileLoading: false,\r\n                profileLoaded: true,\r\n                profile: action.payload.profile\r\n            };\r\n        case LOAD_PROFILE_FAILURE:\r\n            return {\r\n                ...state,\r\n                profileLoading: false,\r\n                profileLoaded: true,\r\n                profileError: action.payload.error\r\n            };\r\n        case EDIT_PROFILE: \r\n            return {\r\n                ...state,\r\n                editable: true,\r\n            };\r\n        case SAVE_PROFILE_BEGIN:\r\n            return {\r\n                ...state,\r\n                editable: false,\r\n                profileSaving: true, \r\n                profileError: null\r\n            };\r\n        case SAVE_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profileSaving: false,\r\n                profile: action.payload.profile,\r\n            };\r\n        case SAVE_PROFILE_FAILURE:\r\n            return {\r\n                ...state,\r\n                profileSaving: false,\r\n                error: action.payload.error,\r\n            };\r\n        case ADD_PROFILE_MODULE_BEGIN:\r\n            return {\r\n                ...state,\r\n                editable: false,\r\n                addingNewProfileModule: true,\r\n            };\r\n        case ADD_PROFILE_MODULE_SUCCESS: \r\n            return {\r\n                ...state,\r\n                addingNewProfileModule: false,\r\n                profileModule: action.payload.newProfileModule\r\n            };\r\n        case ADD_PROFILE_MODULE_FAILURE: \r\n            return {\r\n                ...state,\r\n                addingNewProfileModule: false,\r\n                profileError: action.payload.error\r\n            };\r\n        case ADD_DISPENSER_CODE_BEGIN:\r\n            console.log(\"Begin adding code. \"); \r\n            return {\r\n                ...state,\r\n                codeAdding: true,\r\n            };\r\n        case ADD_DISPENSER_CODE_SUCCESS: \r\n            console.log(\"Success adding code. \"); \r\n            return {\r\n                ...state,\r\n                codeAdding: false,\r\n                code: action.payload.code\r\n            };\r\n        case ADD_DISPENSER_CODE_FAILURE: \r\n            console.log(\"Failure adding code. \"); \r\n            return {\r\n                ...state,\r\n                codeAdding: false,\r\n                codeAddedError: action.payload.error\r\n            };\r\n        case UPDATE_MEDICAL_DATA_BEGIN: \r\n            return {\r\n                ...state,\r\n                medicalDataUpdating: true,\r\n            };\r\n        case UPDATE_MEDICAL_DATA_SUCCESS:\r\n            console.log(state.profile); // probably getting called before the other finishes\r\n            return {\r\n                ...state,\r\n                medicalDataUpdating: false,\r\n                profile: action.payload.profile\r\n            };\r\n        case UPDATE_MEDICAL_DATA_FAILURE: \r\n            return {\r\n                ...state,\r\n                medicalDataUpdating: false,\r\n                medicalDataUpdateError: action.payload.error\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { \r\n    SUBMIT_PDISURVEY_BEGIN,\r\n    SUBMIT_PDISURVEY_SUCCESS,\r\n    SUBMIT_PDISURVEY_FAILURE, \r\n    FETCH_PDISURVEYS_BEGIN,\r\n    FETCH_PDISURVEYS_SUCCESS,\r\n    FETCH_PDISURVEYS_FAILURE,\r\n    SUBMIT_INTAKESURVEY_BEGIN, \r\n    SUBMIT_INTAKESURVEY_SUCCESS, \r\n    SUBMIT_INTAKESURVEY_FAILURE \r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    PDISurveyResponse: null,\r\n    PDIResponses: [],\r\n    PDISurveysLoading: false, \r\n    PDISurveysLoaded: false,\r\n    PDILoading: false,\r\n    PDIError: null, \r\n    IntakeLoading: false, \r\n    IntakeError: null, \r\n    IntakeSurveyResponse: null \r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SUBMIT_PDISURVEY_BEGIN: \r\n            return {\r\n                ...state,\r\n                PDILoading: true,\r\n                PDIError: null\r\n            };\r\n        case SUBMIT_PDISURVEY_SUCCESS:\r\n            return {\r\n                ...state,\r\n                PDILoading: false,\r\n                PDISurveyResponse: action.payload.survey\r\n            };\r\n        case SUBMIT_PDISURVEY_FAILURE:\r\n            return {\r\n                ...state,\r\n                PDILoading: false,\r\n                PDIError: action.payload.error\r\n            }\r\n        case FETCH_PDISURVEYS_BEGIN:\r\n            return {\r\n                ...state,\r\n                PDISurveysLoading: true,\r\n                PDIError: null\r\n            };\r\n        case FETCH_PDISURVEYS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                PDISurveysLoading: false,\r\n                PDISurveysLoaded: true,\r\n                PDIResponses: action.payload.surveys\r\n            };\r\n        case FETCH_PDISURVEYS_FAILURE:\r\n            return {\r\n                ...state,\r\n                PDISurveysLoading: false,\r\n                PDIError: action.payload.error,\r\n                PDIResponses: []\r\n            }; \r\n        case SUBMIT_INTAKESURVEY_BEGIN: \r\n            return {\r\n                ...state,\r\n                IntakeLoading: true,\r\n                IntakeError: null\r\n            };\r\n        case SUBMIT_INTAKESURVEY_SUCCESS:\r\n            return {\r\n                ...state,\r\n                IntakeLoading: false,\r\n                IntakeSurveyResponse: action.payload.survey\r\n            };\r\n        case SUBMIT_INTAKESURVEY_FAILURE:\r\n            return {\r\n                ...state,\r\n                IntakeLoading: false,\r\n                IntakeError: action.payload.error\r\n            }\r\n        default:\r\n            return state;\r\n    }; \r\n}\r\n\r\n\r\n","import { FETCH_DISPENSER_BEGIN, FETCH_DISPENSER_SUCCESS, FETCH_DISPENSER_FAILURE } from '../actions/types';\r\n\r\nconst initialState = {\r\n    dispenser: {},\r\n    dispenses: [],\r\n    loading: false, \r\n    dispenserLoading: false,\r\n    dispenserLoaded: false,\r\n    error: null \r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case FETCH_DISPENSER_BEGIN:\r\n            return {\r\n                ...state,\r\n                dispenserLoading: true,\r\n                error: null\r\n            };\r\n        case FETCH_DISPENSER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                dispenserLoading: false,\r\n                dispenserLoaded: true,\r\n                dispenser: action.payload.dispenser\r\n            };\r\n    \r\n        case FETCH_DISPENSER_FAILURE:\r\n            return {\r\n                ...state,\r\n                dispenserLoading: false,\r\n                dispenserLoaded: true,\r\n                error: action.payload.error,\r\n            }; \r\n        default:\r\n            return state;\r\n    }; \r\n}\r\n\r\n\r\n","import {\r\n    FETCH_ROLES_BEGIN, \r\n    FETCH_ROLES_SUCCESS, \r\n    FETCH_ROLES_FAILURE, \r\n    AUTH0_REGISTRATION_BEGIN, \r\n    AUTH0_REGISTRATION_SUCCESS, \r\n    AUTH0_REGISTRATION_FAILURE,\r\n    VALIDATE_REGISTER_CODE_BEGIN,\r\n    VALIDATE_REGISTER_CODE_SUCCESS,\r\n    VALIDATE_REGISTER_CODE_FAILURE, \r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    roles: null, \r\n    rolesLoading: false, \r\n    rolesError: null, \r\n    AMT: null, \r\n    AMTLoading: false, \r\n    AMTError: null, \r\n    userProfile: null, \r\n    userProfileLoading: false, \r\n    userProfileError: null,\r\n    registerCodeValidating: false,\r\n    registerCodeValidated: false\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case FETCH_ROLES_BEGIN: \r\n            return {\r\n                ...state, \r\n                rolesLoading: true, \r\n                rolesError: null \r\n            };\r\n        case FETCH_ROLES_SUCCESS: \r\n            return {\r\n                ...state, \r\n                rolesLoading: false, \r\n                roles: action.payload.roles \r\n            };\r\n        case FETCH_ROLES_FAILURE: \r\n            return {\r\n                ...state, \r\n                rolesLoading: false, \r\n                rolesError: action.payload.error, \r\n                roles: {} \r\n            }; \r\n        case AUTH0_REGISTRATION_BEGIN: \r\n            return {\r\n                ...state, \r\n                userProfileLoading: true, \r\n                userProfileError: null \r\n            }; \r\n        case AUTH0_REGISTRATION_SUCCESS: \r\n            return {\r\n                ...state, \r\n                userProfileLoading: false, \r\n                userProfile: action.payload.userProfile \r\n            };\r\n        case AUTH0_REGISTRATION_FAILURE: \r\n            return {\r\n                ...state, \r\n                userProfileLoading: false, \r\n                userProfileError: action.payload.error \r\n            }; \r\n        case VALIDATE_REGISTER_CODE_BEGIN:\r\n            return {\r\n                ...state, \r\n                registerCodeValidating: true,\r\n            };\r\n        case VALIDATE_REGISTER_CODE_SUCCESS:\r\n            return {\r\n                registerCodeValidating: false,\r\n                registerCodeValidated: true,\r\n            };\r\n        case VALIDATE_REGISTER_CODE_FAILURE:\r\n            return {\r\n                registerCodeValidating: false,\r\n                registerCodeValidated: false,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    CREATE_PROVIDER_PROFILE_BEGIN,\r\n    CREATE_PROVIDER_PROFILE_SUCCESS,\r\n    CREATE_PROVIDER_PROFILE_FAILURE,\r\n\r\n    FETCH_ALL_PATIENTS_BEGIN,\r\n    FETCH_ALL_PATIENTS_SUCCESS,\r\n    FETCH_ALL_PATIENTS_FAILURE,\r\n    FETCH_ALL_PROVIDERS_BEGIN,\r\n    FETCH_ALL_PROVIDERS_SUCCESS,\r\n    FETCH_ALL_PROVIDERS_FAILURE,\r\n    DELETE_PROVIDER_BEGIN,\r\n    DELETE_PROVIDER_SUCCESS,\r\n    DELETE_PROVIDER_FAILURE,\r\n\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    provider: null, \r\n    providers: [],\r\n    providerLoading: false,\r\n    providersFetching: false, \r\n    providersFetched: false,\r\n    providerDeleting: false,\r\n    deletedProviders: [],\r\n    providerError: null\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case CREATE_PROVIDER_PROFILE_BEGIN:\r\n            return {\r\n                ...state,\r\n                providerLoading: true, \r\n                providerError: null \r\n            };\r\n        case CREATE_PROVIDER_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                providerLoading: false,\r\n                provider: action.payload.provider\r\n            };\r\n        case CREATE_PROVIDER_PROFILE_FAILURE:\r\n            return {\r\n                ...state, \r\n                providerLoading: false,\r\n                providerError: action.payload.error\r\n            };\r\n        case FETCH_ALL_PROVIDERS_BEGIN: \r\n            return {\r\n                ...state,\r\n                providersFetching: true,\r\n            };\r\n        case FETCH_ALL_PROVIDERS_SUCCESS: \r\n            return {\r\n                ...state,\r\n                providersFetching: false,\r\n                providersFetched: true,\r\n                providers: action.payload.providers\r\n            };\r\n        case FETCH_ALL_PROVIDERS_FAILURE:\r\n            return {\r\n                ...state,\r\n                providersFetching: false,\r\n                providersFetched: false,\r\n                providerError: action.payload.error\r\n            };\r\n        case DELETE_PROVIDER_BEGIN: \r\n            return {\r\n                ...state,\r\n                providerDeleting: true\r\n            };\r\n        case DELETE_PROVIDER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                providerDeleting: false,\r\n                deletedProviders: action.payload.providers\r\n            };\r\n        case DELETE_PROVIDER_FAILURE:\r\n            return {\r\n                ...state, \r\n                providerDeleting: false,\r\n                providerError: action.payload.error,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { \r\n    CREATE_PATIENT_PROFILE_BEGIN,\r\n    CREATE_PATIENT_PROFILE_SUCCESS,\r\n    CREATE_PATIENT_PROFILE_FAILURE, \r\n\r\n    ADD_PATIENT_BEGIN,\r\n    ADD_PATIENT_SUCCESS,\r\n    ADD_PATIENT_FAILURE, \r\n\r\n    FETCH_PATIENTS_BEGIN, \r\n    FETCH_PATIENTS_SUCCESS, \r\n    FETCH_PATIENTS_FAILURE, \r\n\r\n    DELETE_PATIENT_BEGIN,\r\n    DELETE_PATIENT_SUCCESS,\r\n    DELETE_PATIENT_FAILURE,\r\n\r\n    FETCH_ALL_PATIENTS_BEGIN,\r\n    FETCH_ALL_PATIENTS_SUCCESS,\r\n    FETCH_ALL_PATIENTS_FAILURE,\r\n\r\n    REMOVE_PATIENT_BEGIN,\r\n    REMOVE_PATIENT_SUCCESS, \r\n    REMOVE_PATIENT_FAILURE,\r\n\r\n    ADD_CHECKIN_BEGIN, \r\n    ADD_CHECKIN_SUCCESS, \r\n    ADD_CHECKIN_FAILURE \r\n\r\n} from '../actions/types'; \r\n\r\nconst initialState = {\r\n    patients: [], \r\n    patient: null, \r\n\r\n    patientsFetching: false, \r\n    patientsFetched: false,\r\n    fetchPatientsError: null, \r\n\r\n    patientDeleting: false,\r\n    deletedPatients: null,\r\n    deletePatientError: null,\r\n\r\n    patientRegistering: false, \r\n    createPatientError: null, \r\n    newAddedPatient: null, \r\n    addPatientLoading: false, \r\n    addPatientError: null, \r\n\r\n    patientRemoving: false,\r\n    lastRemovedPatient: null,\r\n    patientRemoveError: null, \r\n\r\n    checkInData: null, \r\n    checkInLoading: false, \r\n    checkInError: null \r\n} \r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case CREATE_PATIENT_PROFILE_BEGIN:\r\n            return {\r\n                ...state,\r\n                patientRegistering: true, \r\n                createPatientError: null \r\n            };\r\n        case CREATE_PATIENT_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                patientRegistering: false,\r\n                patient: action.payload.patient\r\n            };\r\n        case CREATE_PATIENT_PROFILE_FAILURE:\r\n            return {\r\n                ...state, \r\n                patientRegistering: false,\r\n                createPatientError: action.payload.error\r\n            };\r\n        case ADD_PATIENT_BEGIN:\r\n            return {\r\n                ...state,\r\n                addPatientLoading: true, \r\n                addPatientError: null \r\n            };\r\n        case ADD_PATIENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                addPatientLoading: false,\r\n                // patients: [...action.payload.patient],\r\n                newAddedPatient: action.payload.patient\r\n            };\r\n        case ADD_PATIENT_FAILURE:\r\n            return {\r\n                ...state, \r\n                addPatientLoading: false,\r\n                addPatientError: action.payload.error\r\n            };\r\n        case FETCH_PATIENTS_BEGIN:\r\n            return {\r\n                ...state,\r\n                patientsFetching: true, \r\n                fetchPatientsError: null \r\n            };\r\n        case FETCH_PATIENTS_SUCCESS: \r\n            return {\r\n                ...state,\r\n                patientsFetching: false,\r\n                patientsFetched: true,\r\n                patients: action.payload.patients\r\n            };\r\n        case FETCH_PATIENTS_FAILURE:\r\n            return {\r\n                ...state, \r\n                patientsFetching: false,\r\n                fetchPatientsError: action.payload.error\r\n            };\r\n        case DELETE_PATIENT_BEGIN: \r\n            return {\r\n                ...state,\r\n                patientDeleting: true,\r\n            };\r\n        case DELETE_PATIENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                patientDeleting: false,\r\n                deletedPatients: action.payload.patients\r\n            };\r\n        case DELETE_PATIENT_FAILURE:\r\n            return {\r\n                ...state,\r\n                patientDeleting: false,\r\n                deletePatientError: action.payload.error\r\n            };\r\n        case FETCH_ALL_PATIENTS_BEGIN:\r\n            return {\r\n                ...state,\r\n                patientsFetching: true,\r\n            };\r\n        case FETCH_ALL_PATIENTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                patientsFetching: false,\r\n                patientsFetched: true,\r\n                patients: action.payload.patients\r\n            };\r\n        case FETCH_ALL_PATIENTS_FAILURE:\r\n            return {\r\n                ...state,\r\n                patientsFetching: false,\r\n                patientsFetched: false,\r\n                patients: action.payload.error\r\n            };\r\n        case REMOVE_PATIENT_BEGIN: \r\n            return {\r\n                ...state,\r\n                patientRemoving: true,\r\n            };\r\n        case REMOVE_PATIENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                patientRemoving: false,\r\n                lastRemovedPatient: action.payload.patient\r\n            };\r\n        case REMOVE_PATIENT_FAILURE: \r\n            return {\r\n                ...state,\r\n                patientRemoving: false,\r\n                patientRemoveError: action.payload.error\r\n            };\r\n        case ADD_CHECKIN_BEGIN: \r\n            return {\r\n                ...state,\r\n                checkInLoading: true,\r\n                checkInError: null\r\n            };\r\n        case ADD_CHECKIN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                checkInLoading: false,\r\n                checkInData: action.payload.checkIn\r\n            };\r\n        case ADD_CHECKIN_FAILURE:\r\n            return {\r\n                ...state,\r\n                checkInLoading: false,\r\n                checkInError: action.payload.error\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\n","import {\r\n    COLLAPSE_SIDEBAR,\r\n    EXPAND_SIDEBAR,\r\n    SET_SIDEBAR_TOGGLE,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    collapsed: false,\r\n    toggle: false,\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case COLLAPSE_SIDEBAR:\r\n            return {\r\n                ...state,\r\n                collapsed: true,\r\n            };\r\n        case EXPAND_SIDEBAR: \r\n            return {\r\n                ...state,\r\n                collapsed: false\r\n            };\r\n        case SET_SIDEBAR_TOGGLE:\r\n            return {\r\n                ...state,\r\n                toggle: !state.toggle\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    FETCH_ALL_CLINICS_BEGIN,\r\n    FETCH_ALL_CLINICS_SUCCESS,\r\n    FETCH_ALL_CLINICS_FAILURE,\r\n    FETCH_ALL_PROVIDERS_AT_CLINIC_BEGIN,\r\n    FETCH_ALL_PROVIDERS_AT_CLINIC_SUCCESS,\r\n    FETCH_ALL_PROVIDERS_AT_CLINIC_FAILURE,\r\n    REGISTER_NEW_CLINIC_BEGIN,\r\n    REGISTER_NEW_CLINIC_SUCCESS,\r\n    REGISTER_NEW_CLINIC_FAILURE,\r\n    ADD_PROVIDER_TO_CLINIC_BEGIN,\r\n    ADD_PROVIDER_TO_CLINIC_SUCCESS,\r\n    ADD_PROVIDER_TO_CLINIC_FAILURE,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    clinics: [],\r\n    clinicsFetching: false,\r\n    clinicsFetched: false,\r\n    clinicsError: null,\r\n    lastRegistered: null,\r\n\r\n    providers: [],\r\n    providersFetching: false,\r\n    providersFetched: false,\r\n    clinicRegistering: false,\r\n    registerError: null,\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case FETCH_ALL_CLINICS_BEGIN:\r\n            return {\r\n                ...state,\r\n                clinicsFetching: true\r\n            };\r\n        case FETCH_ALL_CLINICS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                clinicsFetching: false,\r\n                clinicsFetched: true,\r\n                clinics: action.payload.clinics\r\n            }; \r\n        case FETCH_ALL_CLINICS_FAILURE:\r\n            return {\r\n                ...state,\r\n                clinicsFetching: false,\r\n                clinicsFetched: true,\r\n                clinicsError: action.payload.error\r\n            }\r\n        case FETCH_ALL_PROVIDERS_AT_CLINIC_BEGIN:\r\n            return {\r\n                ...state,\r\n                providersFetching: true,\r\n            };\r\n        case FETCH_ALL_PROVIDERS_AT_CLINIC_SUCCESS:\r\n            return {\r\n                ...state,\r\n                providersFetching: false,\r\n                providersFetched: true,\r\n                providers: action.payload.providers\r\n            };\r\n        case FETCH_ALL_PROVIDERS_AT_CLINIC_FAILURE:\r\n            return {\r\n                ...state,\r\n                providersFetching: false,\r\n                providersFetched: true,\r\n                clinicsError: action.payload.error\r\n            };\r\n        case REGISTER_NEW_CLINIC_BEGIN:\r\n            return {\r\n                ...state,\r\n                clinicRegistering: true,\r\n            };\r\n        case REGISTER_NEW_CLINIC_SUCCESS:\r\n            var newClinic = action.payload.clinic;\r\n            console.log(newClinic);\r\n            return {\r\n                ...state,\r\n                clinicRegistering: false,\r\n                clinics: state.clinics.concat(newClinic),\r\n                lastRegistered: newClinic,\r\n            };\r\n        case REGISTER_NEW_CLINIC_FAILURE:\r\n            return {\r\n                ...state,\r\n                clinicRegistering: false,\r\n                registerError: action.payload.error,\r\n            };\r\n        case ADD_PROVIDER_TO_CLINIC_BEGIN:\r\n            return {\r\n                ...state, \r\n            };\r\n        case ADD_PROVIDER_TO_CLINIC_SUCCESS:\r\n            return {\r\n                ...state,\r\n            };\r\n        case ADD_PROVIDER_TO_CLINIC_FAILURE:\r\n            return {\r\n                ...state,\r\n                clinicsError: action.payload.error,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport profileReducer from './profileReducer'; \r\nimport surveyReducer from './surveyReducer'; \r\nimport dispenseReducer from './dispenseReducer'; \r\nimport authReducer from './authReducer';\r\nimport providerReducer from './providerReducer'; \r\nimport patientReducer from './patientReducer'; \r\nimport sideBarReducer from './sideBarReducer';\r\nimport clinicReducer from './clinicReducer';\r\n\r\nexport default combineReducers({\r\n    profileState: profileReducer, \r\n    surveyState: surveyReducer, \r\n    dispenseState: dispenseReducer,\r\n    authState: authReducer,\r\n    providerState: providerReducer, \r\n    patientState: patientReducer,\r\n    sideBarState: sideBarReducer,\r\n    clinicState: clinicReducer,\r\n});","import { createStore, applyMiddleware, compose } from 'redux'; \r\nimport { composeWithDevTools } from 'redux-devtools-extension'; \r\nimport thunk from 'redux-thunk';\r\nimport reduxPromise from 'redux-promise-middleware';\r\nimport rootReducer from './reducers/rootReducer';\r\n\r\nconst initialState = {\r\n    user: {\r\n        name: 'John',\r\n        bio: \"Born and raised in Alabama. 40 years old.\"\r\n    },\r\n    editable: false,\r\n    profileModules: [\r\n        {\r\n            question: \"Question\",\r\n            answer: \"Answer\"\r\n\r\n        }\r\n    ]\r\n};\r\n\r\nconst middleware = [thunk, reduxPromise];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    // compose(\r\n    //     applyMiddleware(...middleware),\r\n    //     window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    // )\r\n    composeWithDevTools(\r\n        applyMiddleware(...middleware),\r\n    )\r\n);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store'; \r\nimport { Router } from 'react-router-dom';\r\nimport history from './components/nav/history';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <Router history={history}>\r\n            <App />\r\n        </Router>\r\n    </Provider>\r\n    , document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/round-menu-24px.97217f37.svg\";","module.exports = __webpack_public_path__ + \"static/media/white-logo.39f19165.png\";","module.exports = __webpack_public_path__ + \"static/media/profile_pic.527e37d6.png\";","module.exports = __webpack_public_path__ + \"static/media/round-timeline-24px.d0a393cf.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGYmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA4LTA1VDExOjE0OjU4LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wOC0wNVQxMTozMDozNy0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wOC0wNVQxMTozMDozNy0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MDk5MDYyYy0yZmZjLTBlNDMtOWM0ZS1jYjJiM2FhMTJjZGYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozZTJhNjA3Ni0xNWRlLTBmNDMtYmUyZS0zNjEzMjMwZWQzMDgiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjN2E4MDNmOC1lZjliLWFkNDItOWRiMC00MzZhYzc3NzJmZDUiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmM3YTgwM2Y4LWVmOWItYWQ0Mi05ZGIwLTQzNmFjNzc3MmZkNSIgc3RFdnQ6d2hlbj0iMjAxOS0wOC0wNVQxMToxNDo1OC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYwOTkwNjJjLTJmZmMtMGU0My05YzRlLWNiMmIzYWExMmNkZiIgc3RFdnQ6d2hlbj0iMjAxOS0wOC0wNVQxMTozMDozNy0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pqzfe2cAAAcySURBVHic7Z3PaxNpGMe/ibWVUmyskt+RVltYlgWzUERk1WwPZY9F1oW9rAHPQpXdw8Ieuh4EsWtOi/RUBRv7Q/CgoNBD2tiaphpaEbH5MYnsH7D25KGRnT1kQtPJTDLNvDPzZHy/8FA6nbzvM8+n7/s87zszrUMURXDRkdNqB7j2igMhJg6EmDgQYuJAiIkDISYOhJg4EGLiQIiJAyEmDoSYOBBi4kCIiQMhJg6EmDr0NuBwOFj40Yr6JQsDcEnHtgFsAvggmenSfX9JFEVdZrLCAGIASgDEJlaSzg2b6aDueLYJkAiABJpDULOE1IbhsjsQFyq/5a2CkFsMu9ObIbIzEBeADbCDUbUNGAjFrkBcMAaG4VDsCMQFY2EYCsWOQB7DeBhVe8zaebsBGYN5MKo2xvIC9MbToTeojBeGJVQWe2bqA4ABVo3pjSelrZMozIcBqc+oBf0qitII2YDJq+oabQL4lkVDuuNJBEg/KtOVlRoAg/0vu0xZEasdAA0fyAA5ZbUDoOEDGSBhqx0ADR/IAOGSxIEQEwdCTFSAbFvtAGj4QAbIG6sdAA0fyADZtNoB0PCBzErdBeAji4Z06AgYTFt2WalvA7hnYf/3wHNIne5/oX3vFbEbVAmYf4MqwfIC7HaDqh/m7/oy2eWtyi45pKoPAK6Z2N81WPTIqaqITVlVTcP4qWraCMft9pBDrYyEYggMwN5AAGAC7GFMGOmw3YEAlTt5JegHUQIQ0Xu9Rls7AKkq2iKYEoCo1YHWatTKXi0KA7gsfY2onLOEyt7UfVEUN413iZ3aEYiiTB6thonaOsR0ORwOXaamq1ev/hqNRv9cW1vz7suhNsohDWWF/0rtFQqFDo/Hk4aU7xwOR+np06ff2DGpN5TZ/iu1JQiC0+fzpSArLJxOp/D8+fOvOBATgRSLRWcwGHwBlWrvwIEDwuLi4iAHwth/pTZWVlaCSiNDbk6nU3j27FnDkcKBMOjj7t27P0D7Gqn05MkT1ZzCgTBqPxaLjWEfUFZXV/1K7bTTOiSMyr33iPT9Kai/I7iN3adIlgBsiyoLRC3+K8Xo9evXxz59+tR9/vz5f6rHYrHYxevXr/8FDe+5XLp0aXJ+fv43xc4IjpAIgHFU3gHcALuNxQ2pzXFI+1rNpHTNuVyus6urKwuglEqlvLU/m5yc/BHNR0rpypUrf1CessJSkBIagsraElLfYblTStcrL217enrerq+vu2vPuXXr1k9oAMXj8aQp5pAwtP/dErOsJPn0tRqMQCCwKv9cb2/vm1evXh2rPff27duKIyUQCKwKguCkAsSFyq4ty2mIOZS5ubnT8ussFovOUCikus7o7e19k8lk+mo/c+fOnYu1UEKh0ItGMMwE4kLlxtBHAgFvCOPRo0fDSiPj+PHjy80+f/jw4Too1err6NGjmWYwzALSDiBEAKX5+fm6kaE2TalZT0/PW/n0NTU1NSo/ZgWQCGjlh4YwHj58eEZ+bdlstlPLClxu3d3d7+TVl+Z4GgRkgkCQNcOIx+NnlWC43e60nnYTiUQ/BSDTBIKsOWgPHjz4Tn5NhUKhw+v17ntk1Fp3d/e7dDrtthpIW8FQGhnFYnFfOUPJ/H7/aj6f77B6yooRCLJmGGqlbaMtdC0WDAablrZmAIkQCLJmGHpK20amZZ1hFpAEgUBrgrGwsFAHo1AodLAYGcViURcMVkD6CQRaE4zZ2dm60jaXy7VU2taa3+9vuB1iNpAxAsFuCmNmZqYugW9tbR3SWdqKHo8nXSgUWkrgRgGZIBDwfcPI5/PVp0N0wdja2jrECsaXAES1tPX7/bpKW5/Pl8rlcp0sYdgdiGLOEASh4a6tFgsGgy+UpqlMJtPLgajAUNso1AtDrbRdWFgYBjDOgSjAUCptBUHQvegLhUKKpe3c3NxpVDZSJzgQGQylFXg+n+/QmzPUStt4PH4Wu7vaJIBECIAQAZRu3Ljxi9y/bDbbqXej0Ov1ppRyxszMTC0MEcAYBSAAgVuyo6OjU3Lfah58brldt9udzmazddWUAowNvbFkCcRlNRT56Hj//v0hvStwn8+XUoIxOzt7Rg4DgIsFENYPyo3Bmr9duJ3L5f4eGhoqVw+MjIxMJxKJaKsNBoPBlaWlpe9Pnjz5ufZ4JpM5Mjw8fBm7D+ktiaK41Go/dWJBlaINDg4uosWR0WjX1uj46f6nYFTV1dW108rnQqHQyvLy8oWBgYH/5D8z47FZ277S5nA46gLaTIFA4KWVMAAbA9mvvF7vmtUwAA4EAODxeNaTyeQFeQIHzH/L2LZAyuVyp5bzvF7vWjKZPDc0NFSXc6x45du2Sb1cLje9tkAg8DKZTJ47ceKEpdPUnn71rkOoanp6eiQej/988ODBz06nc0/Ad3Z2Ovv6+v69efPm73phsI6fbYG0q2ybQ9pVHAgxcSDExIEQEwdCTBwIMXEgxPQ/zib+T1oRORkAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/profile_pic.527e37d6.png\";","module.exports = __webpack_public_path__ + \"static/media/round-folder-24px.e371ccf8.svg\";","module.exports = __webpack_public_path__ + \"static/media/round-home-24px.3472f751.svg\";","module.exports = __webpack_public_path__ + \"static/media/round-person-24px.98aed072.svg\";","module.exports = __webpack_public_path__ + \"static/media/round-people-24px.162c3f4c.svg\";"],"sourceRoot":""}