(this.webpackJsonpmedlock_client=this.webpackJsonpmedlock_client||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){e.exports=n.p+"static/media/003-info.2bca5cf0.svg"},128:function(e,t,n){},129:function(e,t,n){},130:function(e){e.exports=JSON.parse('[{"id":0,"type":"MS","question":"What condition(s) are you currently being treated for?","responses":["Alcoholism","Depression","Opioid addiction","Anxiety","ADHD"],"other":true},{"id":1,"type":"MC","question":"What is the longest you experienced any of the above conditions before entering treatment?","responses":["0 - 3 months","3 - 6 months","6 months - 2 years","2 - 5 years","5+ years"],"other":false},{"id":2,"type":"MC","question":"How long have you been in treatment?","responses":["0 - 1 months","1 - 3 months","3 - 12 months","1 - 3 years","3+ years"],"other":false},{"id":3,"type":"MS","question":"Have any of your blood relatives been diagnosed with the following conditions? If so, please answer the next two questions. ","responses":["N/A","Alcoholism","Depression","Opioid addiction","Anxiety","ADHD"],"other":true},{"id":4,"type":"NI","question":"At what age were they diagnosed? If you answered N/A to previous question, enter -1. ","min":0,"max":100},{"id":5,"type":"MC","question":"Were they treated for their condition? If you answered N/A to the previous two questions, select N/A. ","responses":["N/A","They were diagnosed with a condition, but did not receieve treatment. ","They were prescribed medications. ","They recevied counseling. ","They received both prescription medication and counseling. "],"other":true},{"id":6,"type":"MC","question":"How much do you agree with the following statement?: My treatment is easy to access. This includes access to the medication, if applicable. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":7,"type":"MC","question":"How much do you agree with the following statement?: My treatment is affordable. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":8,"type":"MC","question":"How much do you agree with the following statement?: The clinic location is easy to access. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":9,"type":"MC","question":"How much do you agree with the following statement?: The clinic\u2019s counseling is affordable. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":10,"type":"MC","question":"How much do you agree with the following statement?: The amount of counseling I receive in the clinic is sufficient.","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":11,"type":"MC","question":"How much do you agree with the following statement?: My medication is affordable.","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":12,"type":"MC","question":"How much do you agree with the following statement?: The amount of medication which I am prescribed is sufficient. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":13,"type":"MC","question":"How much do you agree with the following statement?: Overall, my treatment is effective. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":14,"type":"MC","question":"How much do you agree with the following statement?: My counseling is an effective form of treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":15,"type":"MC","question":"How much do you agree with the following statement?: I enjoy attending my counseling sessions. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":16,"type":"MC","question":"How much do you agree with the following statement?: Counseling is a necessary part of treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":17,"type":"MC","question":"How much do you agree with the following statement?: I have had issues with counseling in the past. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":18,"type":"MC","question":"How much do you agree with the following statement?: My medication is an effective form of treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":19,"type":"MC","question":"How much do you agree with the following statement?: I enjoy taking my medication. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":20,"type":"MC","question":"How much do you agree with the following statement?: Medication is a necessary part of treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":21,"type":"MC","question":"How much do you agree with the following statement?: I need help taking my medication as prescribed. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":22,"type":"MC","question":"How much do you agree with the following statement?: I feel my counseling is individualized. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":23,"type":"MC","question":"How much do you agree with the following statement?: I feel my medication plan is individualized. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":24,"type":"MC","question":"How much do you agree with the following statement?: I receive high quality treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":25,"type":"MC","question":"How much do you agree with the following statement?: I have control over the effectiveness of my treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":26,"type":"MC","question":"How much do you agree with the following statement?: My healthcare providers are knowledgeable about my treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":27,"type":"MC","question":"How much do you agree with the following statement?: Other healthcare providers are knowledgeable about my treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":28,"type":"MC","question":"How much do you agree with the following statement?: My family members are knowledgeable about my treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":29,"type":"MC","question":"How much do you agree with the following statement?: My friends are knowledgeable about my treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":30,"type":"MC","question":"How much do you agree with the following statement?: The general public is knowledgeable about how treatment for my condition works. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":31,"type":"TI","question":"Please expand on any of the above answers that you feel needs more explanation. If not, write N/A. "},{"id":32,"type":"MC","question":"How often does the following activity occur?: Family members take an active involvement in my treatment. ","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":33,"type":"MC","question":"How often does the following activity occur?: Friends take an active involvement in my treatment. ","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":34,"type":"MC","question":"How often does the following activity occur?: I think about ways to improve my treatment. ","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":35,"type":"MC","question":"How often does the following activity occur?: I adjust my daily habits to try to improve my treatment. ","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":36,"type":"MC","question":"How often does the following activity occur?: I adjust my pill consumption habits to improve my treatment. ","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":37,"type":"TI","question":"Please expand on any of the above answers that you feel needs more explanation. If not, write N/A. "},{"id":38,"type":"MC","question":"When you take your medication, how consistent is the timing of your medication intake? ","responses":["No set schedule","I take it as needed","I take each does at a consistent time of day, e.g. morning, evening, night","I take each dose within the same three hour block every day, e.g. I always take it from 7 AM - 10 AM","I take each dose within the same one hour block every day","I take each dose at the exact same time every day"],"other":true},{"id":39,"type":"NI","question":"On average, how many days a week do you believe you miss a dose of medication?","min":0,"max":7},{"id":40,"type":"MC","question":"I am certain that the above answer is correct. ","responses":["Yes","Maybe","No"],"other":false},{"id":41,"type":"MC","question":"How much do you agree with the following statement: I believe I adhere to my prescribed regimen in an effective manner. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":42,"type":"MC","question":"How often do you experience the following?: Pain","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":43,"type":"MC","question":"How often do you experience the following?: Anxiousness","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":44,"type":"MC","question":"How often do you experience the following?: Sadness","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":45,"type":"MC","question":"How often do you experience the following?: Loneliness","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":46,"type":"MC","question":"How often do you experience the following?: Anger","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":47,"type":"MC","question":"How often do you experience the following?: Frustration","responses":["Every day","Several times a week","Once a week","Once a month","Not at all"],"other":false},{"id":48,"type":"TI","question":"Are there any other symptoms, physical or mental, that you have experienced due to your condition or throughout your treatment? If so, how often you experience these symptoms. If not, please write N/A. "},{"id":49,"type":"TI","question":"What do you believe causes or triggers your symptoms? "},{"id":50,"type":"TI","question":"What do you do to alleviate these symptoms? "},{"id":51,"type":"TI","question":"While speaking to a physician, how well can you recall major symptoms (ex: pain, mood swings, etc.)? "},{"id":52,"type":"MC","question":"While speaking to a physician, I can remember exactly when I took my medication up to: ","responses":["the last time I saw my physician","the last week","the last few days","yesterday","Not at all"],"other":false},{"id":53,"type":"MC","question":"How long do the effects (motivation, mindfulness, etc.) of a counseling session last? ","responses":["They don\'t have an effect","A few hours","A day","Several days","A week","Until the next counseling session"],"other":false},{"id":54,"type":"MC","question":"If you have been diagnosed with a substance use disorder, how many times have you relapsed? ","responses":["I have never been diagnosed with a substance use disorder","Never ","1 - 3 times","4 - 10 times","10+ times"],"other":false},{"id":55,"type":"MC","question":"If you have been diagnosed with a substance use disorder and relapsed previously, on average, how long have you maintained your treatment plan without relapsing? ","responses":["N/A","1 - 7 days","1 - 3 weeks","1 - 3 months","4 - 12 months","12+ months"],"other":false},{"id":56,"type":"MC","question":"How much do you agree with the following statement?: TeleHealth is an effective form of treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":57,"type":"MC","question":"How much do you agree with the following statement?: Remote counseling is an effective form of treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":58,"type":"MC","question":"How much do you agree with the following statement?: I can benefit from TeleHealth. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":59,"type":"MC","question":"During the course of the trial, how often do you expect the following to occur?: I will review my medication consumption data. ","responses":["Not at all","Once","Once a week","Multiple times a week","Every day"]},{"id":60,"type":"MC","question":"During the course of the trial, how often do you expect the following to occur?: I will reflect on the symptoms I have experienced with the symptom data. ","responses":["Not at all","Once","Once a week","Multiple times a week","Every day"]},{"id":61,"type":"MC","question":"During the course of the trial, how often do you expect the following to occur?: My family and/or caregiver will review my medication consumption data. ","responses":["Not at all","Once","Once a week","Multiple times a week","Every day","My family and/or caregiver will not be given access to this data. "]},{"id":62,"type":"MC","question":"During the course of the trial, how often do you expect the following to occur?: My family and/or caregiver will review my symptom data. ","responses":["Not at all","Once","Once a week","Multiple times a week","Every day","My family and/or caregiver will not be given access to this data. "]},{"id":63,"type":"MC","question":"How much do you agree with the following statement?: I will effectively use data on my medication-consumption habits to improve my treatment results. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":64,"type":"MC","question":"How much do you agree with the following statement?: My family and/or caregiver will effectively use data on my medication-consumption habits to improve my treatment results. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":65,"type":"MC","question":"How much do you agree with the following statement?: My provider will effectively use data on my medication-consumption habits to improve my treatment results. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":66,"type":"MC","question":"How much do you agree with the following statement?: I will effectively use data on my symptoms to improve my treatment results. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":67,"type":"MC","question":"How much do you agree with the following statement?: My family and/or caregiver will effectively use data on my symptoms to improve my treatment results. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":68,"type":"MC","question":"How much do you agree with the following statement?: My provider will effectively use data on my symptoms to improve my treatment results. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":69,"type":"MC","question":"How much do you agree with the following statement?: I am looking forward to participating in this study. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":70,"type":"MC","question":"How much do you agree with the following statement?: I believe this study will have an effect on my treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":71,"type":"MC","question":"How much do you agree with the following statement?: I believe this study will improve my treatment. ","responses":["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],"other":false},{"id":72,"type":"TI","question":"Why did you decide to participate in this study? No need to use proper sentence structure in your response. "},{"id":73,"type":"TI","question":"Is there any way you believe the technology in the study will help you which was not already mentioned? If so, what are they? No need to use proper sentence structure in your response. "}]')},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(35),i=n.n(o),s=(n(97),n(2)),l=n(3),c=n(5),u=n(4),p=n(6),d=(n(98),n(20)),h=Object(d.a)(),m=(n(99),n(18)),g=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).route=function(e){console.log("Dash Icon Route. "),m.a.event({category:"Dash Icon Click",action:"Navigated to "+n.props.name+" from Dash",label:"Click "+n.props.name+" from Dash"}),h.replace(n.props.link)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"DashIcon",onClick:this.route,style:{cursor:"pointer"}},r.a.createElement("div",null,r.a.createElement("p",null,this.props.name)),r.a.createElement("div",null,r.a.createElement("img",{src:this.props.content.image}),r.a.createElement("p",null,this.props.roles.description)))}}]),t}(a.Component),f=(n(53),n(10)),y="COLLAPSE_SIDEBAR",v="EXPAND_SIDEBAR",E="SET_SIDEBAR_TOGGLE",b=n(8),O=n.n(b),S=n(46),w="http://localhost:5000/api",D="http://localhost:5000",P="http://localhost:5000",A=new(function(){function e(){Object(s.a)(this,e),this.requestedScopes="openid profile read:patients",this.auth0=new S.a.WebAuth({domain:"medlock-dev.auth0.com",clientID:"1CF1ZJqKO4RVUdkyku4LAWN78tAPhN7l",redirectUri:"".concat(D,"/callback"),responseType:"token id_token",audience:P,scope:this.requestedScopes}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this.getIdToken=this.getIdToken.bind(this),this.renewSession=this.renewSession.bind(this),this.getProfile=this.getProfile.bind(this)}return Object(l.a)(e,[{key:"login",value:function(){console.log(S.a),console.log("Login"),this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;console.log("Handle Authentication"),console.log(this.auth0),this.auth0.parseHash((function(t,n){console.log(n),n&&n.accessToken&&n.idToken?e.setSession(n):t&&(h.replace("/"),console.log(t),alert("Error: ".concat(t.error,". Check the console for further details.")))}))}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"getIdToken",value:function(){return this.idToken}},{key:"setSession",value:function(e){localStorage.setItem("isLoggedIn","true");var t=1e3*e.expiresIn+(new Date).getTime();this.accessToken=e.accessToken,this.idToken=e.idToken,this.expiresAt=t,this.userProfile=e.idTokenPayload,this.scopes=e.scope||this.requestedScopes||"",h.replace("/dashboard")}},{key:"renewSession",value:function(){var e=this;this.auth0.checkSession({},(function(t,n){n&&n.accessToken&&n.idToken?e.setSession(n):t&&(e.logout(),console.log(t),alert("Could not get a new token (".concat(t.error,": ").concat(t.error_description,").")))}))}},{key:"getProfile",value:function(){return this.userProfile}},{key:"logout",value:function(){this.accessToken=null,this.idToken=null,this.expiresAt=0,this.userProfile=null,localStorage.removeItem("isLoggedIn"),this.auth0.logout({returnTo:window.location.origin}),h.replace("/")}},{key:"isAuthenticated",value:function(){console.log("isAuthenticated");var e=this.expiresAt;return console.log(e),console.log((new Date).getTime()),(new Date).getTime()<e}},{key:"silentAuth",value:function(){var e=this;return new Promise((function(t,n){e.auth0.checkSession({},(function(a,r){if(a)return n(a);e.setSession(r),t()}))}))}},{key:"userHasScopes",value:function(e){var t=this.scopes.split(" ");return e.every((function(e){return t.includes(e)}))}}]),e}()),C=function(){return{type:"LOAD_PROFILE_BEGIN"}},I=function(e){return{type:"LOAD_PROFILE_SUCCESS",payload:{profile:e}}},j=function(e){return{type:"LOAD_PROFILE_FAILURE",payload:{error:e}}};var N=function(){return{type:"SAVE_PROFILE_BEGIN"}},k=function(e){return{type:"SAVE_PROFILE_SUCCESS",payload:{updatedPersonalData:e}}},T=function(e){return{type:"SAVE_PROFILE_FAILURE",payload:{error:e}}};function L(e,t){var n=A.getAccessToken,a=w,r={Authorization:"Bearer ".concat(n())};switch(t){case"Patient":a+="/patient/patient";break;case"Provider":a+="/provider"}return function(t){return t(N()),O.a.put("".concat(a),e,{headers:r}).then((function(e){console.log(e.data),t(k(e.data))})).catch((function(e){return t(T(e))}))}}var R=function(){return{type:"ADD_PROFILE_MODULE_BEGIN"}},M=function(e){return{type:"ADD_PROFILE_MODULE_SUCCESS",payload:{newProfileModule:e}}},_=function(e){return{type:"ADD_PROFILE_MODULE_FAILURE",payload:{error:e}}};var F=function(){return{type:"ADD_DISPNESER_CODE_BEGIN"}},U=function(e){return{type:"ADD_DISPNESER_CODE_SUCCESS",payload:{code:e}}},H=function(e){return{type:"ADD_DISPNESER_CODE_FAILURE",payload:{error:e}}};var x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!0,code:[],codeString:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){for(var e=this,t=[],n=0;n<6;n++)t[n]=Math.floor(3*Math.random());var a="";t.forEach((function(e){switch(e){case 0:a+="Green ";break;case 1:a+="Yellow ";break;case 2:a+="Red "}})),this.props.addDispenserCode(t).then((function(){console.log("Returned Code Adding. "),console.log(e.props.code),console.log(e.props.codeAdding),console.log(e.props.codeAddedError),e.props.code&&e.setState({code:t,codeString:a})})),console.log(t)}},{key:"render",value:function(){return console.log(this.props.code),console.log(this.props.codeAdding),console.log(this.props.codeAddedError),this.props.codeAdding?r.a.createElement("div",{className:"DispenserCode"},"Loading . . .",r.a.createElement("button",{onClick:this.props.hideDispenserCode},"Done")):this.props.codeAddedError?r.a.createElement("div",{className:"DispenserCode"},"Error: ",String(this.props.codeAddedError),r.a.createElement("button",{onClick:this.props.hideDispenserCode},"Done")):r.a.createElement("div",{className:"DispenserCode"},"Dispenser Code: ",r.a.createElement("i",null,this.state.codeString," "),r.a.createElement("button",{onClick:this.props.hideDispenserCode},"Done"))}}]),t}(a.Component),B=Object(f.b)((function(e){return{code:e.profileState.code,codeAdding:e.profileState.codeAdding,codeAddedError:e.profileState.codeAddedError}}),{addDispenserCode:function(e){var t=A.getAccessToken,n="".concat(w,"/patient"),a={Authorization:"Bearer ".concat(t())};return console.log("Code: "+e),function(t){return t(F()),O.a.post("".concat(n,"/patient/code"),e,{headers:a}).then((function(e){return t(U(e.data))})).catch((function(e){return t(H(e))}))}}})(x),q=n(7),G=n(148),V=n(149),z=n(150),W=n(151),Y=n(152),Z=(n(62),n(67)),J=n.n(Z),Q=n(68),X=n.n(Q);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).patientFormHTML=function(){return r.a.createElement("div",{className:"personalInfo-editable"},r.a.createElement(G.a,null,r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-name"},"Full Name"),r.a.createElement(W.a,{type:"text",name:"name",id:"pi-name",placeholder:"Jon Snow",value:n.state.personalData.name,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-sex"},"Sex"),r.a.createElement(W.a,{type:"select",name:"sex",id:"pi-sex",value:n.state.personalData.sex,onChange:n.onChange},r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Female"),r.a.createElement("option",null,"Other"))),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-dob"},"Birthday"),r.a.createElement(W.a,{type:"date",name:"birthday",id:"pi-dob",value:n.state.personalData.birthday,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-addr"},"Address"),r.a.createElement(W.a,{type:"text",name:"address.street",id:"pi-addr",placeholder:"123 Direwolf Ave",value:n.state.personalData.address.street,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-city"},"City"),r.a.createElement(W.a,{type:"text",name:"city",id:"pi-city",placeholder:"Winterfell",value:n.state.personalData.address.city,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-state"},"State"),r.a.createElement(W.a,{type:"text",name:"state",id:"pi-state",placeholder:"The North",value:n.state.personalData.address.state,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-zip"},"Zip"),r.a.createElement(W.a,{type:"text",name:"zip",id:"pi-zip",placeholder:"12345",value:n.state.personalData.address.zip,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-email"},"Email"),r.a.createElement(W.a,{type:"email",name:"email",id:"pi-email",placeholder:"jon.snow@nightswatch.org",value:n.state.personalData.email,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-phone"},"Phone"),r.a.createElement(W.a,{type:"text",name:"phone",id:"pi-phone",placeholder:"(555) 555-5555",value:n.state.personalData.phone,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-chatname"},"Chat Name"),r.a.createElement(W.a,{type:"text",name:"chatname",id:"pi-chatname",placeholder:"jsnow",value:n.state.personalData.chatname,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-bio"},"Biography"),r.a.createElement(W.a,{type:"textarea",name:"bio",id:"pi-bio",placeholder:"I lived one hell of a life (and death and life). Heir to the Iron Throne but raised as a bastard. I rode a dragon a couple times. Also, I had sex with my aunt, then killed her.",value:n.state.personalData.bio,onChange:n.onChange})),r.a.createElement(Y.a,{onClick:function(){return n.props.onProfileSave(n.state.personalData)}},"Save")))},n.providerFormHTML=function(){return r.a.createElement("div",{className:"personalInfo-editable"},r.a.createElement(G.a,null,r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-name"},"Full Name"),r.a.createElement(W.a,{type:"text",name:"name",id:"pi-name",placeholder:"Jon Snow",value:n.state.personalData.name,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-email"},"Email"),r.a.createElement(W.a,{type:"email",name:"email",id:"pi-email",placeholder:"jon.snow@nightswatch.org",value:n.state.personalData.email,onChange:n.onChange})),r.a.createElement(Y.a,{onClick:function(){return n.props.onProfileSave(n.state.personalData)}},"Save")))},n.editableHTML=function(){return"Patient"===n.props.role?n.patientFormHTML():n.providerFormHTML()},n.patientProfileInfo=function(e){return r.a.createElement("div",{class:"profile-page"},r.a.createElement("div",{align:"center"},r.a.createElement("div",{align:"right"},r.a.createElement(Y.a,{variant:"light",onClick:n.props.onProfileEdit},"Edit Profile",r.a.createElement("img",{src:X.a,width:"35",height:"35"}))),r.a.createElement("img",{class:"profile-picture-onPage",src:J.a}),r.a.createElement("h2",null,e.name)),r.a.createElement("div",null,r.a.createElement("div",{class:"biography",align:"center"},r.a.createElement("div",{class:"biographyHeader"},r.a.createElement("h4",null,"About Me: ")),r.a.createElement("p",null,e.bio," ")),r.a.createElement("div",{class:"userInfo",align:"center"},r.a.createElement("h6",null,"Sex: ",e.sex),r.a.createElement("h6",null,"Birthday: ",e.birthday.split("T")[0]),r.a.createElement("h6",null,"Address: ",e.address.street," ",e.address.city,", ",e.address.state," ",e.address.zip),r.a.createElement("h6",null,"Email: ",e.email),r.a.createElement("h6",null,"Phone: ",e.phone),r.a.createElement("h6",null,"Chat Name: ",e.chatname))))},n.providerProfileInfo=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Name: ",e.name),r.a.createElement("h6",null,"Email: ",e.email))},n.staticHTML=function(){var e=n.props,t=e.personalData;return"Patient"===e.role?r.a.createElement("div",{className:"personalInfo-static",align:"center"},n.patientProfileInfo(t)):r.a.createElement("div",{className:"personalInfo-static"},n.providerProfileInfo(t),r.a.createElement("div",null,r.a.createElement(Y.a,{onClick:n.props.onProfileEdit},"Edit")))},n.onChange=function(e){console.log(n.state.personalData),"street"===e.target.name||"city"===e.target.name||"state"===e.target.name||"zip"===e.target.name?n.setState({personalData:$({},n.state.personalData,{address:$({},n.state.personalData.address,Object(q.a)({},e.target.name,e.target.value))})}):n.setState({personalData:$({},n.state.personalData,Object(q.a)({},e.target.name,e.target.value))})},n.state={personalData:e.personalData},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.editable?this.editableHTML():this.staticHTML()}}]),t}(a.Component),te=(n(122),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).editableHTML=function(){return r.a.createElement("div",{className:"profileModule-content"},r.a.createElement(G.a,null,r.a.createElement(V.a,null,r.a.createElement(W.a,{type:"text",name:"name",id:"form-name",placeholder:"Name",value:n.state.name,onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(W.a,{type:"textarea",name:"content",id:"form-content",placeholder:"Content",value:n.state.content,onChange:n.onChange})),r.a.createElement(Y.a,{onClick:n.onSave},"Save")))},n.onChange=function(e){console.log("onChange"),n.setState(Object(q.a)({},e.target.name,e.target.value))},n.onSave=function(e){console.log("onSave"),n.props.addProfileModule({name:n.state.name,content:n.state.content}),n.setState({editable:!1})},n.staticHTML=function(){return r.a.createElement("div",{className:"profileModule-content"},r.a.createElement("div",null,r.a.createElement("h3",{id:"name"},n.state.name)),r.a.createElement("div",null,r.a.createElement("h4",{id:"content"},n.state.content)))},n.state={name:n.props.name,content:n.props.content,editable:n.props.editable},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){console.log(this.props),console.log(this.state)}},{key:"render",value:function(){var e=this.props.loading,t=this.state.editable;return e?r.a.createElement("div",null,"Loading . . ."):r.a.createElement("div",{className:"profileModule-container"},t?this.editableHTML():this.staticHTML())}}]),t}(a.Component)),ne=Object(f.b)((function(e){return{loading:e.profileState.loading}}),{addProfileModule:function(e){var t=A.getAccessToken,n="".concat(w,"/patient"),a={Authorization:"Bearer ".concat(t())};return function(t){return t(R()),O.a.post("".concat(n,"/patient/modules"),e,{headers:a}).then((function(e){return t(M(e.data))})).catch((function(e){return t(_(e))}))}}})(te),ae=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onProfileSave=function(e){n.props.saveProfile(e,n.state.role)},n.onProfileEdit=function(){n.props.editProfile()},n.profileModulesHTML=function(e){return(e=[].concat.apply([],e)).map((function(e){return r.a.createElement(ne,{name:e.name,content:e.content,editable:n.props.editable})}))},n.state={role:e.roles[0].name},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.personalData,n=e.profileSaving,a=e.error,o=e.editable;return a?r.a.createElement("div",null,"Error: ",a.message):n?r.a.createElement("div",null,"Saving profile . . ."):r.a.createElement("div",{className:"profile-container",align:"center"},r.a.createElement("h1",{class:"header"},"Profile"),r.a.createElement("div",{className:"main",align:"center"},r.a.createElement("div",{className:"personalInfo-container"},r.a.createElement(ee,{personalData:t,onProfileSave:this.onProfileSave,onProfileEdit:this.onProfileEdit,editable:o,role:this.state.role}))))}}]),t}(a.Component),re=Object(f.b)((function(e){return{personalData:e.profileState.profile.personalData,editable:e.profileState.editable,profileLoading:e.profileState.loadingProfile,profileSaving:e.profileState.profileSaving,error:e.profileState.error,roles:e.authState.roles}}),{editProfile:function(){return function(e){e({type:"EDIT_PROFILE"})}},saveProfile:L})(ae),oe=(n(123),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Resources-container"},r.a.createElement("h1",{class:"header"},"Resources"))}}]),t}(a.Component)),ie=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Welcome to the Inbox!")}}]),t}(a.Component),se=function(){return{type:"FETCH_ROLES_BEGIN"}},le=function(e){return{type:"FETCH_ROLES_SUCCESS",payload:{roles:e}}},ce=function(e){return{type:"FETCH_ROLES_FAILURE",payload:{error:e}}};var ue=function(){return{type:"AUTH0_REGISTRATION_BEGIN"}},pe=function(e){return{type:"AUTH0_REGISTRATION_SUCCESS",payload:{userProfile:e}}},de=function(e){return{type:"AUTH0_REGISTRATION_FAILURE",payload:{error:e}}};function he(e,t){var n={authorization:"Bearer ".concat(t),"content-type":"application/json"};return function(t){return t(ue()),O.a.post("https://medlock-dev.auth0.com/api/v2/users",e,{headers:n}).then((function(e){t(pe(e.data))})).catch((function(e){throw console.log("auth0registration: ".concat(e)),t(de(e)),e}))}}var me=function(){return{type:"ASSIGN_ROLES_BEGIN"}},ge=function(e){return{type:"ASSIGN_ROLES_SUCCESS",payload:{role:e}}},fe=function(e){return{type:"ASSIGN_ROLES_FAILURE",payload:{error:e}}};function ye(e,t,n){var a="https://medlock-dev.auth0.com/api/v2/users/".concat(e,"/roles"),r={authorization:"Bearer ".concat(t),"Content-Type":"application/json"},o={};switch(n){case"Patient":o={roles:["rol_3rJHjXxeLiD1ZJLo"]};break;case"Provider":o={roles:["rol_eXgwl6628aJ35Cq4"]}}return function(e){return e(me()),O.a.post(a,o,{headers:r}).then((function(t){e(ge(t.data))})).catch((function(t){console.log(t),e(fe(t))}))}}function ve(){console.log("called function: fetchAMT");var e={"Content-Type":"application/json","Access-Control-Allow-Origin":D};return console.log(e),O.a.post("https://medlock-dev.auth0.com/oauth/token",{client_id:"Wf9NsAneKffcZ8y24IhMzjZ4C3JvIken",client_secret:"sPFQ_UQ1G5e20F87cc2MDU-BDjzG1i9CHEnOISfnuHSgyYGvI_zhXQR5nsZto-tA",audience:"https://medlock-dev.auth0.com/api/v2/",grant_type:"client_credentials"},e)}var Ee=n(80),be=n(153);var Oe=Object(be.d)((function(e){var t=e.component,n=Object(Ee.a)(e,["component"]);return r.a.createElement("div",null,r.a.createElement(be.b,Object.assign({},n,{render:function(e){return A.isAuthenticated()?r.a.createElement(t,n):r.a.createElement(be.a,{to:{pathname:"/",state:{from:e.location}}})}})))})),Se=(n(63),n(28)),we=n.n(Se),De=n(70),Pe=n.n(De),Ae=(n(125),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"UserInfo"},r.a.createElement("div",{className:"dropdown"},this.props.name),r.a.createElement("div",null,r.a.createElement("img",{className:"profile-picture",src:Pe.a,alt:"Profile Picture"})))}}]),t}(a.Component)),Ce=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"add-dispenser-btn",onClick:this.props.displayCodeCallback,style:{cursor:"pointer"}},"+ Add Dispenser")}}]),t}(a.Component),Ie=n(26),je=n.n(Ie),Ne=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).collapsedSideBarJSX=function(){return r.a.createElement("div",{className:"DashHeader"},r.a.createElement("div",{className:"menuIcon-container collapsed",onClick:n.props.toggleSideBar},r.a.createElement("img",{className:"menuIcon",src:je.a})),r.a.createElement("div",{className:"quote"},r.a.createElement("body",null,r.a.createElement("p",null,'"You never know how strong you are until being strong is your only choice."'))),r.a.createElement("div",{className:"AddDispenser-container"},r.a.createElement(Ce,{displayCodeCallback:n.props.displayDispenserCode})),r.a.createElement("div",{className:"UserInfo-container"},r.a.createElement(Ae,{name:n.props.name})))},n.expandedSideBarToggleJSX=function(){return r.a.createElement("div",{className:"DashHeader"},r.a.createElement("div",{className:"menuIcon-container expanded",onClick:n.props.toggleSideBar},r.a.createElement("img",{className:"menuIcon",src:je.a})),r.a.createElement("div",{className:"AddDispenser-container"},r.a.createElement(Ce,{displayCodeCallback:n.props.displayDispenserCode})),r.a.createElement("div",{className:"UserInfo-container"},r.a.createElement(Ae,{name:n.props.name})))},n.expandedSideBarNoToggleJSX=function(){return r.a.createElement("div",{className:"DashHeader"},r.a.createElement("div",null),r.a.createElement("div",{className:"quote"},r.a.createElement("body",null,r.a.createElement("p",null,'"You never know how strong you are until being strong is your only choice."'))),r.a.createElement("div",{className:"AddDispenser-container"},r.a.createElement(Ce,{displayCodeCallback:n.props.displayDispenserCode})),r.a.createElement("div",{className:"UserInfo-container"},r.a.createElement(Ae,{name:n.props.name})))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"DashHeader"},r.a.createElement("div",{className:"AddDispenser-container"},r.a.createElement(Ce,{displayCodeCallback:this.props.displayDispenserCode})),r.a.createElement("div",{className:"UserInfo-container"},r.a.createElement(Ae,{name:this.props.name})))}}]),t}(a.Component),ke=n(71),Te=n.n(ke),Le=n(37),Re=n.n(Le),Me=n(72),_e=n.n(Me),Fe=n(73),Ue=n.n(Fe),He=n(74),xe=n.n(He),Be=n(75),qe=n.n(Be),Ge=[{name:"Dashboard",id:"dashboard",roles:null,content:{icon:Ue.a},link:"/dashboard"},{name:"Inbox",id:"inbox",roles:[{name:"Provider",description:"Access messages from patients and other providers"},{name:"Patient",description:"Access messages from my providers "}],content:{icon:Te.a},link:"/dashboard/inbox"},{name:"My Data",id:"mydata",roles:[{name:"Patient",description:"Track my medication consumption and pain management "}],content:{icon:Re.a},link:"/dashboard/mydata"},{name:"Resources",id:"resources",roles:[{name:"Provider",description:"View resources on the latest opioid regulations "},{name:"Patient",description:"View resources to help maintain sobriety "}],content:{icon:_e.a},link:"/dashboard/resources"},{name:"My Patients",id:"mypatients",roles:[{name:"Provider",description:"View a list of all your patients "}],content:{icon:qe.a},link:"/dashboard/mypatients"},{name:"Profile",id:"profile",roles:[{name:"Patient",description:"View and edit your profile "},{name:"Provider",description:"View and edit your profile "}],content:{icon:xe.a},link:"/dashboard/profile"},{name:"Surveys",id:"surveys",roles:[{name:"Patient",description:"Take surveys"}],content:{icon:Re.a},link:"/dashboard/survey"},{name:"Dispenser",id:"dispenser",roles:[{name:"Patient",description:"Simulate dispenses"}],content:{icon:Re.a},link:"/dashboard/dispenser"}],Ve=(n(126),a.Component,function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.personalData;return r.a.createElement("div",{className:"PersonalDataView"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,"Bio: ",e.bio," "),r.a.createElement("h6",null,"Sex: ",e.sex),r.a.createElement("h6",null,"Birthday: ",e.birthday.split("T")[0]),r.a.createElement("h6",null,"Address: ",e.address.street," ",e.address.city,", ",e.address.state," ",e.address.zip),r.a.createElement("h6",null,"Email: ",e.email),r.a.createElement("h6",null,"Phone: ",e.phone),r.a.createElement("h6",null,"Chat Name: ",e.chatname)))}}]),t}(a.Component)),ze=(n(127),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).route=function(){h.push(n.props.module.link)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ModuleLink",onClick:this.route},r.a.createElement("div",null,r.a.createElement("img",{className:"ModuleLink-icon",src:this.props.module.content.icon})),r.a.createElement("div",{className:"ModuleLink-name"},r.a.createElement("p",null,this.props.module.name)),r.a.createElement("div",null,r.a.createElement("img",{src:""})))}}]),t}(a.Component)),We=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).containsRole=function(e,t){var n=!1;return e.forEach((function(e){e.name===t&&(n=!0)})),n},n.filterModules=function(){var e=n.props.roles[0].name,t=Ge.filter((function(t){return null===t.roles||!!n.containsRole(t.roles,e)}));n.setState({modules:t})},n.sideBarItemsHTML=function(){return r.a.createElement("div",{className:"ModuleLinks-container"},r.a.createElement("h6",{className:"SideBar-subtitle"},"NAVIGATE"),n.state.modules.map((function(e){return r.a.createElement(ze,{module:e})})))},n.expandedSideBar=function(){return n.props.togglable,r.a.createElement("div",{className:"SideBar"},r.a.createElement("div",{className:"logo-container"},r.a.createElement("img",{className:"dash-logo",src:we.a}),r.a.createElement("img",{id:"collapsedMenuItem",src:je.a,onClick:n.props.toggle})),r.a.createElement("div",{className:"SideBar-welcome"},r.a.createElement("h4",null,"Welcome ",r.a.createElement("strong",null,n.props.personalData.name))),n.sideBarItemsHTML(),r.a.createElement("div",{className:"logoutButton-container"},r.a.createElement("button",{className:"logoutButton",onClick:A.logout},"Logout")))},n.collapsedSideBar=function(){return r.a.createElement("div",{className:"Collapsed"},r.a.createElement("img",{id:"collapsedMenuItem",src:je.a,onClick:n.props.toggle}))},n.state={modules:Ge},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.filterModules()}},{key:"render",value:function(){return this.props.collapsed?this.collapsedSideBar():this.expandedSideBar()}}]),t}(a.Component),Ye=Object(be.d)(We),Ze=n(8),Je=function(){return{type:"SUBMIT_PDISURVEY_BEGIN"}},Qe=function(e){return{type:"SUBMIT_PDISURVEY_SUCCESS",payload:{survey:e}}},Xe=function(e){return{type:"SUBMIT_PDISURVEY_FAILURE",payload:{error:e}}};var Ke=function(){return{type:"FETCH_PDISURVEYS_BEGIN"}},$e=function(e){return{type:"FETCH_PDISURVEYS_SUCCESS",payload:{surveys:e}}},et=function(e){return{type:"FETCH_PDISURVEYS_FAILURE",payload:{error:e}}};var tt=function(){return{type:"SUBMIT_INTAKESURVEY_BEGIN"}},nt=function(e){return{type:"SUBMIT_INTAKESURVEY_SUCCESS",payload:{survey:e}}},at=function(e){return{type:"SUBMIT_INTAKESURVEY_FAILURE",payload:{error:e}}};var rt=n(8),ot=function(){return{type:"FETCH_DISPENSER_BEGIN"}},it=function(e){return{type:"FETCH_DISPENSER_SUCCESS",payload:{dispenser:e}}},st=function(e){return{type:"FETCH_DISPENSER_FAILURE",payload:{error:e}}};function lt(e){console.log("fetching dispenser with id: "+e);var t=A.getAccessToken,n=w,a={Authorization:"Bearer ".concat(t())};return function(t){return t(ot()),rt.get("".concat(n,"/dispense?id=")+e,{headers:a}).then((function(e){console.log(e.data),t(it(e.data))})).catch((function(e){return t(st(e))}))}}n(128);var ct=n(13),ut=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSelectChange=function(e){n.setState({surveyIndex:e.target.value})},n.redrawChart=function(){var e=n.getSize();n.setState({width:e.width,height:e.height}),ct.g("#".concat(n.props.id)).remove(),n.drawChart()},n.updateChart=function(){var e=n.state,t=e.svg,a=e.chart,r=e.config,o=n.parseData();a.selectAll("rect").data(o.y).attr("y",(function(e,t){return r.yScale(e)})).attr("height",(function(e,t){return r.canvasHeight-r.yScale(e)})),t.select("#title").text("PDI Survey Response for ".concat(n.formatTimestamp(n.props.data[n.state.surveyIndex].date)))},n.formatTimestamp=function(e){var t=new Date(e);return"".concat(t.getMonth()+1,"-").concat(t.getDate(),"-").concat(t.getFullYear())},n.state={svg:null,chart:null,config:null,surveyIndex:e.data.length-1,width:800,height:300},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,n=this.getSize();this.setState({width:n.width,height:n.height},(function(){t.drawChart()})),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){t.redrawChart()}),200)}))}},{key:"getWidth",value:function(){return this.refs.canvas.parentElement.offsetWidth}},{key:"getHeight",value:function(){return this.refs.canvas.parentElement.offsetHeight}},{key:"getSize",value:function(){var e=this.state.width,t=this.state.height,n=this.getWidth(),a=this.getHeight();return{width:n>500&&n<1e3?n:e,height:a>200&&a<400?a:t}}},{key:"surveySelect",value:function(e){var t=this;return r.a.createElement("select",{onChange:this.onSelectChange},e.map((function(e,n){return n==t.state.surveyIndex?r.a.createElement("option",{selected:"selected",value:n},t.formatTimestamp(e)):r.a.createElement("option",{value:n},t.formatTimestamp(e))})))}},{key:"componentDidUpdate",value:function(e,t){this.state.surveyIndex!=t.surveyIndex&&this.updateChart()}},{key:"parseData",value:function(){return{x:this.props.data[this.state.surveyIndex].responses.map((function(e){return e.question})),y:this.props.data[this.state.surveyIndex].responses.map((function(e){return Number(e.answer)}))}}},{key:"drawChart",value:function(){var e=this.parseData(),t=this.state.height-120,n=this.state.width-120,a=ct.g(this.refs.canvas).append("svg").attr("id",this.props.id).attr("height",this.state.height).attr("width",this.state.width),r=a.append("g").attr("transform","translate(".concat(60,", ").concat(60,")")),o=ct.e().range([t,0]).domain([0,10]);r.append("g").call(ct.b(o));var i=ct.d().range([0,n]).domain(e.x).padding(.2);r.append("g").attr("transform","translate(0, ".concat(t,")")).call(ct.a(i)),r.append("g").attr("class","grid").call(ct.b().scale(o).tickSize(-n,0,0).tickFormat("")),a.append("text").attr("x",-t/2-60).attr("y",25).attr("transform","rotate(-90)").attr("text-anchor","middle").text("Pain Disability Index"),a.append("text").attr("x",n/2+60).attr("y",t+102).attr("text-anchor","middle").text("Categories"),a.append("text").attr("id","title").attr("x",n/2+60).attr("y",40).attr("text-anchor","middle").text("PDI Survey Response for ".concat(this.formatTimestamp(this.props.data[this.state.surveyIndex].date)));var s={xScale:i,yScale:o,canvasHeight:t};r.selectAll().data(e.y).enter().append("rect").attr("x",(function(t,n){return i(e.x[n])})).attr("y",(function(e,t){return o(e)})).attr("height",(function(e,n){return t-o(e)})).attr("width",i.bandwidth()).attr("fill","var(--medlock-blue)"),this.setState({svg:a,chart:r,config:s})}},{key:"render",value:function(){return r.a.createElement("div",{className:"graph-container ".concat(this.props.id)},r.a.createElement("div",{ref:"canvas"}),r.a.createElement("div",null,this.surveySelect(this.props.data.map((function(e){return e.date})))))}}]),t}(a.Component),pt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).tooltipMouseover=function(e,t){var a="".concat(n.formatTime(e));t.html(a).style("left",ct.c.pageX+15+"px").style("top",ct.c.pageY-28+"px").transition().duration(300).style("opacity",1)},n.tooltipMouseout=function(e,t){t.transition().duration(300).style("opacity",0)},n.formatDate=function(e){return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())},n.formatTime=function(e){var t=Math.floor(e/3600),a=Math.floor(e%3600/60);return"".concat(n.addZero(t),":").concat(n.addZero(a))},n.redrawChart=function(){var e=n.getSize();n.setState({width:e.width,height:e.height}),ct.g("#".concat(n.props.id)).remove(),n.drawChart()},n.state={svg:null,chart:null,config:null,width:800,height:300},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,n=this.getSize();this.setState({width:n.width,height:n.height},(function(){t.drawChart()})),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){t.redrawChart()}),200)}))}},{key:"getWidth",value:function(){return this.refs.canvas.parentElement.offsetWidth}},{key:"getHeight",value:function(){return this.refs.canvas.parentElement.offsetHeight}},{key:"getSize",value:function(){var e=this.state.width,t=this.state.height,n=this.getWidth(),a=this.getHeight();return{width:n>500&&n<1e3?n:e,height:a>200&&a<400?a:t}}},{key:"addZero",value:function(e){return e<10?"0"+e:""+e}},{key:"getDateRange",value:function(e){for(var t=[],n=new Date(e[0]),a=new Date(e[e.length-1]),r=n;r<=a;)t.push(this.formatDate(r)),r.setDate(r.getDate()+1)}},{key:"parseData",value:function(e){return e.map((function(e){return e.map((function(e){var t=new Date(e);return["".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()),3600*t.getHours()+60*t.getMinutes()+t.getSeconds()]}))}))}},{key:"flattenData",value:function(e){var t=[];return e.forEach((function(e,n){e.forEach((function(e){t.push([e[0],e[1],n])}))})),t}},{key:"drawChart",value:function(){var e=this,t=this.parseData(this.props.data);t=this.flattenData(t);var n=this.state.height-120,a=this.state.width-120,r=ct.g(this.refs.canvas).append("svg").attr("id",this.props.id).attr("height",this.state.height).attr("width",this.state.width),o=r.append("g").attr("transform","translate(".concat(60,", ").concat(60,")")),i=ct.f().domain([0,86400]).range([n,0]),s=ct.b().scale(i).ticks(8).tickSize(-a,0,0).tickValues([0,10800,21600,32400,43200,54e3,64800,75600,86400]).tickFormat((function(t,n){return e.formatTime(t)})),l=t.map((function(e){return e[0]})).sort();this.getDateRange(l);var c=l,u=ct.d().range([0,a]).domain(c).padding(.2);o.append("g").attr("transform","translate(0, ".concat(n,")")).call(ct.a(u)),o.append("g").attr("class","grid").call(s),r.append("text").attr("x",-n/2-60).attr("y",25).attr("transform","rotate(-90)").attr("text-anchor","middle").text("Time"),r.append("text").attr("x",a/2+60).attr("y",n+102).attr("text-anchor","middle").text("Date"),r.append("text").attr("id","title").attr("x",a/2+60).attr("y",40).attr("text-anchor","middle").text(this.props.title);var p=ct.g(this.refs.canvas).append("div").attr("class","tooltip").style("opacity","0");o.selectAll().data(t).enter().append("circle").attr("cx",(function(e,t){return u(e[0])+u.bandwidth()/2})).attr("cy",(function(e,t){return i(e[1])})).attr("r",5).attr("id",(function(e,t){return"p".concat(t)})).attr("fill",(function(t,n){return e.props.colors[t[2]]})).attr("opacity",.8).on("mouseover",(function(t,n){e.setState({config:{mouseover:n}})}));var d={tooltip:p};this.setState({svg:r,chart:o,config:d})}},{key:"updateChart",value:function(){var e=this,t=this.state,n=t.chart,a=t.config;n&&n.selectAll("circle").on("mouseover",(function(t,r){n.select("#p".concat(r)).transition().duration(500).attr("r",10),e.tooltipMouseover(t[1],a.tooltip)})).on("mouseout",(function(t,r){n.select("#p".concat(r)).transition().duration(500).attr("r",5),e.tooltipMouseout(t[1],a.tooltip)}))}},{key:"componentDidUpdate",value:function(){this.updateChart()}},{key:"render",value:function(){return r.a.createElement("div",{className:"graph-container ".concat(this.props.id)},r.a.createElement("div",{ref:"canvas"}))}}]),t}(a.Component),dt=(n(129),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).graphs=["PDI Surveys, Dispenses, Button Presses"],n.onSelectChange=function(e){n.setState({graph_id:e.target.value})},n.state={graph_id:0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"graphSelect",value:function(){var e=this;return r.a.createElement("select",{onChange:this.onSelectChange},this.graphs.map((function(t,n){return n==e.state.graph_id?r.a.createElement("option",{selected:"selected",value:n},t):r.a.createElement("option",{value:n},t)})))}},{key:"displayGraphs",value:function(){var e=this.props.data,t=e.pdisurveys,n=e.dispenses,a=e.btn1,o=e.btn2,i=e.btn3;return t&&n?r.a.createElement("div",{className:"DataView"},r.a.createElement(pt,{id:"g0",title:"Dispenses",data:[n],colors:["var(--medlock-blue)"]}),r.a.createElement(pt,{id:"g1",title:"Button Presses",data:[a,o,i],colors:["red","blue","green"]}),r.a.createElement(ut,{id:"g2",data:t})):t?r.a.createElement("div",{className:"DataView"},r.a.createElement(ut,{id:"g0",data:t})):n?r.a.createElement("div",{className:"DataView"},r.a.createElement(pt,{id:"g0",title:"Dispenses",data:[n],colors:["var(--medlock-blue)"]}),r.a.createElement(pt,{id:"g1",title:"Button Presses",data:[a,o,i],colors:["red","blue","green"]})):r.a.createElement("h2",null,"There are no data at the moment.")}},{key:"render",value:function(){return this.displayGraphs()}}]),t}(a.Component));function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={retrievedData:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchPDISurveys(),this.props.fetchDispenser(this.props.patient.medicalData.dispenser_id)}},{key:"render",value:function(){var e=this.props,t=e.allPDISurveys,n=e.surveysLoading,a=e.surveysLoaded,o=e.surveyError,i=e.dispenser,s=e.dispenserLoading,l=e.dispenserLoaded,c=e.dispenserError;if(console.log(i),o||c)return r.a.createElement("div",null,r.a.createElement("div",null,"Survey Error: ",o?o.message:null),r.a.createElement("div",null,"Dispense Error: ",c?c.message:null));if(n||s||!a||!l)return r.a.createElement("div",null,"Loading . . . ");var u={};return t&&(u=mt({},u,{pdisurveys:t})),i&&(u=mt({},u,{dispenses:i.events.dispenses,btn1:i.events.btn1,btn2:i.events.btn2,btn3:i.events.btn3})),r.a.createElement("div",{className:"pd-container"},r.a.createElement("h1",{className:"pd-title"},"My Data"),r.a.createElement(dt,{data:u}))}}]),t}(a.Component),ft=Object(f.b)((function(e){return{allPDISurveys:e.surveyState.PDIResponses,surveysLoading:e.surveyState.PDISurveysLoading,surveysLoaded:e.surveyState.PDISurveysLoaded,surveyError:e.surveyState.PDIError,dispenser:e.dispenseState.dispenser,dispenserLoading:e.dispenseState.dispenserLoading,dispenserLoaded:e.dispenseState.dispenserLoaded,dispenserError:e.dispenseState.error}}),{fetchPDISurveys:function(){var e=A.getAccessToken,t=w,n={Authorization:"Bearer ".concat(e())};return function(e){return e(Ke()),Ze.get("".concat(t,"/survey/pdisurvey"),{headers:n}).then((function(t){console.log(t.data),e($e(t.data))})).catch((function(t){return e(et(t))}))}},fetchDispenser:lt})(gt),yt=n(25),vt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={responses:[]},n.onChange=function(e){var t=Object(yt.a)(n.state.responses);t[e.target.id]={question:e.target.name,answer:e.target.value},n.setState({responses:t})},n.onSubmit=function(e){e.preventDefault();var t=Object(yt.a)(n.state.responses);console.log(t),n.props.submitPDISurvey(t)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.surveyResponse,a=t.loading,o=t.error;return o?r.a.createElement("div",null,"Error: ",o.message):a?r.a.createElement("div",null,"Loading . . ."):n?r.a.createElement("div",null,"Your response has been recorded. Thank you."):r.a.createElement("div",{style:{marginBottom:"50px",marginLeft:"20px"}},r.a.createElement("h1",null,"Pain Disability Survey "),r.a.createElement("p",null,"This survey evaluates how much pain affects various aspects of your life. "),r.a.createElement("p",null,"A score of 0 indicates that pain does not affect this aspect of your life. "),r.a.createElement("p",null,"A score of 10 indicates that the pain severly affects this aspect of your life negatively. "),r.a.createElement("p",null,"Leave the question blank if it is not applicable. "),r.a.createElement("form",{onSubmit:this.onSubmit},Et.map((function(t){return r.a.createElement("div",null,r.a.createElement("h3",null,"How does pain affect your ",t.subject,"?"),r.a.createElement("p",null,t.description),r.a.createElement("input",{type:"number",name:t.subject,onChange:e.onChange,id:t.id}))})),r.a.createElement("button",{type:"submit",style:{marginTop:"20px"}},"Submit")))}}]),t}(a.Component),Et=[{id:0,subject:"family",description:"This category refers to activities of the home or family. It includes chores or duties performed around the house (e.g. yard work) and errands or favors for other family members (e.g. driving the children to school)."},{id:1,subject:"recreation",description:"This disability includes hobbies, sports, and other similar leisure time activities."},{id:2,subject:"social activity",description:"This category refers to activities, which involve participation with friends and acquaintances other than family members. It includes parties, theater, concerts, dining out, and other social functions."},{id:3,subject:"occupation",description:"This category refers to activities that are part of or directly related to one\u2019s job. This includes non-paying jobs as well, such as that of a housewife or volunteer."},{id:4,subject:"sexual behavior",description:"This category refers to the frequency and quality of one\u2019s sex life."},{id:5,subject:"self care",description:"This category includes activities, which involve personal maintenance and independent daily living (e.g. taking a shower, driving, getting dressed, etc.)"},{id:6,subject:"life support activities",description:"This category refers to basic life supporting behaviors such as eating, sleeping and breathing."}],bt=Object(f.b)((function(e){return{surveyResponse:e.surveyState.PDISurveyResponse,loading:e.surveyState.PDILoading,error:e.surveyState.PDIError}}),{submitPDISurvey:function(e){var t=A.getAccessToken,n=w,a={Authorization:"Bearer ".concat(t())};return function(t){return t(Je()),Ze.post("".concat(n,"/survey/pdisurvey"),e,{headers:a}).then((function(e){return t(Qe(e.data))})).catch((function(e){return t(Xe(e))}))}}})(vt),Ot=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={question:null,answer:null,showOther:!1},n.onChange=function(e){"_other_"==e.target.value?n.setState({showOther:!n.state.showOther}):(n.setState({id:e.target.id,question:e.target.name,answer:e.target.value}),n.props.onChange(e.target.id,e.target.name,e.target.value))},n.questionHTML=function(){return r.a.createElement("h1",null,n.props.question)},n.responsesHTML=function(e){return r.a.createElement("form",{onChange:n.onChange},n.props.responses.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("input",{name:n.props.question,type:"radio",value:e,id:n.props.id}),e))})),e&&r.a.createElement("p",null,r.a.createElement("input",{name:n.props.question,type:"radio",value:"_other_",id:n.props.id}),"Other:",n.state.showOther&&r.a.createElement("input",{name:n.props.question,type:"text",id:n.props.id,placeholder:"Other . . . "})))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return r.a.createElement("div",null,this.questionHTML(),this.responsesHTML(this.props.other))}}]),t}(a.Component),St=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={question:null,responses:[],showOther:!1},n.onChange=function(e){var t=Object(yt.a)(n.state.responses);"_other_"==e.target.value&&(n.setState({showOther:!n.state.showOther}),t.map((function(e){e.type&&(e.selected=!e.selected,e.answer="")}))),"text"==e.target.type?t.map((function(t){t.type&&(t.answer=e.target.value)})):t.map((function(t){t.answer==e.target.value&&(t.selected=!t.selected)})),n.setState({responses:t});var a=t.filter((function(e){return e.selected})).map((function(e){return e.answer}));n.props.onChange(e.target.id,e.target.name,a)},n.questionHTML=function(){return r.a.createElement("h1",null,n.props.question)},n.responsesHTML=function(e){return r.a.createElement("form",{onChange:n.onChange},n.props.responses.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("input",{name:n.props.question,type:"checkbox",value:e,id:n.props.id}),e))})),e&&r.a.createElement("p",null,r.a.createElement("input",{name:n.props.question,type:"checkbox",value:"_other_",id:n.props.id}),"Other:",n.state.showOther&&r.a.createElement("input",{name:n.props.question,type:"text",id:n.props.id,placeholder:"Other . . . "})))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.responses.map((function(e){return{answer:e,selected:!1}}));this.props.other&&e.push({answer:"",type:"other",selected:!1}),this.setState({responses:e})}},{key:"render",value:function(){return r.a.createElement("div",null,this.questionHTML(),this.responsesHTML(this.props.other))}}]),t}(a.Component),wt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={response:""},n.onChange=function(e){n.setState({response:e.target.value}),n.props.onChange(n.props.id,n.props.question,e.target.value)},n.responseHTML=function(){return r.a.createElement("form",{onChange:n.onChange},r.a.createElement("textarea",{rows:"3",col:"50",placeholder:"Response . . . "}))},n.questionHTML=function(){return r.a.createElement("h1",null,n.props.question)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.questionHTML(),this.responseHTML())}}]),t}(a.Component),Dt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onChange=function(e){n.props.onChange(n.props.id,e.target.name,e.target.value)},n.questionHTML=function(){return r.a.createElement("h1",null,n.props.question)},n.responsesHTML=function(){return r.a.createElement("form",{onChange:n.onChange},r.a.createElement("input",{type:"number",min:n.props.min,max:n.props.max,name:n.props.question}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.questionHTML(),this.responsesHTML())}}]),t}(a.Component),Pt=n(130),At=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={responses:[],questions:[]},n.submitResponses=function(){var e=!0;n.state.responses.length!=n.state.questions.length&&(e=!1),n.state.responses.forEach((function(t,a){t&&t.answer&&""!=t.answer||(e=!1,console.log(t)),console.log(a),"NI"==n.state.questions[a].type&&t&&(t.answer<n.state.questions[a].min||t.answer>n.state.questions[a].max)&&(e=!1)})),e?(console.log("Submit. "),n.props.submitIntakeSurvey(n.state.responses)):console.log("Respond to all the questions. ")},n.onChange=function(e,t,a){var r=Object(yt.a)(n.state.responses);r[e]={question:t,answer:a},n.setState({responses:r})},n.questionsHTML=function(){return r.a.createElement("div",null,n.state.questions.map((function(e){return"MC"==e.type?r.a.createElement(Ot,{question:e.question,responses:e.responses,id:e.id,other:e.other,onChange:n.onChange}):"MS"==e.type?r.a.createElement(St,{question:e.question,responses:e.responses,id:e.id,other:e.other,onChange:n.onChange}):"TI"==e.type?r.a.createElement(wt,{question:e.question,id:e.id,onChange:n.onChange}):"NI"==e.type?r.a.createElement(Dt,{question:e.question,min:e.min,max:e.max,id:e.id,onChange:n.onChange}):void 0})))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("Intake Survey"),console.log(Pt),console.log(Pt[0]),this.setState({questions:Pt})}},{key:"render",value:function(){console.log(this.state);var e=this.props,t=e.surveyResponse,n=e.loading,a=e.error;return n?(console.log(n),r.a.createElement("div",null,r.a.createElement("p",null,"Sending . . . "))):a?(console.log(a),r.a.createElement("div",null,r.a.createElement("p",null,"There was an error in submitting the survey; please try again. "))):t?(console.log(t),r.a.createElement("div",null,r.a.createElement("p",null,"Your responses were submitted. Thank you "))):r.a.createElement("div",null,r.a.createElement("p",null,"Intake Survey"),this.state.questions?this.questionsHTML():r.a.createElement("p",null,"Loading . . . "),r.a.createElement("button",{onClick:this.submitResponses},"Submit"))}}]),t}(a.Component),Ct=Object(f.b)((function(e){return{surveyResponse:e.surveyState.IntakeSurveyResponse,loading:e.surveyState.IntakeLoading,error:e.surveyState.IntakeError}}),{submitIntakeSurvey:function(e){console.log("Intake Survey Actions"),console.log(e);var t=A.getAccessToken,n=w,a={Authorization:"Bearer ".concat(t())};return function(t){return t(tt()),Ze.post("".concat(n,"/survey/intake"),e,{headers:a}).then((function(e){return t(nt(e.data))})).catch((function(e){return t(at(e))}))}}})(At),It=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).surveyLink=function(e){console.log(e),console.log(e.target.value),h.replace(e.target.value)},n.surveysHTML=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Surveys"),r.a.createElement("button",{value:"/dashboard/survey/pdisurvey",onClick:n.surveyLink},"PDI Survey"),r.a.createElement("button",{value:"/dashboard/survey/intake",onClick:n.surveyLink},"Intake Survey"))},n.makeSurveyRoutes=function(e){switch(n.props.location.pathname){case"/dashboard/survey/pdisurvey":return r.a.createElement(Oe,{path:"/dashboard/survey/pdisurvey",component:bt});case"/dashboard/survey/intake":return r.a.createElement(Oe,{path:"/dashboard/survey/intake",component:Ct})}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return r.a.createElement("div",null,"/dashboard/survey"==this.props.location.pathname?this.surveysHTML():this.makeSurveyRoutes(this.props))}}]),t}(a.Component),jt=n(8),Nt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){n.setState(Object(q.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t=new Date;t.setFullYear(parseInt(n.state.date.substring(6,10))),t.setMonth(parseInt(n.state.date.substring(0,2))-1),t.setDate(parseInt(n.state.date.substring(3,5))),t.setUTCHours(parseInt(n.state.time.substring(0,2))+4),t.setMinutes(parseInt(n.state.time.substring(3,5))),console.log(t.toString());var a=t.getTime();console.log(a),console.log(t);var r={id:n.state.id,timestamp:a},o=A.getAccessToken,i={Authorization:"Bearer ".concat(o())};jt.post("".concat("http://localhost:5000/api","/dispense"),r,{headers:i}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},console.log(e),n.state={id:e.profile.medicalData.dispenser_id},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"date",placeholder:"mm/dd/yy",onChange:this.onChange}),r.a.createElement("input",{type:"text",name:"time",placeholder:"hh:mm military time",onChange:this.onChange}),r.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(a.Component),kt=n(8),Tt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).testEndpoint=function(){var e=A.getAccessToken,t={Authorization:"Bearer ".concat(e())};kt.get("http://localhost:5000/api/provider/patients",{headers:t}).then((function(e){return console.log(e)}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"This page tests Server Endpoints. "),r.a.createElement("button",{onClick:this.testEndpoint},"Test Endpoint. "))}}]),t}(a.Component),Lt=(n(131),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.patient,n=e.viewPatient,a=e.deletePatient;return r.a.createElement("div",{className:"PatientListItem-container"},r.a.createElement("div",null,r.a.createElement("h4",null,t.personalData.name)),r.a.createElement("div",null,r.a.createElement(Y.a,{onClick:function(){return n(t)}},"View"),r.a.createElement(Y.a,{onClick:function(){return a(t._id)}},"Delete")))}}]),t}(a.Component)),Rt=(n(132),a.Component,function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){n.setState(Object(q.a)({},e.target.name,e.target.value))},n.state={name:null,email:null},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement(V.a,null,r.a.createElement("br",null),r.a.createElement(z.a,{for:"patient-name",className:"form-heading"},"Name"),r.a.createElement(W.a,{type:"text",name:"name",id:"patient-name",placeholder:"Jon Snow",value:this.state.name,onChange:this.onChange}),r.a.createElement(z.a,{for:"patient-email",className:"form-heading"},"Email"),r.a.createElement(W.a,{type:"email",name:"email",id:"patient-email",placeholder:"jon.snow@nightswatch.org",value:this.state.email,onChange:this.onChange})),r.a.createElement(Y.a,{onClick:function(){return e.props.onSubmit(e.state.name,e.state.email)},id:"register"},"Register")))}}]),t}(a.Component)),Mt=function(){return{type:"CREATE_PROFILE_BEGIN"}},_t=function(e){return{type:"CREATE_PROFILE_SUCCESS",payload:{patient:e}}},Ft=function(e){return{type:"CREATE_PROFILE_FAILURE",payload:{error:e}}};var Ut=function(){return{type:"ADD_PATIENT_BEGIN"}},Ht=function(e){return{type:"ADD_PATIENT_SUCCESS",payload:{allPatients:e}}},xt=function(e){return{type:"ADD_PATIENT_FAILURE",payload:{error:e}}};var Bt=function(){return{type:"REMOVE_PATIENT_BEGIN"}},qt=function(e){return{type:"REMOVE_PATIENT_SUCCESS",payload:{patient:e}}},Gt=function(e){return{type:"REMOVE_PATIENT_FAILURE",payload:{error:e}}};var Vt=function(){return{type:"FETCH_ALL_PATIENTS_BEGIN"}},zt=function(e){return{type:"FETCH_ALL_PATIENTS_SUCCESS",payload:{patients:e}}},Wt=function(e){return{type:"FETCH_ALL_PATIENTS_FAILURE",payload:{error:e}}};var Yt=function(){return{type:"DELETE_PATIENT_BEGIN"}},Zt=function(e){return{type:"DELETE_PATIENT_BEGIN",payload:{patients:e}}},Jt=function(e){return{type:"DELETE_PATIENT_FAILURE",payload:{error:e}}};var Qt=function(){return{type:"FETCH_ALL_PATIENTS_BEGIN"}},Xt=function(e){return{type:"FETCH_ALL_PATIENTS_SUCCESS",payload:{patients:e}}},Kt=function(e){return{type:"FETCH_ALL_PATIENTS_FAILURE",payload:{error:e}}};n(133);function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchDispenser(this.props.patient.medicalData.dispenser_id)}},{key:"render",value:function(){var e=this.props,t=e.patient,n=e.dispenser,a=e.dispenserLoading,o=e.dispenserLoaded,i=e.dispenserError,s=t.medicalData.surveys.pdiSurveys;if(i)return r.a.createElement("div",null,r.a.createElement("div",null,"Dispense Error: ",i.message));if(a||!o)return r.a.createElement("div",null,"Loading . . . ");if(!a&&o&&!n)return r.a.createElement("div",null,"This patient doesn't yet have a dispenser.");var l={};return s&&(l=en({},l,{pdisurveys:s})),n&&(l=en({},l,{dispenses:n.events.dispenses,btn1:n.events.btn1,btn2:n.events.btn2,btn3:n.events.btn3})),r.a.createElement("div",{className:"patientView-container"},r.a.createElement(Ve,{personalData:t.personalData}),r.a.createElement(dt,{data:l}))}}]),t}(a.Component),nn=Object(f.b)((function(e){return{dispenser:e.dispenseState.dispenser,dispenserLoading:e.dispenseState.dispenserLoading,dispenserLoaded:e.dispenseState.dispenserLoaded,dispenserError:e.dispenseState.error}}),{fetchDispenser:lt})(tn),an=n(44),rn=n.n(an),on=(n(137),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){n.setState((function(e){return{dropdownOpen:!e.dropdownOpen}}))},n.state={dropdownOpen:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.viewUser,a=e.deleteUser;return console.log("USER:"),console.log(t),r.a.createElement("div",{className:"UserListItem",onClick:function(){return n(t)}},r.a.createElement("div",{className:"UserListItem-userInfo"},r.a.createElement("div",null,r.a.createElement("h4",null,t.personalData.name)),r.a.createElement("div",null,r.a.createElement("h6",{id:"userid"},"id=",t._id))),r.a.createElement("div",{className:"UserListItem-options"},r.a.createElement("button",{onClick:function(){return n(t)}},"View"),r.a.createElement("button",null,"Edit"),r.a.createElement("button",{onClick:function(){return a(t._id)}},"Delete")))}}]),t}(a.Component));n(138);function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).userHTML=function(e){return n.state.displayedUsers.map((function(e){return r.a.createElement(on,{className:"listItem",user:e,deleteUser:n.props.deleteUser,viewUser:n.props.viewUser})}))},n.onFormChange=function(e){e.preventDefault(),n.setState(ln({},n.state,Object(q.a)({},e.target.name,e.target.value)))},n.onSearchChange=function(e,t){t.preventDefault();var a=n.props.users.filter((function(t){return t.personalData.name.substring(0,e.length)===e||t._id.substring(0,e.length)===e||t.personalData.email.substring(0,e.length)===e}));n.setState({displayedUsers:a})},n.createNewUserForm=function(){if(n.state.createNewUserForm)return r.a.createElement("div",{className:"createNewUserForm"},r.a.createElement(G.a,null,r.a.createElement(V.a,{className:"input-form-group"},r.a.createElement(z.a,{for:"newUserName",className:"form-heading"},"Name: "),r.a.createElement(W.a,{type:"text",name:"newUserName",id:"newUserName",onChange:n.onFormChange})),r.a.createElement(V.a,{className:"input-form-group"},r.a.createElement(z.a,{for:"newUserEmail",className:"form-heading"},"Email: "),r.a.createElement(W.a,{type:"text",name:"newUserEmail",id:"newUserEmail",onChange:n.onFormChange})),r.a.createElement(V.a,null,r.a.createElement(Y.a,{className:"red-button",onClick:function(){n.setState(ln({},n.state,{createNewUserForm:!1}))}},"Cancel"),r.a.createElement(Y.a,{className:"blue-button",onClick:function(){n.setState(ln({},n.state,{createNewUserForm:!1})),n.props.createNewUser(n.state.newUserName,n.state.newUserEmail)}},"Create"))))},n.state={displayedUsers:n.props.users,createNewUserForm:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"UserList"},r.a.createElement("div",{className:"UserList-header"},r.a.createElement("h3",null,this.props.title),r.a.createElement("div",{className:"UserList-ControlPanel"},r.a.createElement("div",{className:"left"},r.a.createElement("button",{className:"create-new-btn",onClick:function(){return e.setState({createNewUserForm:!0})}},"Create New"),r.a.createElement("button",{className:"delete-btn",onClick:function(){return e.props.deleteAllUsers()}},"Delete All")),r.a.createElement("div",{className:"right"},r.a.createElement(rn.a,{onChange:this.onSearchChange})))),this.createNewUserForm(),r.a.createElement("div",{className:"Users-container"},this.userHTML(this.props.users)))}}]),t}(a.Component),un=(n(139),n(8)),pn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).viewPatient=function(e){console.log(e),n.setState({onePatientView:!0,viewedPatient:e}),n.props.history.push("/dashboard/mypatients/viewpatient")},n.onRemovePatient=function(e){n.props.removePatient(e)},n.addPatient=function(){n.setState({newPatientForm:!0})},n.displayNewPatientForm=function(){return n.state.newPatientForm?r.a.createElement("div",null,r.a.createElement(Rt,{onSubmit:n.submitForm})):r.a.createElement("div",null,r.a.createElement(Y.a,{onClick:n.addPatient,id:"register-patient"},"Register Patient"))},n.submitForm=function(e,t){var a=Math.random().toString(36).slice(-12),r={name:e,email:t,password:a,connection:"Username-Password-Authentication"};ve().then((function(a){var o=a.data.access_token;n.props.auth0Registration(r,o).then((function(){alert("Patient Succesfully Added"),n.createPatient(r,o,n.props.userProfile.user_id)})).catch((function(a){console.log("User Registration Error: ".concat(a));var r="".concat(a);console.log(r.includes("409")),r.includes("409")||alert("Failed To Add Patient. Error Code: ".concat(a)),r.includes("409")&&function(e,t){var n="https://medlock-dev.auth0.com/api/v2/users-by-email?email=".concat(e),a={authorization:"Bearer ".concat(t),"content-type":"application/json"};return O.a.get(n,{headers:a})}(t,o).then((function(a){var r=a.data[0].user_id;console.log(r);var o={_id:r.substring(6),personalData:{name:e,email:t},medicalData:{providers:[A.userProfile.sub.substring(6)]}};n.props.createPatientProfile(o)})).then((function(){console.log("successful"),n.props.fetchPatients()}))}))})).then((function(e){n.props.fetchPatients(),e&&console.log(e)})).catch((function(e){alert("Failed To Create Provider. Error Code: ".concat(e)),console.log(e)})),n.setState({newPatientForm:!1})},n.createPatient=function(e,t,a){console.log("Patient registered. Now creating profile . . . ");var r={_id:a.substring(6),personalData:{name:e.name,email:e.email},medicalData:{providers:[A.userProfile.sub.substring(6)]}};n.props.createPatientProfile(r).then((function(){console.log("also successful!"),n.props.fetchPatients()})),n.props.assignRoles(a,t,"Patient"),n.props.patients.push(r);var o="".concat(w,"/email");un.post(o,e)},n.state={newPatientForm:!1,onePatientView:!1,viewedPatient:null},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPatients()}},{key:"render",value:function(){console.log("DISPLAYED PATIENTS:"+this.state.displayedPatients);var e=this.props,t=e.patientRegistering,n=e.registerError,a=e.patientsFetching,o=e.patientsFetched;if(n)return r.a.createElement("div",null,r.a.createElement("p",null,"Register Error: ",n?n.message:null));if(t)return r.a.createElement("div",null,"Registering patient . . .");if(a||!o)return r.a.createElement("div",null,"Loading patients . . .");if(this.state.onePatientView){if(null===this.state.viewedPatient)throw"onePatientView is true, but viewedPatient is null!";return r.a.createElement(nn,{patient:this.state.viewedPatient})}return r.a.createElement("div",{className:"MyPatients"},r.a.createElement(cn,{title:"My Patients",users:this.props.patients,viewUser:this.viewPatient,deleteUser:this.onRemovePatient}),this.displayNewPatientForm())}}]),t}(a.Component),dn=Object(f.b)((function(e){return{patients:e.patientState.patients,patient:e.patientState.patient,patientRegistering:e.patientState.patientLoading,patientsFetching:e.patientState.patientsFetching,patientsFetched:e.patientState.patientsFetched,fetchPatientsError:e.patientState.fetchPatientsError,registerError:e.providerState.registerError,roleAssigning:e.providerState.roleAssigning,roleAssignError:e.providerState.roleAssignError,userProfile:e.authState.userProfile,userProfileLoading:e.authState.userProfileLoading,userProfileError:e.authState.userProfileError,patientRemoving:e.patientState.patientRemoving,lastRemovedPatient:e.patientState.lastRemovedPatient,patientRemoveError:e.patientState.patientRemoveError}}),{auth0Registration:he,assignRoles:ye,createPatientProfile:function(e){var t=A.getAccessToken,n="".concat(w,"/provider/patients"),a={Authorization:"Bearer ".concat(t())};return function(t){return t(Mt()),O.a.post(n,e,{headers:a}).then((function(e){console.log(e.data),t(_t(e.data))})).catch((function(e){return t(Ft(e))}))}},addPatientToProviderList:function(e){var t=A.getAccessToken,n="".concat(w,"/provider/patients"),a={Authorization:"Bearer ".concat(t())};return function(t){return t(Ut()),O.a.post(n,e,{headers:a}).then((function(e){return t(Ht(e.data))})).catch((function(e){console.log(e),t(xt(e))}))}},fetchPatients:function(){var e=A.getAccessToken,t="".concat(w,"/provider/patients"),n={Authorization:"Bearer ".concat(e())};return function(e){return e(Vt()),O.a.get(t,{headers:n}).then((function(t){console.log(t.data),e(zt(t.data))})).catch((function(t){return e(Wt(t))}))}},removePatient:function(e){console.log("remove patient id=".concat(e));var t=A.getAccessToken,n="".concat(w,"/provider/patients"),a={Authorization:"Bearer ".concat(t())};return function(t){return t(Bt()),O.a.delete(n,{headers:a,data:{providerId:A.getProfile().sub.substring(6),patientId:e}}).then((function(e){console.log(e.data),t(qt(e.data))})).catch((function(e){console.log(e),t(Gt(e))}))}}})(pn);function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),n.props.saveProfile(n.state.personalData,n.props.role),function(e){var t={client_id:"Wf9NsAneKffcZ8y24IhMzjZ4C3JvIken",email:e,connection:"Username-Password-Authentication"};O.a.post("https://medlock-dev.auth0.com/dbconnections/change_password",t,{"Content-Headers":"application/json"}).then((function(e){console.log("Reset Password: ".concat(e.data))})).catch((function(e){return console.log(e)}))}(n.props.profile.personalData.email),n.props.toggle()},n.onChange=function(e){"street"===e.target.name||"city"===e.target.name||"state"===e.target.name||"zip"===e.target.name?n.setState({personalData:mn({},n.state.personalData,{address:mn({},n.state.personalData.address,Object(q.a)({},e.target.name,e.target.value))})}):n.setState({personalData:mn({},n.state.personalData,Object(q.a)({},e.target.name,e.target.value))})},console.log(e),n.state={personalData:mn({},e.profile.personalData,{sex:"Other",address:{street:"",city:"",state:"",zip:""}})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement(V.a,{required:!0},r.a.createElement(z.a,{for:"pi-name"},"Full Name"),r.a.createElement(W.a,{type:"text",name:"name",id:"pi-name",placeholder:"Jon Snow",value:this.state.personalData.name,onChange:this.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-sex"},"Sex"),r.a.createElement(W.a,{type:"select",name:"sex",id:"pi-sex",value:this.state.personalData.sex,onChange:this.onChange},r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Female"),r.a.createElement("option",null,"Other"))),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-dob"},"Birthday"),r.a.createElement(W.a,{type:"date",name:"birthday",id:"pi-dob",value:this.state.personalData.birthday,onChange:this.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-addr"},"Address"),r.a.createElement(W.a,{type:"text",name:"street",id:"pi-addr",placeholder:"123 Direwolf Ave",value:this.state.personalData.address.street,onChange:this.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-city"},"City"),r.a.createElement(W.a,{type:"text",name:"city",id:"pi-city",placeholder:"Winterfell",value:this.state.personalData.address.city,onChange:this.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-state"},"State"),r.a.createElement(W.a,{type:"text",name:"state",id:"pi-state",placeholder:"The North",value:this.state.personalData.address.state,onChange:this.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-zip"},"Zip"),r.a.createElement(W.a,{type:"text",name:"zip",id:"pi-zip",placeholder:"12345",value:this.state.personalData.address.zip,onChange:this.onChange})),r.a.createElement(V.a,{required:!0},r.a.createElement(z.a,{for:"pi-email"},"Email"),r.a.createElement(W.a,{type:"email",name:"email",id:"pi-email",placeholder:"jon.snow@nightswatch.org",value:this.state.personalData.email,onChange:this.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-phone"},"Phone"),r.a.createElement(W.a,{type:"text",name:"phone",id:"pi-phone",placeholder:"(555) 555-5555",value:this.state.personalData.phone,onChange:this.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"pi-chatname"},"Chat Name"),r.a.createElement(W.a,{type:"text",name:"chatname",id:"pi-chatname",placeholder:"jsnow",value:this.state.personalData.chatname,onChange:this.onChange})),r.a.createElement(V.a,{required:!0},r.a.createElement(z.a,{for:"pi-bio"},"Biography"),r.a.createElement(W.a,{type:"textarea",name:"bio",id:"pi-bio",placeholder:"I lived one hell of a life (and death and life). Heir to the Iron Throne but raised as a bastard. I rode a dragon a couple times. Also, I had sex with my aunt, then killed her.",value:this.state.personalData.bio,onChange:this.onChange})),r.a.createElement(Y.a,{onClick:this.onSubmit},"Save")))}}]),t}(a.Component),fn=Object(f.b)((function(e){return{AMT:e.authState.AMT,AMTLoading:e.authState.AMTLoading,AMTError:e.authState.AMTError}}),{saveProfile:L})(gn);console.log(A.getProfile());var yn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).displayDispenserCode=function(){console.log("Display Dispenser Code. "),m.a.event({category:"Pop Up Modal",action:"Generated dispenser code from Dashboard",label:"Add Dispenser from Dashboard"}),n.setState({toggleCodeDisplay:!0})},n.hideDispenserCode=function(){n.setState({toggleCodeDisplay:!1})},n.autoCollapseSideBar=function(e){n.props.setSideBarToggle(),e.matches?n.props.collapseSideBar():n.props.expandSideBar()},n.toggleSideBar=function(){n.props.sideBarCollapsed?n.props.expandSideBar():n.props.collapseSideBar()},n.toggleNewUser=function(){n.setState((function(e){return{newUser:!e.newUser}}))},n.dashboardContentStyle=function(){return n.props.sideBarCollapsed?{"grid-column":"1/13"}:{"grid-column":"3/13"}},n.iconHTML=function(e,t){try{return e.filter((function(e){if(!e.roles)return!1;for(var n=0;n<e.roles.length;n++)if(e.roles[n].name===t[0].name)return!0;return!1})).map((function(e){return r.a.createElement("div",{className:"DashIcon-container"},r.a.createElement(g,{name:e.name,id:e.id,roles:e.roles,content:e.content,link:e.link}))}))}catch(n){console.log(n)}return r.a.createElement("div",null,"Loading . . . ")},n.dashboardHTML=function(){return r.a.createElement("div",{className:"DashIcons-container"},n.iconHTML(n.state.icons,n.props.roles))},n.makeMainRoutes=function(e){return r.a.createElement("div",{className:"SecuredRoutes-container"},r.a.createElement(Oe,{path:"/dashboard/profile",personalData:e.profile.personalData,component:re}),r.a.createElement(Oe,{path:"/dashboard/inbox",component:ie}),r.a.createElement(Oe,{path:"/dashboard/mydata",patient:e.profile,component:ft}),r.a.createElement(Oe,{path:"/dashboard/resources",component:oe}),r.a.createElement(Oe,{path:"/dashboard/survey",component:It}),r.a.createElement(Oe,{path:"/dashboard/dispenser",profile:e.profile,component:Nt}),r.a.createElement(Oe,{path:"/dashboard/serverendpoints",component:Tt}),r.a.createElement(Oe,{path:"/dashboard/mypatients",component:dn}))},n.state={profile:{},role:null,icons:Ge,newUser:!1,toggleCodeDisplay:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.matchMedia("(max-width: 1024px)");this.autoCollapseSideBar(t),t.addListener(this.autoCollapseSideBar);var n=A.userProfile;console.log(n.sub.substring(6)),m.a.set({userId:n.sub.substring(6)});m.a.ga();m.a.timing(),ve().then((function(t){var a=t.data.access_token;console.log("AMT: ".concat(a)),e.props.fetchRoles(a).then((function(){console.log(e.props),e.props.loadProfile(e.props.roles[0].name).then((function(){console.log(e.props),"Patient"!==e.props.roles[0].name||e.props.profile.personalData.bio?console.log(n):e.setState({newUser:!0})}))}))}))}},{key:"render",value:function(){var e=this.props,t=e.profile,n=(e.profileLoading,e.profileError),a=e.roles,o=e.rolesLoading,i=e.rolesError;return i||n?r.a.createElement("div",null,r.a.createElement("p",null,"Profile Error: ",n?n.message:null),r.a.createElement("p",null,"Roles Error: ",i?i.message:null)):o?r.a.createElement("div",null,"Roles Loading . . ."):t?this.state.newUser?r.a.createElement(fn,{toggle:this.toggleNewUser,profile:this.props.profile,role:a[0].name}):r.a.createElement("div",{className:"Dashboard"},this.state.toggleCodeDisplay?r.a.createElement("div",{className:"Grey-Layer"}):null,this.state.toggleCodeDisplay?r.a.createElement("div",{className:"DispenserCode-container"},r.a.createElement(B,{hideDispenserCode:this.hideDispenserCode,userProfile:this.props.profile})):null,r.a.createElement("div",{className:"DashHeader-container"},r.a.createElement(Ne,{name:this.props.profile.personalData.name,toggleSideBar:this.toggleSideBar,sideBarCollapsed:this.props.sideBarCollapsed,sideBarToggle:this.props.sideBarToggle,displayDispenserCode:this.displayDispenserCode})),r.a.createElement("div",{className:"SideBar-container"},r.a.createElement(Ye,{roles:this.props.roles,personalData:this.props.profile.personalData,toggle:this.toggleSideBar,togglable:this.sideBarToggle,collapsed:this.props.sideBarCollapsed})),r.a.createElement("div",{className:"Dashboard-content",style:this.dashboardContentStyle()},"/dashboard"===this.props.location.pathname?this.dashboardHTML():this.makeMainRoutes(this.props))):r.a.createElement("div",null,"Profile Loading . . .")}}]),t}(a.Component),vn=Object(f.b)((function(e){return{profile:e.profileState.profile,profileLoading:e.profileState.profileLoading,profileLoaded:e.profileState.profileLoaded,profileError:e.profileState.profileError,roles:e.authState.roles,rolesLoading:e.authState.rolesLoading,rolesError:e.authState.rolesError,sideBarCollapsed:e.sideBarState.collapsed,sideBarToggle:e.sideBarState.toggle}}),{loadProfile:function(e){var t=A.getAccessToken,n=w,a={Authorization:"Bearer ".concat(t())};switch(e){case"Patient":n+="/patient/patient";break;case"Provider":n+="/provider"}return function(e){return e(C()),O.a.get(n,{headers:a}).then((function(t){e(I(t.data))})).catch((function(t){return e(j(t))}))}},fetchRoles:function(e){console.log("action initiated: fetchRoles");var t=A.userProfile.sub,n="https://medlock-dev.auth0.com/api/v2/users/".concat(t,"/roles"),a={authorization:"Bearer ".concat(e)};return function(e){return e(se()),O.a.get(n,{headers:a}).then((function(t){e(le(t.data))})).catch((function(t){e(ce(t))}))}},collapseSideBar:function(){return function(e){return e({type:y})}},expandSideBar:function(){return function(e){return e({type:v})}},setSideBarToggle:function(){return function(e){return e({type:E})}}})(yn),En=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:"",alt:"loading"}))}}]),t}(a.Component),bn=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Home")}}]),t}(a.Component),On=(n(140),n(76)),Sn=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(On.Helmet,null,r.a.createElement("style",null,"body { background-color: var(--medlock-blue); overflow: hidden }")),r.a.createElement("div",{id:"login-logo"},r.a.createElement("img",{className:"login-logo",src:we.a})),r.a.createElement(Y.a,{onClick:A.login,id:"login-button"},"Login"))}}]),t}(a.Component),wn=function(){return{type:"CREATE_PROVIDER_PROFILE_BEGIN"}},Dn=function(e){return{type:"CREATE_PROVIDER_PROFILE_SUCCESS",payload:{provider:e}}},Pn=function(e){return{type:"CREATE_PROVIDER_PROFILE_FAILURE",payload:{error:e}}};var An=function(){return{type:"FETCH_ALL_PROVIDERS_BEGIN"}},Cn=function(e){return{type:"FETCH_ALL_PROVIDERS_SUCCESS",payload:{providers:e}}},In=function(e){return{type:"FETCH_ALL_PROVIDERS_FAILURE",payload:{error:e}}};var jn=function(){return{type:"DELETE_PROVIDER_BEGIN"}},Nn=function(e){return{type:"DELETE_PROVIDER_SUCCESS",payload:{FETCH_ALL_PROVIDERS_BEGIN:"FETCH_ALL_PROVIDERS_BEGIN"}}},kn=function(e){return{type:"DELETE_PROVIDER_FAILURE",payload:{error:e}}};n(65);var Tn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).viewUser=function(e){console.log("Mock Viewing: ".concat(e.personalData.name))},n.deleteUser=function(e){console.log("Mock Deleting: user(id=".concat(e,")"))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"PatientSection"},r.a.createElement("div",{className:"PatientSection-header"},r.a.createElement("h3",{className:"header"},"Patients")),r.a.createElement("div",{className:"ProviderSection-content"},r.a.createElement("div",{className:"patientList-container"},r.a.createElement(cn,{users:this.props.patients,viewUser:this.viewUser,deleteUser:this.props.deletePatient,deleteAllUsers:this.props.deleteAllPatients,createNewUser:this.props.createNewPatient}))))}}]),t}(a.Component);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).viewProvider=function(e){console.log("Mock Viewing: ".concat(e.personalData.name))},n.createNewProviderForm=function(){return n.state.newProviderFormVisible?r.a.createElement(G.a,null,r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"newProviderName",className:"form-heading"},"Name"),r.a.createElement(W.a,{type:"text",name:"newProviderName",id:"newProviderName",onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(z.a,{for:"newProviderEmail",className:"form-heading"},"Email"),r.a.createElement(W.a,{type:"text",name:"newProviderEmail",id:"newProviderEmail",onChange:n.onChange})),r.a.createElement(V.a,null,r.a.createElement(Y.a,{className:"red-button",onClick:function(){n.setState(Rn({},n.state,{newProviderFormVisible:!1}))}},"Cancel"),r.a.createElement(Y.a,{className:"blue-button",onClick:function(){n.setState(Rn({},n.state,{newProviderFormVisible:!1})),n.props.createNewProvider(n.state.newProviderName,n.state.newProviderEmail)}},"Create"))):r.a.createElement(Y.a,{className:"blue-button",onClick:function(){n.setState(Rn({},n.state,{newProviderFormVisible:!0}))}},"Create New Provider")},n.onChange=function(e){e.preventDefault(),n.setState(Rn({},n.state,Object(q.a)({},e.target.name,e.target.value))),console.log(n.state)},n.state={newProviderFormVisible:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ProviderSection"},r.a.createElement("div",{className:"ProviderSection-header"},r.a.createElement("h3",{className:"header"},"Providers")),r.a.createElement("div",{className:"ProviderSection-content"},r.a.createElement("div",{className:"providerList-container"},r.a.createElement(cn,{users:this.props.providers,viewUser:this.viewProvider,deleteUser:this.props.deleteProvider,deleteAllUsers:this.props.deleteAllProviders,createNewUser:this.props.createNewProvider}))))}}]),t}(a.Component);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Fn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,Object(q.a)({},e.target.name,e.target.value))),console.log(n.state)},n.createNewProvider=function(e,t){ve().then((function(a){console.log(a);var r=a.data.access_token,o=Math.random().toString(36).slice(-12),i={name:e,email:t,password:o,connection:"Username-Password-Authentication"};n.props.auth0Registration(i,r).then((function(){n.newProviderEmail(i);var a=n.props.userProfile.user_id;n.props.createProviderProfile({_id:a.substring(6),personalData:{name:e,email:t}},"Admin"),n.props.assignRoles(a,r,"Provider")})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},n.newProviderEmail=function(e){var t="".concat(w,"/email");O.a.post(t,e)},n.deleteAllProviders=function(){var e=n.props.providers.map((function(e){return e._id}));n.props.deleteProvider(e)},n.deletePatient=function(e){n.props.deletePatient([e])},n.deleteProvider=function(e){n.props.deleteProvider([e])},n.deleteAllPatients=function(){var e=n.props.patients.map((function(e){return e._id}));n.props.deletePatient(e)},n.state={},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllPatients(),this.props.fetchAllProviders()}},{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.patients,n=e.patientsFetching,a=(e.patientsFetched,e.fetchPatientsError),o=e.providers,i=e.providersFetching,s=(e.providersFetched,e.fetchProvidersError);return s||a?r.a.createElement("div",null,"PROVIDER: $",s,"PATIENT: $",a):i||n?r.a.createElement("div",null," Loading . . ."):r.a.createElement("div",null,r.a.createElement("div",{className:"Admin-header"},r.a.createElement("h1",{className:"header"},"MedLock Admin")),r.a.createElement("div",{className:"Admin-content"},r.a.createElement(Tn,{patients:t,deletePatient:this.deletePatient,deleteAllPatients:this.deleteAllPatients}),r.a.createElement(Mn,{providers:o,createNewProvider:this.createNewProvider,deleteProvider:this.deleteProvider,deleteAllProviders:this.deleteAllProviders})))}}]),t}(a.Component),Un=Object(f.b)((function(e){return{userProfile:e.authState.userProfile,patients:e.patientState.patients,patientsFetching:e.patientState.patientsFetching,patientsFetched:e.patientState.patientsFetched,fetchPatientsError:e.patientState.fetchPatientsError,providers:e.providerState.providers,providersFetching:e.providerState.providersFetching,providersFetched:e.providerState.providersFetched,fetchProvidersError:e.providerState.providerError,deletedProviders:e.providerState.deletedProviders,deletedPatients:e.patientState.deletedPatients}}),{auth0Registration:he,createProviderProfile:function(e,t){var n=A.getAccessToken,a="";switch(t){case"Admin":a="".concat(w,"/admin/provider");break;case"Provider":a="".concat(w,"/provider");break;default:a="".concat(w,"/provider")}var r={Authorization:"Bearer ".concat(n())};return function(t){return t(wn()),O.a.post(a,e,{headers:r}).then((function(e){alert("Provider Added Successfully"),t(Dn(e.data))})).catch((function(e){alert("Failed To Create Provider. Error Code: ".concat(e)),t(Pn(e))}))}},assignRoles:ye,fetchAllPatients:function(){console.log("FETCHING ALL PATIENTS!!!");var e="".concat(w,"/admin/patient");return console.log(e),function(t){return t(Qt()),O.a.get(e).then((function(e){return t(Xt(e.data))})).catch((function(e){return t(Kt(e))}))}},fetchAllProviders:function(){console.log("FETCHING PROVIDERS");var e="".concat(w,"/admin/provider");return function(t){return t(An()),O.a.get(e).then((function(e){return t(Cn(e.data))})).catch((function(e){return t(In(e))}))}},deleteProvider:function(e){var t="".concat(w,"/admin/provider");return function(n){n(jn()),ve().then((function(a){var r=a.data.access_token;return O.a.delete(t,{data:{AMT:r,ids:e}}).then((function(e){return n(Nn(e.data))})).catch((function(e){return n(kn(e))}))}))}},deletePatient:function(e){var t="".concat(w,"/admin/patient");return function(n){n(Yt()),ve().then((function(a){var r=a.data.access_token;return O.a.delete(t,{data:{AMT:r,ids:e}}).then((function(e){return n(Zt(e.data))})).catch((function(e){return n(Jt(e))}))}))}}})(Fn);m.a.initialize("UA-155183323-1",{debug:!0,titleCase:!1});var Hn=function(){return r.a.createElement("div",null,r.a.createElement(be.b,{exact:!0,path:"/",component:Sn}),r.a.createElement(be.b,{exact:!0,path:"/admin",component:Un}),r.a.createElement(Oe,{path:"/home",component:bn}),r.a.createElement(Oe,{path:"/dashboard",component:vn}),r.a.createElement(be.b,{path:"/callback",render:function(e){var t;return/access_token|id_token|error/.test((t=e).location.hash)&&(console.log(t),console.log(t.location.hash),console.log(/access_token|id_token|error/.test(t.location.hash)),A.handleAuthentication()),r.a.createElement(En,e)}}))},xn=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return h.listen((function(e,t){console.log(e),m.a.set({page:e.pathname}),m.a.pageview(e.pathname)})),r.a.createElement("div",{className:"App"},Hn())}}]),t}(a.Component),Bn=Object(be.d)(xn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qn=n(22),Gn=n(77),Vn=n(78),zn=n(79);function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zn={profile:null,editable:!1,profileLoading:!1,profileLoaded:!1,profileCreated:!1,profileCreating:!1,profileCreateError:null,profileSaving:!1,addingNewProfileModule:!1,profileError:null,profileModules:[],code:null,codeAdding:!1,codeAddedError:null};function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xn={PDISurveyResponse:null,PDIResponses:[],PDISurveysLoading:!1,PDISurveysLoaded:!1,PDILoading:!1,PDIError:null,IntakeLoading:!1,IntakeError:null,IntakeSurveyResponse:null};function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ea={dispenser:{},dispenses:[],loading:!1,dispenserLoading:!1,dispenserLoaded:!1,error:null};function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var aa={roles:null,rolesLoading:!1,rolesError:null,AMT:null,AMTLoading:!1,AMTError:null,userProfile:null,userProfileLoading:!1,userProfileError:null};function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ia={provider:null,providers:[],providerLoading:!1,providersFetching:!1,providersFetched:!1,providerDeleting:!1,deletedProviders:[],providerError:null};function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ca={patients:[],patient:null,patientsFetching:!1,patientsFetched:!1,fetchPatientsError:null,patientDeleting:!1,deletedPatients:null,deletePatientError:null,patientRegistering:!1,createPatientError:null,newAddedPatient:null,addPatientLoading:!1,addPatientError:null,patientRemoving:!1,lastRemovedPatient:null,patientRemoveError:null};function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var da={collapsed:!1,toggle:!1},ha=Object(qn.combineReducers)({profileState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_PROFILE_BEGIN":return Yn({},e,{profileLoading:!0});case"LOAD_PROFILE_SUCCESS":return Yn({},e,{profileLoading:!1,profileLoaded:!0,profile:t.payload.profile});case"LOAD_PROFILE_FAILURE":return Yn({},e,{profileLoading:!1,profileLoaded:!0,profileError:t.payload.error});case"EDIT_PROFILE":return Yn({},e,{editable:!0});case"SAVE_PROFILE_BEGIN":return Yn({},e,{editable:!1,profileSaving:!0,profileError:null});case"SAVE_PROFILE_SUCCESS":return Yn({},e,{profileSaving:!1,profile:{personalData:t.payload.updatedPersonalData}});case"SAVE_PROFILE_FAILURE":return Yn({},e,{profileSaving:!1,error:t.payload.error});case"ADD_PROFILE_MODULE_BEGIN":return Yn({},e,{editable:!1,addingNewProfileModule:!0});case"ADD_PROFILE_MODULE_SUCCESS":return Yn({},e,{addingNewProfileModule:!1,profileModule:t.payload.newProfileModule});case"ADD_PROFILE_MODULE_FAILURE":return Yn({},e,{addingNewProfileModule:!1,profileError:t.payload.error});case"ADD_DISPNESER_CODE_BEGIN":return console.log("Begin adding code. "),Yn({},e,{codeAdding:!0});case"ADD_DISPNESER_CODE_SUCCESS":return console.log("Success adding code. "),Yn({},e,{codeAdding:!1,code:t.payload.code});case"ADD_DISPNESER_CODE_FAILURE":return console.log("Failure adding code. "),Yn({},e,{codeAdding:!1,codeAddedError:t.payload.error});default:return e}},surveyState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_PDISURVEY_BEGIN":return Qn({},e,{PDILoading:!0,PDIError:null});case"SUBMIT_PDISURVEY_SUCCESS":return Qn({},e,{PDILoading:!1,PDISurveyResponse:t.payload.survey});case"SUBMIT_PDISURVEY_FAILURE":return Qn({},e,{PDILoading:!1,PDIError:t.payload.error});case"FETCH_PDISURVEYS_BEGIN":return Qn({},e,{PDISurveysLoading:!0,PDIError:null});case"FETCH_PDISURVEYS_SUCCESS":return Qn({},e,{PDISurveysLoading:!1,PDISurveysLoaded:!0,PDIResponses:t.payload.surveys});case"FETCH_PDISURVEYS_FAILURE":return Qn({},e,{PDILoading:!1,PDIError:t.payload.error,PDIResponses:[]});case"SUBMIT_INTAKESURVEY_BEGIN":return Qn({},e,{IntakeLoading:!0,IntakeError:null});case"SUBMIT_INTAKESURVEY_SUCCESS":return Qn({},e,{IntakeLoading:!1,IntakeSurveyResponse:t.payload.survey});case"SUBMIT_INTAKESURVEY_FAILURE":return Qn({},e,{IntakeLoading:!1,IntakeError:t.payload.error});default:return e}},dispenseState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DISPENSER_BEGIN":return $n({},e,{dispenserLoading:!0,error:null});case"FETCH_DISPENSER_SUCCESS":return $n({},e,{dispenserLoading:!1,dispenserLoaded:!0,dispenser:t.payload.dispenser});case"FETCH_DISPENSER_FAILURE":return $n({},e,{dispenserLoading:!1,dispenserLoaded:!0,error:t.payload.error});default:return e}},authState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ROLES_BEGIN":return na({},e,{rolesLoading:!0,rolesError:null});case"FETCH_ROLES_SUCCESS":return na({},e,{rolesLoading:!1,roles:t.payload.roles});case"FETCH_ROLES_FAILURE":return na({},e,{rolesLoading:!1,rolesError:t.payload.error,roles:{}});case"AUTH0_REGISTRATION_BEGIN":return na({},e,{userProfileLoading:!0,userProfileError:null});case"AUTH0_REGISTRATION_SUCCESS":return na({},e,{userProfileLoading:!1,userProfile:t.payload.userProfile});case"AUTH0_REGISTRATION_FAILURE":return na({},e,{userProfileLoading:!1,userProfileError:t.payload.error});default:return e}},providerState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROVIDER_PROFILE_BEGIN":return oa({},e,{providerLoading:!0,providerError:null});case"CREATE_PROVIDER_PROFILE_SUCCESS":return oa({},e,{providerLoading:!1,provider:t.payload.provider});case"CREATE_PROVIDER_PROFILE_FAILURE":return oa({},e,{providerLoading:!1,providerError:t.payload.error});case"FETCH_ALL_PROVIDERS_BEGIN":return oa({},e,{providersFetching:!0});case"FETCH_ALL_PROVIDERS_SUCCESS":return oa({},e,{providersFetching:!1,providersFetched:!0,providers:t.payload.providers});case"FETCH_ALL_PROVIDERS_FAILURE":return oa({},e,{providersFetching:!1,providersFetched:!1,providerError:t.payload.error});case"DELETE_PROVIDER_BEGIN":return oa({},e,{providerDeleting:!0});case"DELETE_PROVIDER_SUCCESS":return oa({},e,{providerDeleting:!1,deletedProviders:t.payload.providers});case"DELETE_PROVIDER_FAILURE":return oa({},e,{providerDeleting:!1,providerError:t.payload.error});default:return e}},patientState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROFILE_BEGIN":return la({},e,{patientRegistering:!0,createPatientError:null});case"CREATE_PROFILE_SUCCESS":return la({},e,{patientRegistering:!1,patient:t.payload.patient});case"CREATE_PROFILE_FAILURE":return la({},e,{patientRegistering:!1,createPatientError:t.payload.error});case"ADD_PATIENT_BEGIN":return la({},e,{addPatientLoading:!0,addPatientError:null});case"ADD_PATIENT_SUCCESS":return la({},e,{addPatientLoading:!1,newAddedPatient:t.payload.patient});case"ADD_PATIENT_FAILURE":return la({},e,{addPatientLoading:!1,addPatientError:t.payload.error});case"FETCH_ALL_PATIENTS_BEGIN":return la({},e,{patientsFetching:!0,fetchPatientsError:null});case"FETCH_ALL_PATIENTS_SUCCESS":return la({},e,{patientsFetching:!1,patientsFetched:!0,patients:t.payload.patients});case"FETCH_ALL_PATIENTS_FAILURE":return la({},e,{patientsFetching:!1,fetchPatientsError:t.payload.error});case"DELETE_PATIENT_BEGIN":return la({},e,{patientDeleting:!0});case"DELETE_PATIENT_BEGIN":return la({},e,{patientDeleting:!1,deletedPatients:t.payload.patients});case"DELETE_PATIENT_FAILURE":return la({},e,{patientDeleting:!1,deletePatientError:t.payload.error});case"FETCH_ALL_PATIENTS_BEGIN":return la({},e,{patientsFetching:!0});case"FETCH_ALL_PATIENTS_SUCCESS":return la({},e,{patientsFetching:!1,patientsFetched:!0,patients:t.payload.patients});case"FETCH_ALL_PATIENTS_FAILURE":return la({},e,{patientsFetching:!1,patientsFetched:!1,patients:t.payload.error});case"REMOVE_PATIENT_BEGIN":return la({},e,{patientRemoving:!0});case"REMOVE_PATIENT_SUCCESS":return la({},e,{patientRemoving:!1,lastRemovedPatient:t.payload.patient});case"REMOVE_PATIENT_FAILURE":return la({},e,{patientRemoving:!1,patientRemoveError:t.payload.error});default:return e}},sideBarState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return pa({},e,{collapsed:!0});case v:return pa({},e,{collapsed:!1});case E:return pa({},e,{toggle:!e.toggle});default:return e}}}),ma=[Vn.a,zn.a],ga=Object(qn.createStore)(ha,{user:{name:"John",bio:"Born and raised in Alabama. 40 years old."},editable:!1,profileModules:[{question:"Question",answer:"Answer"}]},Object(Gn.composeWithDevTools)(qn.applyMiddleware.apply(void 0,ma)));n(146);i.a.render(r.a.createElement(f.a,{store:ga},r.a.createElement(be.c,{history:h},r.a.createElement(Bn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,t,n){e.exports=n.p+"static/media/round-menu-24px.d2ea5a07.svg"},28:function(e,t,n){e.exports=n.p+"static/media/white-logo.39f19165.png"},37:function(e,t,n){e.exports=n.p+"static/media/round-timeline-24px.63e4e48c.svg"},53:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){e.exports=n.p+"static/media/profile_pic.87fea0b9.jpg"},68:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGYmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA4LTA1VDExOjE0OjU4LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wOC0wNVQxMTozMDozNy0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wOC0wNVQxMTozMDozNy0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MDk5MDYyYy0yZmZjLTBlNDMtOWM0ZS1jYjJiM2FhMTJjZGYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozZTJhNjA3Ni0xNWRlLTBmNDMtYmUyZS0zNjEzMjMwZWQzMDgiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjN2E4MDNmOC1lZjliLWFkNDItOWRiMC00MzZhYzc3NzJmZDUiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmM3YTgwM2Y4LWVmOWItYWQ0Mi05ZGIwLTQzNmFjNzc3MmZkNSIgc3RFdnQ6d2hlbj0iMjAxOS0wOC0wNVQxMToxNDo1OC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYwOTkwNjJjLTJmZmMtMGU0My05YzRlLWNiMmIzYWExMmNkZiIgc3RFdnQ6d2hlbj0iMjAxOS0wOC0wNVQxMTozMDozNy0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pqzfe2cAAAcySURBVHic7Z3PaxNpGMe/ibWVUmyskt+RVltYlgWzUERk1WwPZY9F1oW9rAHPQpXdw8Ieuh4EsWtOi/RUBRv7Q/CgoNBD2tiaphpaEbH5MYnsH7D25KGRnT1kQtPJTDLNvDPzZHy/8FA6nbzvM8+n7/s87zszrUMURXDRkdNqB7j2igMhJg6EmDgQYuJAiIkDISYOhJg4EGLiQIiJAyEmDoSYOBBi4kCIiQMhJg6EmDr0NuBwOFj40Yr6JQsDcEnHtgFsAvggmenSfX9JFEVdZrLCAGIASgDEJlaSzg2b6aDueLYJkAiABJpDULOE1IbhsjsQFyq/5a2CkFsMu9ObIbIzEBeADbCDUbUNGAjFrkBcMAaG4VDsCMQFY2EYCsWOQB7DeBhVe8zaebsBGYN5MKo2xvIC9MbToTeojBeGJVQWe2bqA4ABVo3pjSelrZMozIcBqc+oBf0qitII2YDJq+oabQL4lkVDuuNJBEg/KtOVlRoAg/0vu0xZEasdAA0fyAA5ZbUDoOEDGSBhqx0ADR/IAOGSxIEQEwdCTFSAbFvtAGj4QAbIG6sdAA0fyADZtNoB0PCBzErdBeAji4Z06AgYTFt2WalvA7hnYf/3wHNIne5/oX3vFbEbVAmYf4MqwfIC7HaDqh/m7/oy2eWtyi45pKoPAK6Z2N81WPTIqaqITVlVTcP4qWraCMft9pBDrYyEYggMwN5AAGAC7GFMGOmw3YEAlTt5JegHUQIQ0Xu9Rls7AKkq2iKYEoCo1YHWatTKXi0KA7gsfY2onLOEyt7UfVEUN413iZ3aEYiiTB6thonaOsR0ORwOXaamq1ev/hqNRv9cW1vz7suhNsohDWWF/0rtFQqFDo/Hk4aU7xwOR+np06ff2DGpN5TZ/iu1JQiC0+fzpSArLJxOp/D8+fOvOBATgRSLRWcwGHwBlWrvwIEDwuLi4iAHwth/pTZWVlaCSiNDbk6nU3j27FnDkcKBMOjj7t27P0D7Gqn05MkT1ZzCgTBqPxaLjWEfUFZXV/1K7bTTOiSMyr33iPT9Kai/I7iN3adIlgBsiyoLRC3+K8Xo9evXxz59+tR9/vz5f6rHYrHYxevXr/8FDe+5XLp0aXJ+fv43xc4IjpAIgHFU3gHcALuNxQ2pzXFI+1rNpHTNuVyus6urKwuglEqlvLU/m5yc/BHNR0rpypUrf1CessJSkBIagsraElLfYblTStcrL217enrerq+vu2vPuXXr1k9oAMXj8aQp5pAwtP/dErOsJPn0tRqMQCCwKv9cb2/vm1evXh2rPff27duKIyUQCKwKguCkAsSFyq4ty2mIOZS5ubnT8ussFovOUCikus7o7e19k8lk+mo/c+fOnYu1UEKh0ItGMMwE4kLlxtBHAgFvCOPRo0fDSiPj+PHjy80+f/jw4Too1err6NGjmWYwzALSDiBEAKX5+fm6kaE2TalZT0/PW/n0NTU1NSo/ZgWQCGjlh4YwHj58eEZ+bdlstlPLClxu3d3d7+TVl+Z4GgRkgkCQNcOIx+NnlWC43e60nnYTiUQ/BSDTBIKsOWgPHjz4Tn5NhUKhw+v17ntk1Fp3d/e7dDrtthpIW8FQGhnFYnFfOUPJ/H7/aj6f77B6yooRCLJmGGqlbaMtdC0WDAablrZmAIkQCLJmGHpK20amZZ1hFpAEgUBrgrGwsFAHo1AodLAYGcViURcMVkD6CQRaE4zZ2dm60jaXy7VU2taa3+9vuB1iNpAxAsFuCmNmZqYugW9tbR3SWdqKHo8nXSgUWkrgRgGZIBDwfcPI5/PVp0N0wdja2jrECsaXAES1tPX7/bpKW5/Pl8rlcp0sYdgdiGLOEASh4a6tFgsGgy+UpqlMJtPLgajAUNso1AtDrbRdWFgYBjDOgSjAUCptBUHQvegLhUKKpe3c3NxpVDZSJzgQGQylFXg+n+/QmzPUStt4PH4Wu7vaJIBECIAQAZRu3Ljxi9y/bDbbqXej0Ov1ppRyxszMTC0MEcAYBSAAgVuyo6OjU3Lfah58brldt9udzmazddWUAowNvbFkCcRlNRT56Hj//v0hvStwn8+XUoIxOzt7Rg4DgIsFENYPyo3Bmr9duJ3L5f4eGhoqVw+MjIxMJxKJaKsNBoPBlaWlpe9Pnjz5ufZ4JpM5Mjw8fBm7D+ktiaK41Go/dWJBlaINDg4uosWR0WjX1uj46f6nYFTV1dW108rnQqHQyvLy8oWBgYH/5D8z47FZ277S5nA46gLaTIFA4KWVMAAbA9mvvF7vmtUwAA4EAODxeNaTyeQFeQIHzH/L2LZAyuVyp5bzvF7vWjKZPDc0NFSXc6x45du2Sb1cLje9tkAg8DKZTJ47ceKEpdPUnn71rkOoanp6eiQej/988ODBz06nc0/Ad3Z2Ovv6+v69efPm73phsI6fbYG0q2ybQ9pVHAgxcSDExIEQEwdCTBwIMXEgxPQ/zib+T1oRORkAAAAASUVORK5CYII="},70:function(e,t,n){e.exports=n.p+"static/media/profile_pic.87fea0b9.jpg"},71:function(e,t,n){e.exports=n.p+"static/media/round-email-24px.89e15cd4.svg"},72:function(e,t,n){e.exports=n.p+"static/media/round-folder-24px.e371ccf8.svg"},73:function(e,t,n){e.exports=n.p+"static/media/round-home-24px.3472f751.svg"},74:function(e,t,n){e.exports=n.p+"static/media/round-person-24px.59b22f67.svg"},75:function(e,t,n){e.exports=n.p+"static/media/round-people-24px.98e4e4b3.svg"},90:function(e,t,n){e.exports=n(147)},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[90,1,2]]]);
//# sourceMappingURL=main.ebb1544b.chunk.js.map